var SimpleWebRTC=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=88)}([function(e,t,n){"use strict";e.exports=n(55)},function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return rt}),n.d(t,"c",function(){return ye}),n.d(t,"a",function(){return Qe});var r=n(20),i=n.n(r),o=n(43),a=n.n(o),s=n(0),c=n.n(s),u=n(44),l=n(13),d=n(21),p=(n(9),n(54)),f=n(53),h=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},w=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},x=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},S=function(e){return"object"===(void 0===e?"undefined":m(e))&&e.constructor===Object},_=Object.freeze([]),k=Object.freeze({});function C(e){return"function"==typeof e}function E(e){return e.displayName||e.name||"Component"}function T(e){return e&&"string"==typeof e.styledComponentId}var P=void 0!==e&&(e.env.REACT_APP_SC_ATTR||e.env.SC_ATTR)||"data-styled",R="undefined"!=typeof window&&"HTMLElement"in window,A="boolean"==typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||void 0!==e&&(e.env.REACT_APP_SC_DISABLE_SPEEDY||e.env.SC_DISABLE_SPEEDY)||!1,j={};var O=function(e){function t(n){g(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=x(this,e.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/packages/styled-components/src/utils/errors.md#"+n+" for more information."+(i.length>0?" Additional arguments: "+i.join(", "):"")));return x(a)}return y(t,e),t}(Error),I=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,M=function(e){var t=""+(e||""),n=[];return t.replace(I,function(e,t,r){return n.push({componentId:t,matchIndex:r}),e}),n.map(function(e,r){var i=e.componentId,o=e.matchIndex,a=n[r+1];return{componentId:i,cssFromDOM:a?t.slice(o,a.matchIndex):t.slice(o)}})},D=/^\s*\/\/.*$/gm,N=new i.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),L=new i.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),F=[],U=function(e){if(-2===e){var t=F;return F=[],t}},B=a()(function(e){F.push(e)}),q=void 0,z=void 0,V=void 0,W=function(e,t,n){return t>0&&-1!==n.slice(0,t).indexOf(z)&&n.slice(t-z.length,t)!==z?"."+q:e};L.use([function(e,t,n){2===e&&n.length&&n[0].lastIndexOf(z)>0&&(n[0]=n[0].replace(V,W))},B,U]),N.use([B,U]);function H(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"&",i=e.join("").replace(D,""),o=t&&n?n+" "+t+" { "+i+" }":i;return q=r,z=t,V=new RegExp("\\"+z+"\\b","g"),L(n||!t?"":t,o)}var G=function(){return n.nc},$=function(e,t,n){n&&((e[t]||(e[t]=Object.create(null)))[n]=!0)},Q=function(e,t){e[t]=Object.create(null)},Y=function(e){return function(t,n){return void 0!==e[t]&&e[t][n]}},K=function(e){var t="";for(var n in e)t+=Object.keys(e[n]).join(" ")+" ";return t.trim()},J=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets.length,n=0;n<t;n+=1){var r=document.styleSheets[n];if(r.ownerNode===e)return r}throw new O(10)},X=function(e,t,n){if(!t)return!1;var r=e.cssRules.length;try{e.insertRule(t,n<=r?n:r)}catch(e){return!1}return!0},Z=function(e){return"\n/* sc-component-id: "+e+" */\n"},ee=function(e,t){for(var n=0,r=0;r<=t;r+=1)n+=e[r];return n},te=function(e,t){return function(n){var r=G();return"<style "+[r&&'nonce="'+r+'"',P+'="'+K(t)+'"','data-styled-version="4.3.2"',n].filter(Boolean).join(" ")+">"+e()+"</style>"}},ne=function(e,t){return function(){var n,r=((n={})[P]=K(t),n["data-styled-version"]="4.3.2",n),i=G();return i&&(r.nonce=i),c.a.createElement("style",b({},r,{dangerouslySetInnerHTML:{__html:e()}}))}},re=function(e){return function(){return Object.keys(e)}},ie=function(e){return document.createTextNode(Z(e))},oe=function e(t,n){var r=void 0===t?Object.create(null):t,i=void 0===n?Object.create(null):n,o=function(e){var t=i[e];return void 0!==t?t:i[e]=[""]},a=function(){var e="";for(var t in i){var n=i[t][0];n&&(e+=Z(t)+n)}return e};return{clone:function(){var t=function(e){var t=Object.create(null);for(var n in e)t[n]=b({},e[n]);return t}(r),n=Object.create(null);for(var o in i)n[o]=[i[o][0]];return e(t,n)},css:a,getIds:re(i),hasNameForId:Y(r),insertMarker:o,insertRules:function(e,t,n){o(e)[0]+=t.join(" "),$(r,e,n)},removeRules:function(e){var t=i[e];void 0!==t&&(t[0]="",Q(r,e))},sealed:!1,styleTag:null,toElement:ne(a,r),toHTML:te(a,r)}},ae=function(e,t,n,r,i){if(R&&!n){var o=function(e,t,n){var r=document.createElement("style");r.setAttribute(P,""),r.setAttribute("data-styled-version","4.3.2");var i=G();if(i&&r.setAttribute("nonce",i),r.appendChild(document.createTextNode("")),e&&!t)e.appendChild(r);else{if(!t||!e||!t.parentNode)throw new O(6);t.parentNode.insertBefore(r,n?t:t.nextSibling)}return r}(e,t,r);return A?function(e,t){var n=Object.create(null),r=Object.create(null),i=void 0!==t,o=!1,a=function(t){var i=r[t];return void 0!==i?i:(r[t]=ie(t),e.appendChild(r[t]),n[t]=Object.create(null),r[t])},s=function(){var e="";for(var t in r)e+=r[t].data;return e};return{clone:function(){throw new O(5)},css:s,getIds:re(r),hasNameForId:Y(n),insertMarker:a,insertRules:function(e,r,s){for(var c=a(e),u=[],l=r.length,d=0;d<l;d+=1){var p=r[d],f=i;if(f&&-1!==p.indexOf("@import"))u.push(p);else{f=!1;var h=d===l-1?"":" ";c.appendData(""+p+h)}}$(n,e,s),i&&u.length>0&&(o=!0,t().insertRules(e+"-import",u))},removeRules:function(a){var s=r[a];if(void 0!==s){var c=ie(a);e.replaceChild(c,s),r[a]=c,Q(n,a),i&&o&&t().removeRules(a+"-import")}},sealed:!1,styleTag:e,toElement:ne(s,n),toHTML:te(s,n)}}(o,i):function(e,t){var n=Object.create(null),r=Object.create(null),i=[],o=void 0!==t,a=!1,s=function(e){var t=r[e];return void 0!==t?t:(r[e]=i.length,i.push(0),Q(n,e),r[e])},c=function(){var t=J(e).cssRules,n="";for(var o in r){n+=Z(o);for(var a=r[o],s=ee(i,a),c=s-i[a];c<s;c+=1){var u=t[c];void 0!==u&&(n+=u.cssText)}}return n};return{clone:function(){throw new O(5)},css:c,getIds:re(r),hasNameForId:Y(n),insertMarker:s,insertRules:function(r,c,u){for(var l=s(r),d=J(e),p=ee(i,l),f=0,h=[],m=c.length,g=0;g<m;g+=1){var v=c[g],b=o;b&&-1!==v.indexOf("@import")?h.push(v):X(d,v,p+f)&&(b=!1,f+=1)}o&&h.length>0&&(a=!0,t().insertRules(r+"-import",h)),i[l]+=f,$(n,r,u)},removeRules:function(s){var c=r[s];if(void 0!==c){var u=i[c];!function(e,t,n){for(var r=t-n,i=t;i>r;i-=1)e.deleteRule(i)}(J(e),ee(i,c)-1,u),i[c]=0,Q(n,s),o&&a&&t().removeRules(s+"-import")}},sealed:!1,styleTag:e,toElement:ne(c,n),toHTML:te(c,n)}}(o,i)}return oe()},se=/\s+/,ce=void 0;ce=R?A?40:1e3:-1;var ue=0,le=void 0,de=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R?document.head:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var n=t.tags[0];return t.importRuleTag=ae(t.target,n?n.styleTag:null,t.forceServer,!0)},ue+=1,this.id=ue,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!R||this.forceServer)return this;var e=[],t=[],n=!1,r=document.querySelectorAll("style["+P+'][data-styled-version="4.3.2"]'),i=r.length;if(!i)return this;for(var o=0;o<i;o+=1){var a=r[o];n||(n=!!a.getAttribute("data-styled-streamed"));for(var s,c=(a.getAttribute(P)||"").trim().split(se),u=c.length,l=0;l<u;l+=1)s=c[l],this.rehydratedNames[s]=!0;t.push.apply(t,M(a.textContent)),e.push(a)}var d=t.length;if(!d)return this;var p=this.makeTag(null);!function(e,t,n){for(var r=0,i=n.length;r<i;r+=1){var o=n[r],a=o.componentId,s=o.cssFromDOM,c=N("",s);e.insertRules(a,c)}for(var u=0,l=t.length;u<l;u+=1){var d=t[u];d.parentNode&&d.parentNode.removeChild(d)}}(p,e,t),this.capacity=Math.max(1,ce-d),this.tags.push(p);for(var f=0;f<d;f+=1)this.tagMap[t[f].componentId]=p;return this},e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];le=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map(function(e){for(var n=e.getIds(),r=e.clone(),i=0;i<n.length;i+=1)t.tagMap[n[i]]=r;return r}),t.rehydratedNames=b({},this.rehydratedNames),t.deferred=b({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach(function(e){e.sealed=!0})},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return ae(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!t.sealed)return t;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=ce,n=this.makeTag(n),this.tags.push(n)),this.tagMap[e]=n},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var n=this.tagMap[e];return void 0!==n&&n.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,n){for(var r=this.clones,i=0;i<r.length;i+=1)r[i].inject(e,t,n);var o=this.getTagForId(e);if(void 0!==this.deferred[e]){var a=this.deferred[e].concat(t);o.insertRules(e,a,n),this.deferred[e]=void 0}else o.insertRules(e,t,n)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,this.deferred[e]=void 0}},e.prototype.toHTML=function(){return this.tags.map(function(e){return e.toHTML()}).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map(function(t,n){var r="sc-"+e+"-"+n;return Object(s.cloneElement)(t.toElement(),{key:r})})},v(e,null,[{key:"master",get:function(){return le||(le=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),pe=function(){function e(t,n){var r=this;g(this,e),this.inject=function(e){e.hasNameForId(r.id,r.name)||e.inject(r.id,r.rules,r.name)},this.toString=function(){throw new O(12,String(r.name))},this.name=t,this.rules=n,this.id="sc-keyframes-"+t}return e.prototype.getName=function(){return this.name},e}(),fe=/([A-Z])/g,he=/^ms-/;function me(e){return e.replace(fe,"-$1").toLowerCase().replace(he,"-ms-")}var ge=function(e){return null==e||!1===e||""===e},ve=function e(t,n){var r=[];return Object.keys(t).forEach(function(n){if(!ge(t[n])){if(S(t[n]))return r.push.apply(r,e(t[n],n)),r;if(C(t[n]))return r.push(me(n)+":",t[n],";"),r;r.push(me(n)+": "+(i=n,null==(o=t[n])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||i in u.a?String(o).trim():o+"px")+";")}var i,o;return r}),n?[n+" {"].concat(r,["}"]):r};function be(e,t,n){if(Array.isArray(e)){for(var r,i=[],o=0,a=e.length;o<a;o+=1)null!==(r=be(e[o],t,n))&&(Array.isArray(r)?i.push.apply(i,r):i.push(r));return i}return ge(e)?null:T(e)?"."+e.styledComponentId:C(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:be(e(t),t,n):e instanceof pe?n?(e.inject(n),e.getName()):e:S(e)?ve(e):e.toString();var s}function ye(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return C(e)||S(e)?be(h(_,[e].concat(n))):be(h(e,n))}function we(e){for(var t,n=0|e.length,r=0|n,i=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return((r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16))^r>>>15)>>>0}var xe=52,Se=function(e){return String.fromCharCode(e+(e>25?39:97))};function _e(e){var t="",n=void 0;for(n=e;n>xe;n=Math.floor(n/xe))t=Se(n%xe)+t;return Se(n%xe)+t}function ke(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(Array.isArray(r)&&!ke(r,t))return!1;if(C(r)&&!T(r))return!1}return!t.some(function(e){return C(e)||function(e){for(var t in e)if(C(e[t]))return!0;return!1}(e)})}var Ce,Ee=!1,Te=function(e){return _e(we(e))},Pe=function(){function e(t,n,r){g(this,e),this.rules=t,this.isStatic=!Ee&&ke(t,n),this.componentId=r,de.master.hasId(r)||de.master.deferredInject(r,[])}return e.prototype.generateAndInjectStyles=function(e,t){var n=this.isStatic,r=this.componentId,i=this.lastClassName;if(R&&n&&"string"==typeof i&&t.hasNameForId(r,i))return i;var o=be(this.rules,e,t),a=Te(this.componentId+o.join(""));return t.hasNameForId(r,a)||t.inject(this.componentId,H(o,"."+a,void 0,r),a),this.lastClassName=a,a},e.generateName=function(e){return Te(e)},e}(),Re=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k,r=!!n&&e.theme===n.theme;return e.theme&&!r?e.theme:t||n.theme},Ae=/[[\].#*$><+~=|^:(),"'`-]+/g,je=/(^-|-$)/g;function Oe(e){return e.replace(Ae,"-").replace(je,"")}function Ie(e){return"string"==typeof e&&!0}var Me={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDerivedStateFromProps:!0,propTypes:!0,type:!0},De={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ne=((Ce={})[l.ForwardRef]={$$typeof:!0,render:!0},Ce),Le=Object.defineProperty,Fe=Object.getOwnPropertyNames,Ue=Object.getOwnPropertySymbols,Be=void 0===Ue?function(){return[]}:Ue,qe=Object.getOwnPropertyDescriptor,ze=Object.getPrototypeOf,Ve=Object.prototype,We=Array.prototype;function He(e,t,n){if("string"!=typeof t){var r=ze(t);r&&r!==Ve&&He(e,r,n);for(var i=We.concat(Fe(t),Be(t)),o=Ne[e.$$typeof]||Me,a=Ne[t.$$typeof]||Me,s=i.length,c=void 0,u=void 0;s--;)if(u=i[s],!(De[u]||n&&n[u]||a&&a[u]||o&&o[u])&&(c=qe(t,u)))try{Le(e,u,c)}catch(e){}return e}return e}var Ge=Object(s.createContext)(),$e=Ge.Consumer,Qe=function(e){function t(n){g(this,t);var r=x(this,e.call(this,n));return r.getContext=Object(d.a)(r.getContext.bind(r)),r.renderInner=r.renderInner.bind(r),r}return y(t,e),t.prototype.render=function(){return this.props.children?c.a.createElement(Ge.Consumer,null,this.renderInner):null},t.prototype.renderInner=function(e){var t=this.getContext(this.props.theme,e);return c.a.createElement(Ge.Provider,{value:t},c.a.Children.only(this.props.children))},t.prototype.getTheme=function(e,t){if(C(e))return e(t);if(null===e||Array.isArray(e)||"object"!==(void 0===e?"undefined":m(e)))throw new O(8);return b({},t,e)},t.prototype.getContext=function(e,t){return this.getTheme(e,t)},t}(s.Component),Ye=(function(){function e(){g(this,e),this.masterSheet=de.master,this.instance=this.masterSheet.clone(),this.sealed=!1}e.prototype.seal=function(){if(!this.sealed){var e=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(e,1),this.sealed=!0}},e.prototype.collectStyles=function(e){if(this.sealed)throw new O(2);return c.a.createElement(Je,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.seal(),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.seal(),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new O(3)}}(),Object(s.createContext)()),Ke=Ye.Consumer,Je=function(e){function t(n){g(this,t);var r=x(this,e.call(this,n));return r.getContext=Object(d.a)(r.getContext),r}return y(t,e),t.prototype.getContext=function(e,t){if(e)return e;if(t)return new de(t);throw new O(4)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.sheet,r=e.target;return c.a.createElement(Ye.Provider,{value:this.getContext(n,r)},t)},t}(s.Component),Xe={};var Ze=function(e){function t(){g(this,t);var n=x(this,e.call(this));return n.attrs={},n.renderOuter=n.renderOuter.bind(n),n.renderInner=n.renderInner.bind(n),n}return y(t,e),t.prototype.render=function(){return c.a.createElement(Ke,null,this.renderOuter)},t.prototype.renderOuter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de.master;return this.styleSheet=e,this.props.forwardedComponent.componentStyle.isStatic?this.renderInner():c.a.createElement($e,null,this.renderInner)},t.prototype.renderInner=function(e){var t=this.props.forwardedComponent,n=t.componentStyle,r=t.defaultProps,i=(t.displayName,t.foldedComponentIds),o=t.styledComponentId,a=t.target,c=void 0;c=n.isStatic?this.generateAndInjectStyles(k,this.props):this.generateAndInjectStyles(Re(this.props,e,r)||k,this.props);var u=this.props.as||this.attrs.as||a,l=Ie(u),d={},f=b({},this.attrs,this.props),h=void 0;for(h in f)"forwardedComponent"!==h&&"as"!==h&&("forwardedRef"===h?d.ref=f[h]:"forwardedAs"===h?d.as=f[h]:l&&!Object(p.a)(h)||(d[h]=f[h]));return this.props.style&&this.attrs.style&&(d.style=b({},this.attrs.style,this.props.style)),d.className=Array.prototype.concat(i,this.props.className,o,this.attrs.className,c).filter(Boolean).join(" "),Object(s.createElement)(u,d)},t.prototype.buildExecutionContext=function(e,t,n){var r=this,i=b({},t,{theme:e});return n.length?(this.attrs={},n.forEach(function(e){var t,n=e,o=!1,a=void 0,s=void 0;for(s in C(n)&&(n=n(i),o=!0),n)a=n[s],o||!C(a)||(t=a)&&t.prototype&&t.prototype.isReactComponent||T(a)||(a=a(i)),r.attrs[s]=a,i[s]=a}),i):i},t.prototype.generateAndInjectStyles=function(e,t){var n=t.forwardedComponent,r=n.attrs,i=n.componentStyle;n.warnTooManyClasses;return i.isStatic&&!r.length?i.generateAndInjectStyles(k,this.styleSheet):i.generateAndInjectStyles(this.buildExecutionContext(e,t,r),this.styleSheet)},t}(s.Component);function et(e,t,n){var r=T(e),i=!Ie(e),o=t.displayName,a=void 0===o?function(e){return Ie(e)?"styled."+e:"Styled("+E(e)+")"}(e):o,s=t.componentId,u=void 0===s?function(e,t,n){var r="string"!=typeof t?"sc":Oe(t),i=(Xe[r]||0)+1;Xe[r]=i;var o=r+"-"+e.generateName(r+i);return n?n+"-"+o:o}(Pe,t.displayName,t.parentComponentId):s,l=t.ParentComponent,d=void 0===l?Ze:l,p=t.attrs,h=void 0===p?_:p,m=t.displayName&&t.componentId?Oe(t.displayName)+"-"+t.componentId:t.componentId||u,g=r&&e.attrs?Array.prototype.concat(e.attrs,h).filter(Boolean):h,v=new Pe(r?e.componentStyle.rules.concat(n):n,g,m),y=void 0,x=function(e,t){return c.a.createElement(d,b({},e,{forwardedComponent:y,forwardedRef:t}))};return x.displayName=a,(y=c.a.forwardRef(x)).displayName=a,y.attrs=g,y.componentStyle=v,y.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):_,y.styledComponentId=m,y.target=r?e.target:e,y.withComponent=function(e){var r=t.componentId,i=w(t,["componentId"]),o=r&&r+"-"+(Ie(e)?e:Oe(E(e)));return et(e,b({},i,{attrs:g,componentId:o,ParentComponent:d}),n)},Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Object(f.a)(e.defaultProps,t):t}}),y.toString=function(){return"."+y.styledComponentId},i&&He(y,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,styledComponentId:!0,target:!0,withComponent:!0}),y}var tt=function(e){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;if(!Object(l.isValidElementType)(n))throw new O(1,String(n));var i=function(){return t(n,r,ye.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,b({},r,i))},i.attrs=function(i){return e(t,n,b({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(et,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){tt[e]=tt(e)});var nt=function(){function e(t,n){g(this,e),this.rules=t,this.componentId=n,this.isStatic=ke(t,_),de.master.hasId(n)||de.master.deferredInject(n,[])}return e.prototype.createStyles=function(e,t){var n=H(be(this.rules,e,t),"");t.inject(this.componentId,n)},e.prototype.removeStyles=function(e){var t=this.componentId;e.hasId(t)&&e.remove(t)},e.prototype.renderStyles=function(e,t){this.removeStyles(t),this.createStyles(e,t)},e}();function rt(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=ye.apply(void 0,[e].concat(n)),o="sc-global-"+we(JSON.stringify(i)),a=new nt(i,o),s=function(e){function t(n){g(this,t);var r=x(this,e.call(this,n)),i=r.constructor,o=i.globalStyle,a=i.styledComponentId;return R&&(window.scCGSHMRCache[a]=(window.scCGSHMRCache[a]||0)+1),r.state={globalStyle:o,styledComponentId:a},r}return y(t,e),t.prototype.componentWillUnmount=function(){window.scCGSHMRCache[this.state.styledComponentId]&&(window.scCGSHMRCache[this.state.styledComponentId]-=1),0===window.scCGSHMRCache[this.state.styledComponentId]&&this.state.globalStyle.removeStyles(this.styleSheet)},t.prototype.render=function(){var e=this;return c.a.createElement(Ke,null,function(t){e.styleSheet=t||de.master;var n=e.state.globalStyle;return n.isStatic?(n.renderStyles(j,e.styleSheet),null):c.a.createElement($e,null,function(t){var r=e.constructor.defaultProps,i=b({},e.props);return void 0!==t&&(i.theme=Re(e.props,t,r)),n.renderStyles(i,e.styleSheet),null})})},t}(c.a.Component);return s.globalStyle=a,s.styledComponentId=o,s}R&&(window.scCGSHMRCache={});t.d=tt}).call(this,n(5))},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return c}),n.d(t,"__metadata",function(){return u}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return d}),n.d(t,"__exportStar",function(){return p}),n.d(t,"__values",function(){return f}),n.d(t,"__read",function(){return h}),n.d(t,"__spread",function(){return m}),n.d(t,"__spreadArrays",function(){return g}),n.d(t,"__await",function(){return v}),n.d(t,"__asyncGenerator",function(){return b}),n.d(t,"__asyncDelegator",function(){return y}),n.d(t,"__asyncValues",function(){return w}),n.d(t,"__makeTemplateObject",function(){return x}),n.d(t,"__importStar",function(){return S}),n.d(t,"__importDefault",function(){return _});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},r.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach(function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)}),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10)})}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},r.getIceParameters=function(e,t){var n=r.splitLines(e);return{usernameFragment:(n=n.concat(r.splitLines(t))).filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:n.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var o=n[i],a=r.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=r.parseRtpMap(a),c=r.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?r.parseFmtp(c[0]):{},s.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(r.parseExtmap(e))}),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)});var i=0;return t.codecs.forEach(function(e){e.maxptime>i&&(i=e.maxptime)}),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach(function(e){n+=r.writeExtmap(e)}),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=s.length>0&&s[0].ssrc,u=r.matchPrefix(e,"a=ssrc-group:FID").map(function(e){return e.substr(17).split(" ").map(function(e){return parseInt(e,10)})});u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),i.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(r.rtx={ssrc:t}),n.push(r),o&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},n.push(r))}}),0===n.length&&c&&n.push({ssrc:c});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach(function(e){e.maxBitrate=l})),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=r.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=r},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,d=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&f())}function f(){if(!l){var e=s(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var u=c.length,l=h(c,u);for(n=0;n<u;++n)o(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(c=new Error(t.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){e.exports=n(59)()},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(68),i=n(69),o=n(70);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var d=!0,p=0;p<c;p++)if(u(e,o+p)!==u(t,p)){d=!1;break}if(d)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function y(e,t,n,r){return z(B(t,e.length-n),e,n,r)}function w(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return z(q(t),e,n,r)}function _(e,t,n,r){return z(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,c,u=e[i],l=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=e.slice(t,n),d=0;d<s;++d)if(u[d]!==l[d]){o=u[d],a=l[d];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=U(e[o]);return i}function A(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,o){return o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:B(new c(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(4))},function(e,t,n){"use strict";var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function o(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(e,t,n){var r,i,a,s;if("string"==typeof t&&(i="not ",t.substr(!a||a<0?0:+a,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(r," ").concat(o(t,"type"));else{var c=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(c," ").concat(r," ").concat(o(t,"type"))}return s+=". Received type ".concat(typeof n)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},function(e,t,n){"use strict";(function(t){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var i=n(35),o=n(39);n(8)(u,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var c=a[s];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||t.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,n(5))},function(e,t,n){"use strict";e.exports=n(61)},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(56)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));t.default=(e=>i.default.createElement("svg",Object.assign({viewBox:"0 0 24 24",width:"1em",height:"1em"},e),i.default.createElement("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"}),i.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(72),i=n(77);function o(e,t,n){const r=new i(t);return n&&n===e||c(r,"xmlns",e),r}function a(e,t,n){const r=[],i=e.getElementsByTagName(n);for(let n=0,o=i.length;n<o;n++){const o=i[n];o.namespaceURI===t&&o.parentNode===e&&r.push(o)}return r}function s(e,t,n){return e.getAttribute(t)||n||""}function c(e,t,n,r){n||r?e.setAttribute(t,n):e.removeAttribute(t)}function u(e,t,n,r,i){const s=a(e,t,n);if(s.length)for(let e=0;e<s.length;e++){if(i)return void s[e].setAttribute(r,i);s[e].removeAttribute(r)}else i&&((n=o(t,n,e.namespaceURI)).setAttribute(r,i),e.appendChild(n))}function l(e,t,n,r){const i=a(e,t,n);return r=r||"",i.length&&i[0].textContent||r}function d(e,t,n,r){const i=a(e,t,n);if(i.length)for(let t=0;t<i.length;t++)e.removeChild(i[t]);if(r){const i=o(t,n,e.namespaceURI);!0!==r&&(i.textContent=r),e.appendChild(i)}}function p(e,t,n,r){const i=a(e,t,n),o=[];r=r||function(e){return e.textContent||""};for(let e=0;e<i.length;e++)o.push(r(i[e]));return o}function f(e,t,n,r,i){const s=a(e,t,n);let c,u,l=[];for(i=i||function(r){if(r){const i=o(t,n,e.namespaceURI);i.textContent=r,e.appendChild(i)}},l="string"==typeof r?(r||"").split("\n"):r,c=0,u=s.length;c<u;c++)e.removeChild(s[c]);for(c=0,u=l.length;c<u;c++)i(l[c])}t.XML_NS="http://www.w3.org/XML/1998/namespace",t.parse=function(e){const t=r(e,{Element:i});if(1===t.nodeType)return t},t.createElement=o,t.find=a,t.findOrCreate=function(e,t,n){const r=a(e,t,n);if(r.length)return r[0];{const r=o(t,n,e.namespaceURI);return e.appendChild(r),r}},t.getAttribute=s,t.getAttributeNS=function(e,t,n,r){return e.getAttributeNS(t,n)||r||""},t.setAttribute=c,t.setAttributeNS=function(e,t,n,r,i){r||i?e.setAttributeNS(t,n,r):e.removeAttributeNS(t,n)},t.getBoolAttribute=function(e,t,n){const r=e.getAttribute(t)||n||"";return"true"===r||"1"===r},t.setBoolAttribute=function(e,t,n){n?e.setAttribute(t,"1"):e.removeAttribute(t)},t.getSubAttribute=function(e,t,n,r,i){const o=a(e,t,n);if(!o)return"";for(let e=0;e<o.length;e++)return o[e].getAttribute(r)||i||"";return""},t.setSubAttribute=u,t.getBoolSubAttribute=function(e,t,n,r,i){const o=e.getSubAttribute(t,n,r)||i||"";return"true"===o||"1"===o},t.setBoolSubAttribute=function(e,t,n,r,i){u(e,t,n,r,i=i?"1":"")},t.getText=function(e){return e.textContent},t.setText=function(e,t){e.textContent=t},t.getSubText=l,t.getTextSub=l,t.setSubText=d,t.setTextSub=d,t.getMultiSubText=p,t.setMultiSubText=f,t.getMultiSubAttribute=function(e,t,n,r){return p(e,t,n,function(e){return s(e,r)})},t.setMultiSubAttribute=function(e,t,n,r,i){f(e,t,n,i,function(i){const a=o(t,n,e.namespaceURI);c(a,r,i),e.appendChild(a)})},t.getSubLangText=function(e,n,r,i){const o=a(e,n,r);if(!o.length)return{};let s,c;const u={},l=[];for(let e=0;e<o.length;e++)s=(c=o[e]).getAttributeNS(t.XML_NS,"lang")||i,l.push(s),u[s]=c.textContent||"";return u},t.setSubLangText=function(e,n,r,i,s){let c,u;const l=a(e,n,r);if(l.length)for(let t=0;t<l.length;t++)e.removeChild(l[t]);if("string"==typeof i)(c=o(n,r,e.namespaceURI)).textContent=i,e.appendChild(c);else if("object"==typeof i)for(u in i)i.hasOwnProperty(u)&&(c=o(n,r,e.namespaceURI),u!==s&&c.setAttributeNS(t.XML_NS,"lang",u),c.textContent=i[u],e.appendChild(c))},t.getBoolSub=function(e,t,n){return!!a(e,t,n).length},t.setBoolSub=function(e,t,n,r){const i=a(e,t,n);if(i.length)for(let t=0;t<i.length;t++){if(r)return;e.removeChild(i[t])}else if(r){const r=o(t,n,e.namespaceURI);e.appendChild(r)}}},function(e,t,n){"use strict";var r=n(11).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){s=!1,u=!0,a||o.call(t)},d=t._readableState&&t._readableState.endEmitted,p=function(){a=!1,d=!0,s||o.call(t)},f=function(e){o.call(t,e)},h=function(){var e;return a&&!d?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",h),t.req?m():t.on("request",m)):s&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",p),t.on("finish",l),!1!==n.error&&t.on("error",f),t.on("close",h),function(){t.removeListener("complete",l),t.removeListener("abort",h),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",p),t.removeListener("error",f),t.removeListener("close",h)}}},function(e,t,n){"use strict";var r=n(13),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=f(n);i&&i!==h&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),m=c(n),g=0;g<a.length;++g){var v=a[g];if(!(o[v]||r&&r[v]||m&&m[v]||s&&s[v])){var b=p(n,v);try{u(t,v,b)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";(function(e,r){var i,o=n(42);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(o.a)(i);t.a=a}).call(this,n(4),n(62)(e))},function(e,t,n){e.exports=function e(t){"use strict";var n=/^\0+/g,r=/[\0\r\f]/g,i=/: */g,o=/zoo|gra/,a=/([,: ])(transform)/g,s=/,+\s*(?![^(]*[)])/g,c=/ +\s*(?![^(]*[)])/g,u=/ *[\0] */g,l=/,\r+?/g,d=/([\t\r\n ])*\f?&/g,p=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,f=/\W+/g,h=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,g=/:(read-only)/g,v=/\s+(?=[{\];=:>])/g,b=/([[}=:>])\s+/g,y=/(\{[^{]+?);(?=\})/g,w=/\s{2,}/g,x=/([^\(])(:+) */g,S=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,C=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,P=/([^-])(image-set\()/,R="-webkit-",A="-moz-",j="-ms-",O=59,I=125,M=123,D=40,N=41,L=91,F=93,U=10,B=13,q=9,z=64,V=32,W=38,H=45,G=95,$=42,Q=44,Y=58,K=39,J=34,X=47,Z=62,ee=43,te=126,ne=0,re=12,ie=11,oe=107,ae=109,se=115,ce=112,ue=111,le=105,de=99,pe=100,fe=112,he=1,me=1,ge=0,ve=1,be=1,ye=1,we=0,xe=0,Se=0,_e=[],ke=[],Ce=0,Ee=null,Te=-2,Pe=-1,Re=0,Ae=1,je=2,Oe=3,Ie=0,Me=1,De="",Ne="",Le="";function Fe(e,t,i,o,a){for(var s,c,l=0,d=0,p=0,f=0,v=0,b=0,y=0,w=0,S=0,k=0,C=0,E=0,T=0,P=0,G=0,we=0,ke=0,Ee=0,Te=0,Pe=i.length,Be=Pe-1,Ge="",$e="",Qe="",Ye="",Ke="",Je="";G<Pe;){if(y=i.charCodeAt(G),G===Be&&d+f+p+l!==0&&(0!==d&&(y=d===X?U:X),f=p=l=0,Pe++,Be++),d+f+p+l===0){if(G===Be&&(we>0&&($e=$e.replace(r,"")),$e.trim().length>0)){switch(y){case V:case q:case O:case B:case U:break;default:$e+=i.charAt(G)}y=O}if(1===ke)switch(y){case M:case I:case O:case J:case K:case D:case N:case Q:ke=0;case q:case B:case U:case V:break;default:for(ke=0,Te=G,v=y,G--,y=O;Te<Pe;)switch(i.charCodeAt(Te++)){case U:case B:case O:++G,y=v,Te=Pe;break;case Y:we>0&&(++G,y=v);case M:Te=Pe}}switch(y){case M:for(v=($e=$e.trim()).charCodeAt(0),C=1,Te=++G;G<Pe;){switch(y=i.charCodeAt(G)){case M:C++;break;case I:C--;break;case X:switch(b=i.charCodeAt(G+1)){case $:case X:G=He(b,G,Be,i)}break;case L:y++;case D:y++;case J:case K:for(;G++<Be&&i.charCodeAt(G)!==y;);}if(0===C)break;G++}switch(Qe=i.substring(Te,G),v===ne&&(v=($e=$e.replace(n,"").trim()).charCodeAt(0)),v){case z:switch(we>0&&($e=$e.replace(r,"")),b=$e.charCodeAt(1)){case pe:case ae:case se:case H:s=t;break;default:s=_e}if(Te=(Qe=Fe(t,s,Qe,b,a+1)).length,Se>0&&0===Te&&(Te=$e.length),Ce>0&&(s=Ue(_e,$e,Ee),c=We(Oe,Qe,s,t,me,he,Te,b,a,o),$e=s.join(""),void 0!==c&&0===(Te=(Qe=c.trim()).length)&&(b=0,Qe="")),Te>0)switch(b){case se:$e=$e.replace(_,Ve);case pe:case ae:case H:Qe=$e+"{"+Qe+"}";break;case oe:Qe=($e=$e.replace(h,"$1 $2"+(Me>0?De:"")))+"{"+Qe+"}",Qe=1===be||2===be&&ze("@"+Qe,3)?"@"+R+Qe+"@"+Qe:"@"+Qe;break;default:Qe=$e+Qe,o===fe&&(Ye+=Qe,Qe="")}else Qe="";break;default:Qe=Fe(t,Ue(t,$e,Ee),Qe,o,a+1)}Ke+=Qe,E=0,ke=0,P=0,we=0,Ee=0,T=0,$e="",Qe="",y=i.charCodeAt(++G);break;case I:case O:if((Te=($e=(we>0?$e.replace(r,""):$e).trim()).length)>1)switch(0===P&&((v=$e.charCodeAt(0))===H||v>96&&v<123)&&(Te=($e=$e.replace(" ",":")).length),Ce>0&&void 0!==(c=We(Ae,$e,t,e,me,he,Ye.length,o,a,o))&&0===(Te=($e=c.trim()).length)&&($e="\0\0"),v=$e.charCodeAt(0),b=$e.charCodeAt(1),v){case ne:break;case z:if(b===le||b===de){Je+=$e+i.charAt(G);break}default:if($e.charCodeAt(Te-1)===Y)break;Ye+=qe($e,v,b,$e.charCodeAt(2))}E=0,ke=0,P=0,we=0,Ee=0,$e="",y=i.charCodeAt(++G)}}switch(y){case B:case U:if(d+f+p+l+xe===0)switch(k){case N:case K:case J:case z:case te:case Z:case $:case ee:case X:case H:case Y:case Q:case O:case M:case I:break;default:P>0&&(ke=1)}d===X?d=0:ve+E===0&&o!==oe&&$e.length>0&&(we=1,$e+="\0"),Ce*Ie>0&&We(Re,$e,t,e,me,he,Ye.length,o,a,o),he=1,me++;break;case O:case I:if(d+f+p+l===0){he++;break}default:switch(he++,Ge=i.charAt(G),y){case q:case V:if(f+l+d===0)switch(w){case Q:case Y:case q:case V:Ge="";break;default:y!==V&&(Ge=" ")}break;case ne:Ge="\\0";break;case re:Ge="\\f";break;case ie:Ge="\\v";break;case W:f+d+l===0&&ve>0&&(Ee=1,we=1,Ge="\f"+Ge);break;case 108:if(f+d+l+ge===0&&P>0)switch(G-P){case 2:w===ce&&i.charCodeAt(G-3)===Y&&(ge=w);case 8:S===ue&&(ge=S)}break;case Y:f+d+l===0&&(P=G);break;case Q:d+p+f+l===0&&(we=1,Ge+="\r");break;case J:case K:0===d&&(f=f===y?0:0===f?y:f);break;case L:f+d+p===0&&l++;break;case F:f+d+p===0&&l--;break;case N:f+d+l===0&&p--;break;case D:if(f+d+l===0){if(0===E)switch(2*w+3*S){case 533:break;default:C=0,E=1}p++}break;case z:d+p+f+l+P+T===0&&(T=1);break;case $:case X:if(f+l+p>0)break;switch(d){case 0:switch(2*y+3*i.charCodeAt(G+1)){case 235:d=X;break;case 220:Te=G,d=$}break;case $:y===X&&w===$&&Te+2!==G&&(33===i.charCodeAt(Te+2)&&(Ye+=i.substring(Te,G+1)),Ge="",d=0)}}if(0===d){if(ve+f+l+T===0&&o!==oe&&y!==O)switch(y){case Q:case te:case Z:case ee:case N:case D:if(0===E){switch(w){case q:case V:case U:case B:Ge+="\0";break;default:Ge="\0"+Ge+(y===Q?"":"\0")}we=1}else switch(y){case D:P+7===G&&108===w&&(P=0),E=++C;break;case N:0==(E=--C)&&(we=1,Ge+="\0")}break;case q:case V:switch(w){case ne:case M:case I:case O:case Q:case re:case q:case V:case U:case B:break;default:0===E&&(we=1,Ge+="\0")}}$e+=Ge,y!==V&&y!==q&&(k=y)}}S=w,w=y,G++}if(Te=Ye.length,Se>0&&0===Te&&0===Ke.length&&0===t[0].length==0&&(o!==ae||1===t.length&&(ve>0?Ne:Le)===t[0])&&(Te=t.join(",").length+2),Te>0){if(s=0===ve&&o!==oe?function(e){for(var t,n,i=0,o=e.length,a=Array(o);i<o;++i){for(var s=e[i].split(u),c="",l=0,d=0,p=0,f=0,h=s.length;l<h;++l)if(!(0===(d=(n=s[l]).length)&&h>1)){if(p=c.charCodeAt(c.length-1),f=n.charCodeAt(0),t="",0!==l)switch(p){case $:case te:case Z:case ee:case V:case D:break;default:t=" "}switch(f){case W:n=t+Ne;case te:case Z:case ee:case V:case N:case D:break;case L:n=t+n+Ne;break;case Y:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(ye>0){n=t+n.substring(8,d-1);break}default:(l<1||s[l-1].length<1)&&(n=t+Ne+n)}break;case Q:t="";default:n=d>1&&n.indexOf(":")>0?t+n.replace(x,"$1"+Ne+"$2"):t+n+Ne}c+=n}a[i]=c.replace(r,"").trim()}return a}(t):t,Ce>0&&void 0!==(c=We(je,Ye,s,e,me,he,Te,o,a,o))&&0===(Ye=c).length)return Je+Ye+Ke;if(Ye=s.join(",")+"{"+Ye+"}",be*ge!=0){switch(2!==be||ze(Ye,2)||(ge=0),ge){case ue:Ye=Ye.replace(g,":"+A+"$1")+Ye;break;case ce:Ye=Ye.replace(m,"::"+R+"input-$1")+Ye.replace(m,"::"+A+"$1")+Ye.replace(m,":"+j+"input-$1")+Ye}ge=0}}return Je+Ye+Ke}function Ue(e,t,n){var r=t.trim().split(l),i=r,o=r.length,a=e.length;switch(a){case 0:case 1:for(var s=0,c=0===a?"":e[0]+" ";s<o;++s)i[s]=Be(c,i[s],n,a).trim();break;default:s=0;var u=0;for(i=[];s<o;++s)for(var d=0;d<a;++d)i[u++]=Be(e[d]+" ",r[s],n,a).trim()}return i}function Be(e,t,n,r){var i=t,o=i.charCodeAt(0);switch(o<33&&(o=(i=i.trim()).charCodeAt(0)),o){case W:switch(ve+r){case 0:case 1:if(0===e.trim().length)break;default:return i.replace(d,"$1"+e.trim())}break;case Y:switch(i.charCodeAt(1)){case 103:if(ye>0&&ve>0)return i.replace(p,"$1").replace(d,"$1"+Le);break;default:return e.trim()+i.replace(d,"$1"+e.trim())}default:if(n*ve>0&&i.indexOf("\f")>0)return i.replace(d,(e.charCodeAt(0)===Y?"":"$1")+e.trim())}return e+i}function qe(e,t,n,r){var u,l=0,d=e+";",p=2*t+3*n+4*r;if(944===p)return function(e){var t=e.length,n=e.indexOf(":",9)+1,r=e.substring(0,n).trim(),i=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*Me){case 0:break;case H:if(110!==e.charCodeAt(10))break;default:for(var o=i.split((i="",s)),a=0,n=0,t=o.length;a<t;n=0,++a){for(var u=o[a],l=u.split(c);u=l[n];){var d=u.charCodeAt(0);if(1===Me&&(d>z&&d<90||d>96&&d<123||d===G||d===H&&u.charCodeAt(1)!==H))switch(isNaN(parseFloat(u))+(-1!==u.indexOf("("))){case 1:switch(u){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:u+=De}}l[n++]=u}i+=(0===a?"":",")+l.join(" ")}}return i=r+i+";",1===be||2===be&&ze(i,1)?R+i+i:i}(d);if(0===be||2===be&&!ze(d,1))return d;switch(p){case 1015:return 97===d.charCodeAt(10)?R+d+d:d;case 951:return 116===d.charCodeAt(3)?R+d+d:d;case 963:return 110===d.charCodeAt(5)?R+d+d:d;case 1009:if(100!==d.charCodeAt(4))break;case 969:case 942:return R+d+d;case 978:return R+d+A+d+d;case 1019:case 983:return R+d+A+d+j+d+d;case 883:return d.charCodeAt(8)===H?R+d+d:d.indexOf("image-set(",11)>0?d.replace(P,"$1"+R+"$2")+d:d;case 932:if(d.charCodeAt(4)===H)switch(d.charCodeAt(5)){case 103:return R+"box-"+d.replace("-grow","")+R+d+j+d.replace("grow","positive")+d;case 115:return R+d+j+d.replace("shrink","negative")+d;case 98:return R+d+j+d.replace("basis","preferred-size")+d}return R+d+j+d+d;case 964:return R+d+j+"flex-"+d+d;case 1023:if(99!==d.charCodeAt(8))break;return u=d.substring(d.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),R+"box-pack"+u+R+d+j+"flex-pack"+u+d;case 1005:return o.test(d)?d.replace(i,":"+R)+d.replace(i,":"+A)+d:d;case 1e3:switch(l=(u=d.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(l)){case 226:u=d.replace(S,"tb");break;case 232:u=d.replace(S,"tb-rl");break;case 220:u=d.replace(S,"lr");break;default:return d}return R+d+j+u+d;case 1017:if(-1===d.indexOf("sticky",9))return d;case 975:switch(l=(d=e).length-10,p=(u=(33===d.charCodeAt(l)?d.substring(0,l):d).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(u.charCodeAt(8)<111)break;case 115:d=d.replace(u,R+u)+";"+d;break;case 207:case 102:d=d.replace(u,R+(p>102?"inline-":"")+"box")+";"+d.replace(u,R+u)+";"+d.replace(u,j+u+"box")+";"+d}return d+";";case 938:if(d.charCodeAt(5)===H)switch(d.charCodeAt(6)){case 105:return u=d.replace("-items",""),R+d+R+"box-"+u+j+"flex-"+u+d;case 115:return R+d+j+"flex-item-"+d.replace(C,"")+d;default:return R+d+j+"flex-line-pack"+d.replace("align-content","").replace(C,"")+d}break;case 973:case 989:if(d.charCodeAt(3)!==H||122===d.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?qe(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):d.replace(u,R+u)+d.replace(u,A+u.replace("fill-",""))+d;break;case 962:if(d=R+d+(102===d.charCodeAt(5)?j+d:"")+d,n+r===211&&105===d.charCodeAt(13)&&d.indexOf("transform",10)>0)return d.substring(0,d.indexOf(";",27)+1).replace(a,"$1"+R+"$2")+d}return d}function ze(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10),i=e.substring(n+1,e.length-1);return Ee(2!==t?r:r.replace(E,"$1"),i,t)}function Ve(e,t){var n=qe(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(k," or ($1)").substring(4):"("+t+")"}function We(e,t,n,r,i,o,a,s,c,u){for(var l,d=0,p=t;d<Ce;++d)switch(l=ke[d].call($e,e,p,n,r,i,o,a,s,c,u)){case void 0:case!1:case!0:case null:break;default:p=l}if(p!==t)return p}function He(e,t,n,r){for(var i=t+1;i<n;++i)switch(r.charCodeAt(i)){case X:if(e===$&&r.charCodeAt(i-1)===$&&t+2!==i)return i+1;break;case U:if(e===X)return i+1}return i}function Ge(e){for(var t in e){var n=e[t];switch(t){case"keyframe":Me=0|n;break;case"global":ye=0|n;break;case"cascade":ve=0|n;break;case"compress":we=0|n;break;case"semicolon":xe=0|n;break;case"preserve":Se=0|n;break;case"prefix":Ee=null,n?"function"!=typeof n?be=1:(be=2,Ee=n):be=0}}return Ge}function $e(t,n){if(void 0!==this&&this.constructor===$e)return e(t);var i=t,o=i.charCodeAt(0);o<33&&(o=(i=i.trim()).charCodeAt(0)),Me>0&&(De=i.replace(f,o===L?"":"-")),o=1,1===ve?Le=i:Ne=i;var a,s=[Le];Ce>0&&void 0!==(a=We(Pe,n,s,s,me,he,0,0,0,0))&&"string"==typeof a&&(n=a);var c=Fe(_e,s,n,0,0);return Ce>0&&void 0!==(a=We(Te,c,s,s,me,he,c.length,0,0,0))&&"string"!=typeof(c=a)&&(o=0),De="",Le="",Ne="",ge=0,me=1,he=1,we*o==0?c:c.replace(r,"").replace(v,"").replace(b,"$1").replace(y,"$1").replace(w," ")}return $e.use=function e(t){switch(t){case void 0:case null:Ce=ke.length=0;break;default:if("function"==typeof t)ke[Ce++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else Ie=0|!!t}return e},$e.set=Ge,void 0!==t&&Ge(t),$e}(null)},function(e,t,n){"use strict";function r(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}t.a=function(e,t){var n;void 0===t&&(t=r);var i,o=[],a=!1;return function(){for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return a&&n===this&&t(s,o)?i:(i=e.apply(this,s),a=!0,n=this,o=s,i)}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));t.default=(e=>i.default.createElement("svg",Object.assign({viewBox:"0 0 24 24",width:"1em",height:"1em"},e),i.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),i.default.createElement("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"})))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(63),o=n(30);function a(e,t){var n=e.length,r=t.length,i=Math.min(n,r),a=0;for(a=0;a<i&&e[a]===t[a];a++);var s=0;for(s=0;s<i-a&&e[n-s-1]===t[r-s-1];s++);var c=a+s,u=[];if(c<n&&u.push({num:n-c,pos:n-s,type:"erase"}),c<r){var l=t.slice(a,a+r-c);u.push({pos:a,text:o.ucs2.encode(l),type:"insert"})}return u}t.diff=a;var s=function(){function e(e,t){void 0===t&&(t=!1),this.synced=!1,this.cursorPosition=0,this.sequenceNumber=0,this.ignoreWaits=!1,this.onStateChange=e||function(){},this.ignoreWaits=t,this.buffer=[],this.resetActionQueue()}return Object.defineProperty(e.prototype,"text",{get:function(){return o.ucs2.encode(this.buffer.slice())},enumerable:!0,configurable:!0}),e.prototype.commit=function(){this.resetActionQueue()},e.prototype.process=function(e){if("cancel"===e.event||"init"===e.event?this.resetActionQueue():"reset"===e.event||"new"===e.event?(this.resetActionQueue(),e.seq&&(this.sequenceNumber=e.seq)):e.seq!==this.sequenceNumber&&(this.synced=!1),e.actions)for(var t=Date.now(),n=0,r=0,i=e.actions;r<i.length;r++){var o=i[r];o.baseTime=t+n,"wait"===o.type&&(n+=o.num),this.actionQueue.push(o)}this.sequenceNumber=this.sequenceNumber+1},e.prototype.insert=function(e,t){void 0===e&&(e=""),void 0===t&&(t=this.buffer.length),e.normalize&&(e=e.normalize("NFC"));var n,r=o.ucs2.decode(e);(n=this.buffer).splice.apply(n,[t,0].concat(r)),this.cursorPosition=t+r.length,this.emitState()},e.prototype.erase=function(e,t){void 0===e&&(e=1),void 0===t&&(t=this.buffer.length),t=Math.max(Math.min(t,this.buffer.length),0),e=Math.max(Math.min(e,this.text.length),0),this.buffer.splice(Math.max(t-e,0),e),this.cursorPosition=Math.max(t-e,0),this.emitState()},e.prototype.emitState=function(e){void 0===e&&(e={}),this.onStateChange(r.__assign({cursorPosition:this.cursorPosition,synced:this.synced,text:this.text},e))},e.prototype.resetActionQueue=function(){var e=this;this.actionQueue&&this.actionQueue.kill(),this.sequenceNumber=0,this.synced=!0,this.buffer=[],this.emitState(),this.actionQueue=i.queue(function(t,n){var r=Date.now();return"insert"===t.type?(e.insert(t.text,t.pos),n()):"erase"===t.type?(e.erase(t.num,t.pos),n()):"wait"!==t.type?n():e.ignoreWaits?n():(t.num>700&&(t.num=700),r>=t.baseTime+t.num?n():void setTimeout(function(){return n()},t.num))}),this.actionQueue.drain=function(){e.emitState({drained:!0})}},e}();t.DisplayBuffer=s;var c=function(){function e(e,t){void 0===t&&(t=!1),this.resetInterval=1e4,this.ignoreWaits=!1,this.isStarting=!1,this.isReset=!1,this.changedBetweenResets=!1,this.onStateChange=e||function(){},this.ignoreWaits=t,this.buffer=[],this.actionQueue=[],this.sequenceNumber=0}return Object.defineProperty(e.prototype,"text",{get:function(){return o.ucs2.encode(this.buffer.slice())},enumerable:!0,configurable:!0}),e.prototype.update=function(e){var t=[];if(void 0!==e){e.normalize&&(e=e.normalize("NFC"));var n=o.ucs2.decode(e||"");t=a(this.buffer,n.slice()),this.buffer=n,this.emitState()}var r=Date.now();if(this.changedBetweenResets&&r-this.lastResetTime>this.resetInterval)this.actionQueue=[],this.actionQueue.push({pos:0,text:this.text,type:"insert"}),this.isReset=!0,this.lastActionTime=r,this.lastResetTime=r,this.changedBetweenResets=!1;else if(t.length){var i=r-(this.lastActionTime||r);i>0&&!this.ignoreWaits&&this.actionQueue.push({num:i,type:"wait"});for(var s=0,c=t;s<c.length;s++){var u=c[s];this.actionQueue.push(u)}this.lastActionTime=r,this.changedBetweenResets=!0}},e.prototype.start=function(e){return void 0===e&&(e=this.resetInterval),this.commit(),this.isStarting=!0,this.resetInterval=e,this.sequenceNumber=Math.floor(1e4*Math.random()+1),{event:"init"}},e.prototype.stop=function(){return this.commit(),{event:"cancel"}},e.prototype.diff=function(){if(this.update(),!this.actionQueue.length)return null;var e={actions:this.actionQueue,seq:this.sequenceNumber++};return this.isStarting?(e.event="new",this.isStarting=!1,this.lastResetTime=Date.now()):this.isReset&&(e.event="reset",this.isReset=!1),this.actionQueue=[],e},e.prototype.commit=function(){this.sequenceNumber=0,this.lastActionTime=0,this.actionQueue=[],this.buffer=[]},e.prototype.emitState=function(){this.onStateChange({text:this.text})},e}();t.InputBuffer=c},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",function(){return Do}),n.d(t,"b",function(){return S});var i=n(49),o=n.n(i),a=n(25),s=n(2),c=n(26),u=n(6),l=n(3);const d=n(30),p=!1;function f(e){return d.toUnicode(e)}const h=/^[\x00-\x7F]*$/;function m(e,t){return e?e+"@"+t:t}function g(e,t,n){return n?m(e,t)+"/"+n:m(e,t)}function v(e){let t=e.local,n=e.domain,r=e.resource,i=t;return t&&(i=w(t=t.toLowerCase())),r&&(r=function(e){return e}(r)),"."===n[n.length-1]&&(n=n.slice(0,n.length-1)),{bare:m(t,n=function(e){return e.toLowerCase()}(n.split(".").map(f).join("."))),domain:n,full:g(t,n,r),local:t,prepped:e.prepped||p,resource:r,unescapedBare:m(i,n),unescapedFull:g(i,n,r),unescapedLocal:i}}function b(e,t){let n="",r="",i="";t=t||h.test(e);const o=e.indexOf("/");o>0&&(i=e.slice(o+1),e=e.slice(0,o));const a=e.indexOf("@");a>0&&(n=e.slice(0,a),e=e.slice(a+1));const s=v({domain:r=e,local:n,resource:i});return s.prepped=s.prepped||t,s}function y(e){return e.replace(/^\s+|\s+$/g,"").replace(/\\5c/g,"\\5c5c").replace(/\\20/g,"\\5c20").replace(/\\22/g,"\\5c22").replace(/\\26/g,"\\5c26").replace(/\\27/g,"\\5c27").replace(/\\2f/g,"\\5c2f").replace(/\\3a/g,"\\5c3a").replace(/\\3c/g,"\\5c3c").replace(/\\3e/g,"\\5c3e").replace(/\\40/g,"\\5c40").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")}function w(e){return e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")}class x{constructor(e,t,n){let r={};if(!e||t||n)if(t){let i=h.test(e)&&h.test(t);n&&(i=i&&h.test(n)),r=v({domain:t,local:y(e),prepped:i,resource:n})}else r={};else if("string"==typeof e)r=b(e);else{if(!(e._isJID||e instanceof x))throw new Error("Invalid argument type");r=e}this._isJID=!0,this.local=r.local||"",this.domain=r.domain||"",this.resource=r.resource||"",this.bare=r.bare||"",this.full=r.full||"",this.unescapedLocal=r.unescapedLocal||"",this.unescapedBare=r.unescapedBare||"",this.unescapedFull=r.unescapedFull||"",this.prepped=r.prepped}toString(){return this.full}toJSON(){return this.full}}var S=Object.freeze({prep:v,parse:b,equal:function(e,t,n){return e=new x(e),t=new x(t),2===arguments.length&&(n=!0),e.local===t.local&&e.domain===t.domain&&e.resource===t.resource&&(!n||e.prepped&&t.prepped)},equalBare:function(e,t,n){return e=new x(e),t=new x(t),2===arguments.length&&(n=!0),e.local===t.local&&e.domain===t.domain&&(!n||e.prepped&&t.prepped)},isBare:function(e){return!(e=new x(e)).resource},isFull:function(e){return!!(e=new x(e)).resource},escape:y,unescape:w,create:function(e,t,n){return new x(e,t,n)},JID:x});class _{response(e){return e.trace||""}challenge(){}}_.prototype.name="ANONYMOUS",_.prototype.clientFirst=!0;class k{response(e){return e.authzid||""}challenge(){}}k.prototype.name="EXTERNAL",k.prototype.clientFirst=!0;class C{response(e){let t="";return t+=e.authzid||"",t+="\0",t+=e.username,t+="\0",t+=e.password}challenge(){}}C.prototype.name="PLAIN",C.prototype.clientFirst=!0;class E extends a.Transform{constructor(t,n,r="be"){super(),this._block=e.alloc(t),this._finalSize=n,this._blockSize=t,this._bigEndian="be"===r,this._len=0}_transform(e,t,n){let r=null;try{this.update(e,t)}catch(e){r=e}n(r)}_flush(e){let t=null;try{this.push(this.digest())}catch(e){t=e}e(t)}update(t,n){"string"==typeof t&&(n=n||"utf8",t=e.from(t,n));const r=this._block,i=this._blockSize,o=t.length;let a=this._len;for(let e=0;e<o;){const n=a%i,s=Math.min(o-e,i-n);for(let i=0;i<s;i++)r[n+i]=t[e+i];e+=s,(a+=s)%i==0&&this._update(r)}return this._len+=o,this}digest(e){const t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));const n=8*this._len;if(n<=4294967295)this._bigEndian?(this._block.writeUInt32BE(0,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)):(this._block.writeUInt32LE(n,this._blockSize-8),this._block.writeUInt32LE(0,this._blockSize-4));else{const e=(4294967295&n)>>>0,t=(n-e)/4294967296;this._bigEndian?(this._block.writeUInt32BE(t,this._blockSize-8),this._block.writeUInt32BE(e,this._blockSize-4)):(this._block.writeUInt32LE(e,this._blockSize-8),this._block.writeUInt32LE(t,this._blockSize-4))}this._update(this._block);const r=this._hash();return e?r.toString(e):r}_update(e){throw new Error("_update must be implemented by subclass")}_hash(){throw new Error("_update must be implemented by subclass")}}function T(e,t){return e<<t|e>>>32-t}function P(e,t,n,r,i,o,a){return T(e+(t&n|~t&r)+i+o|0,a)+t|0}function R(e,t,n,r,i,o,a){return T(e+(t&r|n&~r)+i+o|0,a)+t|0}function A(e,t,n,r,i,o,a){return T(e+(t^n^r)+i+o|0,a)+t|0}function j(e,t,n,r,i,o,a){return T(e+(n^(t|~r))+i+o|0,a)+t|0}const O=[1518500249,1859775393,-1894007588,-899497514];function I(e){return e<<5|e>>>27}function M(e){return e<<30|e>>>2}function D(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}class N extends E{constructor(){super(64,56),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this._w=new Array(80)}_update(e){const t=this._w;let n,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e;for(n=0;n<16;++n)t[n]=e.readInt32BE(4*n);for(;n<80;++n)t[n]=(c=t[n-3]^t[n-8]^t[n-14]^t[n-16])<<1|c>>>31;var c;for(let e=0;e<80;++e){const n=~~(e/20),c=I(r)+D(n,i,o,a)+s+t[e]+O[n]|0;s=a,a=o,o=M(i),i=r,r=c}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0}_hash(){const t=e.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t}}const L=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function F(e,t,n){return n^e&(t^n)}function U(e,t,n){return e&t|n&(e|t)}function B(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function q(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function z(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}class V extends E{constructor(){super(64,56),this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this._w=new Array(64)}_update(e){const t=this._w;let n,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e,c=0|this._f,u=0|this._g,l=0|this._h;for(n=0;n<16;++n)t[n]=e.readInt32BE(4*n);for(;n<64;++n)t[n]=0|(((d=t[n-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)+t[n-7]+z(t[n-15])+t[n-16];var d;for(let e=0;e<64;++e){const n=l+q(s)+F(s,c,u)+L[e]+t[e]|0,d=B(r)+U(r,i,o)|0;l=u,u=c,c=s,s=a+n|0,a=o,o=i,i=r,r=n+d|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=c+this._f|0,this._g=u+this._g|0,this._h=l+this._h|0}_hash(){const t=e.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t}}const W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function H(e,t,n){return n^e&(t^n)}function G(e,t,n){return e&t|n&(e|t)}function $(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function Q(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Y(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function K(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function J(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function X(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function Z(e,t){return e>>>0<t>>>0?1:0}class ee extends E{constructor(){super(128,112),this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this._w=new Array(160)}_update(e){const t=this._w;let n,r,i=0|this._ah,o=0|this._bh,a=0|this._ch,s=0|this._dh,c=0|this._eh,u=0|this._fh,l=0|this._gh,d=0|this._hh,p=0|this._al,f=0|this._bl,h=0|this._cl,m=0|this._dl,g=0|this._el,v=0|this._fl,b=0|this._gl,y=0|this._hl,w=0;for(w=0;w<32;w+=2)t[w]=e.readInt32BE(4*w),t[w+1]=e.readInt32BE(4*w+4);for(;w<160;w+=2){let e=t[w-30],i=t[w-30+1];const o=Y(e,i),a=K(i,e),s=J(e=t[w-4],i=t[w-4+1]),c=X(i,e),u=t[w-14],l=t[w-14+1],d=t[w-32],p=t[w-32+1];n=(n=(n=o+u+Z(r=a+l|0,a)|0)+s+Z(r=r+c|0,c)|0)+d+Z(r=r+p|0,p)|0,t[w]=n,t[w+1]=r}for(let e=0;e<160;e+=2){n=t[e],r=t[e+1];const w=G(i,o,a),x=G(p,f,h),S=$(i,p),_=$(p,i),k=Q(c,g),C=Q(g,c),E=W[e],T=W[e+1],P=H(c,u,l),R=H(g,v,b);let A=y+C|0,j=d+k+Z(A,y)|0;j=(j=(j=j+P+Z(A=A+R|0,R)|0)+E+Z(A=A+T|0,T)|0)+n+Z(A=A+r|0,r)|0;const O=_+x|0,I=S+w+Z(O,_)|0;d=l,y=b,l=u,b=v,u=c,v=g,c=s+j+Z(g=m+A|0,m)|0,s=a,m=h,a=o,h=f,o=i,f=p,i=j+I+Z(p=A+O|0,A)|0}this._al=this._al+p|0,this._bl=this._bl+f|0,this._cl=this._cl+h|0,this._dl=this._dl+m|0,this._el=this._el+g|0,this._fl=this._fl+v|0,this._gl=this._gl+b|0,this._hl=this._hl+y|0,this._ah=this._ah+i+Z(this._al,p)|0,this._bh=this._bh+o+Z(this._bl,f)|0,this._ch=this._ch+a+Z(this._cl,h)|0,this._dh=this._dh+s+Z(this._dl,m)|0,this._eh=this._eh+c+Z(this._el,g)|0,this._fh=this._fh+u+Z(this._fl,v)|0,this._gh=this._gh+l+Z(this._gl,b)|0,this._hh=this._hh+d+Z(this._hl,y)|0}_hash(){const t=e.allocUnsafe(64);function n(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return n(this._ah,this._al,0),n(this._bh,this._bl,8),n(this._ch,this._cl,16),n(this._dh,this._dl,24),n(this._eh,this._el,32),n(this._fh,this._fl,40),n(this._gh,this._gl,48),n(this._hh,this._hl,56),t}}let te;"undefined"!=typeof window?te=window:void 0!==r&&(te=r);const ne=e.alloc(128);class re extends a.Transform{constructor(t,n){super(),"string"==typeof n&&(n=e.from(n));const r="sha512"===t?128:64;this._alg=t,n.length>r?n=ae(t).update(n).digest():n.length<r&&(n=e.concat([n,ne],r)),this._ipad=e.alloc(r),this._opad=e.alloc(r);for(let e=0;e<r;e++)this._ipad[e]=54^n[e],this._opad[e]=92^n[e];this._hash=ae(t).update(this._ipad)}_transform(e,t,n){let r;try{this.update(e,t)}catch(e){r=e}finally{n(r)}}_flush(e){let t;try{this.push(this._final())}catch(e){t=e}e(t)}_final(){const e=this._hash.digest();return ae(this._alg).update(this._opad).update(e).digest()}update(e,t){return this._hash.update(e,t),this}digest(t){const n=this._final()||e.alloc(0);return t?n.toString(t):n}}const ie=new Map([["md5",class extends E{constructor(){super(64,56,"le"),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._m=new Array(16)}_update(e){const t=this._m;for(let n=0;n<16;++n)t[n]=e.readInt32LE(4*n);let n=this._a,r=this._b,i=this._c,o=this._d;n=P(n,r,i,o,t[0],3614090360,7),o=P(o,n,r,i,t[1],3905402710,12),i=P(i,o,n,r,t[2],606105819,17),r=P(r,i,o,n,t[3],3250441966,22),n=P(n,r,i,o,t[4],4118548399,7),o=P(o,n,r,i,t[5],1200080426,12),i=P(i,o,n,r,t[6],2821735955,17),r=P(r,i,o,n,t[7],4249261313,22),n=P(n,r,i,o,t[8],1770035416,7),o=P(o,n,r,i,t[9],2336552879,12),i=P(i,o,n,r,t[10],4294925233,17),r=P(r,i,o,n,t[11],2304563134,22),n=P(n,r,i,o,t[12],1804603682,7),o=P(o,n,r,i,t[13],4254626195,12),i=P(i,o,n,r,t[14],2792965006,17),n=R(n,r=P(r,i,o,n,t[15],1236535329,22),i,o,t[1],4129170786,5),o=R(o,n,r,i,t[6],3225465664,9),i=R(i,o,n,r,t[11],643717713,14),r=R(r,i,o,n,t[0],3921069994,20),n=R(n,r,i,o,t[5],3593408605,5),o=R(o,n,r,i,t[10],38016083,9),i=R(i,o,n,r,t[15],3634488961,14),r=R(r,i,o,n,t[4],3889429448,20),n=R(n,r,i,o,t[9],568446438,5),o=R(o,n,r,i,t[14],3275163606,9),i=R(i,o,n,r,t[3],4107603335,14),r=R(r,i,o,n,t[8],1163531501,20),n=R(n,r,i,o,t[13],2850285829,5),o=R(o,n,r,i,t[2],4243563512,9),i=R(i,o,n,r,t[7],1735328473,14),n=A(n,r=R(r,i,o,n,t[12],2368359562,20),i,o,t[5],4294588738,4),o=A(o,n,r,i,t[8],2272392833,11),i=A(i,o,n,r,t[11],1839030562,16),r=A(r,i,o,n,t[14],4259657740,23),n=A(n,r,i,o,t[1],2763975236,4),o=A(o,n,r,i,t[4],1272893353,11),i=A(i,o,n,r,t[7],4139469664,16),r=A(r,i,o,n,t[10],3200236656,23),n=A(n,r,i,o,t[13],681279174,4),o=A(o,n,r,i,t[0],3936430074,11),i=A(i,o,n,r,t[3],3572445317,16),r=A(r,i,o,n,t[6],76029189,23),n=A(n,r,i,o,t[9],3654602809,4),o=A(o,n,r,i,t[12],3873151461,11),i=A(i,o,n,r,t[15],530742520,16),n=j(n,r=A(r,i,o,n,t[2],3299628645,23),i,o,t[0],4096336452,6),o=j(o,n,r,i,t[7],1126891415,10),i=j(i,o,n,r,t[14],2878612391,15),r=j(r,i,o,n,t[5],4237533241,21),n=j(n,r,i,o,t[12],1700485571,6),o=j(o,n,r,i,t[3],2399980690,10),i=j(i,o,n,r,t[10],4293915773,15),r=j(r,i,o,n,t[1],2240044497,21),n=j(n,r,i,o,t[8],1873313359,6),o=j(o,n,r,i,t[15],4264355552,10),i=j(i,o,n,r,t[6],2734768916,15),r=j(r,i,o,n,t[13],1309151649,21),n=j(n,r,i,o,t[4],4149444226,6),o=j(o,n,r,i,t[11],3174756917,10),i=j(i,o,n,r,t[2],718787259,15),r=j(r,i,o,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0}_hash(){const t=e.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t}}],["sha-1",N],["sha-256",V],["sha-512",ee],["sha1",N],["sha256",V],["sha512",ee]]);function oe(t){const n=new Uint8Array(t);return t>0&&te.crypto.getRandomValues(n),e.from(n.buffer)}function ae(e){e=e.toLowerCase();const t=ie.get(e);if(t)return new t;throw new Error("Unsupported hash algorithm: "+e)}function se(){return oe(16).toString("hex")}class ce{constructor(e){e=e||{},this._genNonce=e.genNonce||se}response(e){if(this._completed)return;let t=e.serviceType+"/"+e.host;e.serviceName&&e.host!==e.serviceName&&(t+="/"+e.serviceName);const n=e.realm||this._realm||"",r=this._genNonce(),i="00000001";let o="";o+='username="'+e.username+'"',n&&(o+=',realm="'+n+'"'),o+=',nonce="'+this._nonce+'"',o+=',cnonce="'+r+'"',o+=",nc="+i,o+=",qop=auth",o+=',digest-uri="'+t+'"';const a=ae("md5").update(e.username).update(":").update(n).update(":").update(e.password).digest();let s=ae("md5").update(a).update(":").update(this._nonce).update(":").update(r);e.authzid&&s.update(":").update(e.authzid),s=s.digest("hex");let c=ae("md5").update("AUTHENTICATE:").update(t);return c=c.digest("hex"),o+=",response="+ae("md5").update(s).update(":").update(this._nonce).update(":").update(i).update(":").update(r).update(":").update("auth").update(":").update(c).digest("hex"),"utf-8"===this._charset&&(o+=",charset=utf-8"),e.authzid&&(o+='authzid="'+e.authzid+'"'),o}challenge(e){const t=function(e){const t={},n=e.split(/,(?=(?:[^"]|"[^"]*")*$)/);for(let e=0,r=n.length;e<r;e++){const r=/(\w+)=["]?([^"]+)["]?$/.exec(n[e]);r&&(t[r[1]]=r[2])}return t}(e);return this._completed=!!t.rspauth,this._realm=t.realm,this._nonce=t.nonce,this._qop=(t.qop||"auth").split(","),this._stale=t.stale,this._maxbuf=parseInt(t.maxbuf,10)||65536,this._charset=t.charset,this._algo=t.algorithm,this._cipher=t.cipher,this._cipher&&this._cipher.split(","),this}}ce.prototype.name="DIGEST-MD5",ce.prototype.clientFirst=!1;const ue={};function le(e){const t=[];let n="";for(let r=0;r<e.length;r++)","===(n=e[r])?t.push("=2C"):"="===n?t.push("=3D"):t.push(n);return t.join("")}function de(e){return oe((e||32)/2).toString("hex")}function pe(t,n){const r=Math.min(t.length,n.length),i=e.alloc(Math.max(t.length,n.length));for(let e=0;e<r;++e)i[e]=t[e]^n[e];return i}function fe(e,t){return function(e,t){return new re(e.toLowerCase(),t)}("sha1",e).update(t).digest()}class he{constructor(e){e=e||{},this._genNonce=e.genNonce||de,this._stage="initial"}response(e){return ue[this._stage](this,e)}challenge(t){const n=function(e){const t={},n=e.split(/,(?=(?:[^"]|"[^"]*")*$)/);for(let e=0,r=n.length;e<r;e++){const r=/(\w+)=["]?([^"]+)["]?$/.exec(n[e]);r&&(t[r[1]]=r[2])}return t}(t);return this._salt=e.from(n.s||"","base64"),this._iterationCount=parseInt(n.i,10),this._nonce=n.r,this._verifier=n.v,this._error=n.e,this._challenge=t,this}}he.prototype.name="SCRAM-SHA-1",he.prototype.clientFirst=!0,ue.initial=function(e,t){e._cnonce=e._genNonce();let n="";t.authzid&&(n="a="+le(t.authzid)),e._gs2Header="n,"+n+",";const r="r="+e._cnonce,i="n="+le(t.username||"");e._clientFirstMessageBare=i+","+r;const o=e._gs2Header+e._clientFirstMessageBare;return e._stage="challenge",o},ue.challenge=function(t,n){const r=e.from(t._gs2Header).toString("base64");let i,o,a;t._clientFinalMessageWithoutProof="c="+r+",r="+t._nonce,n.salt&&0===e.compare(n.salt,t._salt)?n.clientKey&&n.serverKey?(o=n.clientKey,a=n.serverKey):n.saltedPassword&&(o=fe(i=n.saltedPassword,"Client Key"),a=fe(i,"Server Key")):(i=function(t,n,r){let i=fe(t,e.concat([n,e.from([0,0,0,1],"binary")])),o=i;for(let e=0;e<r-1;e++)o=pe(o,i=fe(t,i));return o}(n.password||"",t._salt,t._iterationCount),o=fe(i,"Client Key"),a=fe(i,"Server Key"));const s=(c=o,ae("sha1").update(c).digest());var c;const u=t._clientFirstMessageBare+","+t._challenge+","+t._clientFinalMessageWithoutProof,l=pe(o,fe(s,u)).toString("base64");t._serverSignature=fe(a,u);const d=t._clientFinalMessageWithoutProof+",p="+l;return t._stage="final",t.cache={clientKey:o,salt:t._salt,saltedPassword:i,serverKey:a},d},ue.final=function(){return""};class me{response(e){let t="";return t+="\0",t+=e.username,t+="\0",t+=e.token}challenge(){}}me.prototype.name="X-OAUTH2",me.prototype.clientFirst=!0;class ge{constructor(){this._mechs=[]}use(e,t){return t||(e=(t=e).prototype.name),this._mechs.push({name:e,mech:t}),this}create(e){for(let t=0,n=this._mechs.length;t<n;t++)for(let n=0,r=e.length;n<r;n++){const r=this._mechs[t];if(r.name===e[n])return new r.mech}return null}}const ve="urn:ietf:params:xml:ns:xmpp-bind",be="jabber:client",ye="urn:ietf:params:xml:ns:xmpp-sasl",we="jabber:server",xe="urn:ietf:params:xml:ns:xmpp-session",Se="urn:ietf:params:xml:ns:xmpp-stanzas",_e="http://etherx.jabber.org/streams",ke="urn:ietf:params:xml:ns:xmpp-streams",Ce="jabber:iq:roster",Ee="urn:xmpp:features:rosterver",Te="urn:xmpp:features:pre-approval",Pe="urn:ietf:params:xml:ns:xmpp-framing",Re="jabber:x:data",Ae="http://jabber.org/protocol/disco#info",je="http://jabber.org/protocol/disco#items",Oe="http://jabber.org/protocol/address",Ie="http://jabber.org/protocol/muc",Me="http://jabber.org/protocol/muc#admin",De="http://jabber.org/protocol/muc#owner",Ne="http://jabber.org/protocol/muc#user",Le="http://jabber.org/protocol/ibb",Fe="storage:bookmarks",Ue="jabber:iq:private",Be="http://jabber.org/protocol/commands",qe="vcard-temp",ze="http://jabber.org/protocol/rsm",Ve="http://jabber.org/protocol/pubsub",We="http://jabber.org/protocol/pubsub#errors",He="http://jabber.org/protocol/pubsub#event",Ge="http://jabber.org/protocol/pubsub#owner",$e="jabber:iq:oob",Qe="jabber:x:oob",Ye="jabber:iq:register",Ke="http://jabber.org/protocol/geoloc",Je="urn:xmpp:avatar:data",Xe="urn:xmpp:avatar:metadata",Ze="http://jabber.org/protocol/chatstates",et="jabber:iq:version",tt="http://jabber.org/protocol/mood",nt="jabber:component:accept",rt="http://jabber.org/protocol/caps",it="http://jabber.org/protocol/tune",ot="http://jabber.org/protocol/xdata-validate",at="http://jabber.org/protocol/httpbind",st="http://jabber.org/protocol/shim",ct="http://jabber.org/protocol/xdata-layout",ut="urn:xmpp:reach:0",lt="urn:xmpp:alt-connections:websocket",dt="urn:xmpp:alt-connections:xbosh",pt=e=>`${e}+notify`,ft="urn:xmpp:jingle:1",ht="urn:xmpp:jingle:errors:1",mt="urn:xmpp:jingle:apps:rtp:1",gt="urn:xmpp:jingle:apps:rtp:info:1",vt="urn:xmpp:jingle:apps:rtp:audio",bt="urn:xmpp:jingle:apps:rtp:video",yt="http://jabber.org/protocol/nick",wt="urn:xmpp:jingle:transports:ice-udp:1",xt="urn:xmpp:receipts",St="urn:xmpp:invisible:0",_t="urn:xmpp:blocking",kt="urn:xmpp:sm:3",Ct="urn:xmpp:ping",Et="urn:xmpp:time",Tt="urn:xmpp:delay",Pt="urn:xmpp:xbosh",Rt="urn:xmpp:extdisco:1",At="urn:xmpp:media-element",jt="urn:xmpp:attention:0",Ot="urn:xmpp:bob",It="urn:xmpp:jingle:apps:file-transfer:3",Mt="jabber:x:conference",Dt="urn:xmpp:jingle:transports:ibb:1",Nt="urn:xmpp:thumbs:0",Lt="urn:xmpp:carbons:2",Ft="urn:xmpp:jingle:apps:rtp:rtcp-fb:0",Ut="urn:xmpp:jingle:apps:rtp:rtp-hdrext:0",Bt="urn:xmpp:forward:0",qt="urn:xmpp:hashes:1",zt=e=>`urn:xmpp:hash-function-text-names:${e}`,Vt="urn:xmpp:rtt:0",Wt="http://jabber.org/protocol/muc#unique",Ht="urn:xmpp:message-correct:0",Gt="urn:xmpp:psa",$t="urn:xmpp:mam:2",Qt="urn:xmpp:hats:0",Yt="urn:xmpp:idle:1",Kt="urn:xmpp:jingle:apps:dtls:0",Jt="urn:xmpp:jidprep:0",Xt="urn:xmpp:chat-markers:0",Zt="urn:xmpp:hints",en="urn:xmpp:json:0",tn="urn:xmpp:eventlog",nn="urn:xmpp:jingle:apps:grouping:0",rn="urn:xmpp:jingle:apps:rtp:ssma:0",on="urn:xmpp:jingle:transports:dtls-sctp:1",an="urn:xmpp:csi:0",sn="urn:xmpp:push:0",cn="urn:xmpp:http:upload:0",un="urn:xmpp:reference:0",ln="urn:xmpp:eme:0",dn="eu.siacs.conversations.axolotl",pn="http://docs.oasis-open.org/ns/xri/xrd-1.0";function fn(e){const t=e.utils,n=e.define({element:"address",fields:{delivered:t.boolAttribute("delivered"),description:t.attribute("desc"),jid:t.jidAttribute("jid"),node:t.attribute("node"),type:t.attribute("type"),uri:t.attribute("uri")},name:"_address",namespace:Oe}),r=t.subMultiExtension(Oe,"addresses",n);e.withMessage(function(t){e.add(t,"addresses",r)}),e.withPresence(function(t){e.add(t,"addresses",r)})}function hn(e){const t=e.utils,n=e.define({element:"info",fields:{bytes:t.attribute("bytes"),height:t.attribute("height"),id:t.attribute("id"),type:t.attribute("type","image/png"),url:t.attribute("url"),width:t.attribute("width")},name:"avatar",namespace:Xe}),r={get:function(){const e=t.find(this.xml,Xe,"metadata"),r=[];if(e.length){const i=t.find(e[0],Xe,"info");for(const e of i)r.push(new n({},e))}return r},set:function(e){const r=t.findOrCreate(this.xml,Xe,"metadata");t.setAttribute(r,"xmlns",Xe);for(const t of e){const e=new n(t);r.appendChild(e.xml)}}};e.withPubsubItem(function(n){e.add(n,"avatars",r),e.add(n,"avatarData",t.textSub(Je,"data"))})}function mn(e){const t=e.utils,n=e.define({element:"bind",fields:{jid:t.jidSub(ve,"jid"),resource:t.textSub(ve,"resource")},name:"bind",namespace:ve});e.extendIQ(n),e.extendStreamFeatures(n)}function gn(e){const t=e.utils,n={get:function(){const e=[],n=t.find(this.xml,_t,"item");if(!n.length)return e;for(const r of n)e.push(new x(t.getAttribute(r,"jid","")));return e},set:function(e){const n=this;for(const r of e){const e=t.createElement(_t,"item",_t);t.setAttribute(e,"jid",r.toString()),n.xml.appendChild(e)}}},r=e.define({element:"block",fields:{jids:n},name:"block",namespace:_t}),i=e.define({element:"unblock",fields:{jids:n},name:"unblock",namespace:_t}),o=e.define({element:"blocklist",fields:{jids:n},name:"blockList",namespace:_t});e.extendIQ(r),e.extendIQ(i),e.extendIQ(o)}function vn(e){const t=e.utils,n=e.define({element:"data",fields:{cid:t.attribute("cid"),data:t.text(),maxAge:t.numberAttribute("max-age"),type:t.attribute("type")},name:"bob",namespace:Ot});e.extendIQ(n),e.extendMessage(n),e.extendPresence(n)}function bn(e){const t=e.utils,n=e.define({element:"conference",fields:{autoJoin:t.boolAttribute("autojoin"),jid:t.jidAttribute("jid"),name:t.attribute("name"),nick:t.textSub(Fe,"nick")},name:"_conference",namespace:Fe}),r=e.define({element:"storage",name:"bookmarks",namespace:Fe});e.extend(r,n,"conferences"),e.withDefinition("query",Ue,function(t){e.extend(t,r)})}function yn(e){const t=e.utils;e.define({element:"body",fields:{accept:t.attribute("accept"),ack:t.numberAttribute("ack"),authid:t.attribute("authid"),charsets:t.attribute("charsets"),condition:t.attribute("condition"),content:t.attribute("content"),from:t.jidAttribute("from",!0),hold:t.numberAttribute("hold"),inactivity:t.numberAttribute("inactivity"),key:t.attribute("key"),lang:t.langAttribute(),maxpause:t.numberAttribute("maxpause"),newKey:t.attribute("newkey"),pause:t.numberAttribute("pause"),payload:{get:function(){const t=[];for(let n=0,r=this.xml.childNodes.length;n<r;n++){const r=e.build(this.xml.childNodes[n]);void 0!==r&&t.push(r)}return t},set:function(e){for(const t of e)this.xml.appendChild(t.xml)}},polling:t.numberAttribute("polling"),requests:t.numberAttribute("requests"),resport:t.numberAttribute("report"),restart:t.attribute("xmpp:restart"),restartLogic:t.boolAttribute("xmpp:restartLogic"),rid:t.numberAttribute("rid"),sid:t.attribute("sid"),stream:t.attribute("stream"),time:t.attribute("time"),to:t.jidAttribute("to",!0),type:t.attribute("type"),uri:t.textSub(at,"uri"),ver:t.attribute("ver"),version:t.attribute("xmpp:version","1.0"),wait:t.numberAttribute("wait")},name:"bosh",namespace:at,prefixes:{xmpp:Pt}})}function wn(e){const t=e.define({element:"sent",eventName:"carbon:sent",name:"carbonSent",namespace:Lt}),n=e.define({element:"received",eventName:"carbon:received",name:"carbonReceived",namespace:Lt}),r=e.define({element:"private",eventName:"carbon:private",name:"carbonPrivate",namespace:Lt}),i=e.define({element:"enable",name:"enableCarbons",namespace:Lt}),o=e.define({element:"disable",name:"disableCarbons",namespace:Lt});e.withDefinition("forwarded",Bt,function(r){e.extend(t,r),e.extend(n,r)}),e.extendMessage(t),e.extendMessage(n),e.extendMessage(r),e.extendIQ(i),e.extendIQ(o)}const xn=["next","prev","complete","cancel"],Sn=["bad-action","bad-locale","bad-payload","bad-sessionid","malformed-action","session-expired"];function _n(e){const t=e.utils,n=e.define({element:"command",fields:{action:t.attribute("action"),actions:{get:function(){const e=[],n=t.find(this.xml,Be,"actions");if(!n.length)return[];for(const r of xn){t.find(n[0],Be,r).length&&e.push(r)}return e},set:function(e){const n=t.findOrCreate(this.xml,Be,"actions");for(let e=0,t=n.childNodes.length;e<t;e++)n.removeChild(n.childNodes[e]);for(const r of e)n.appendChild(t.createElement(Be,r.toLowerCase(),Be))}},execute:t.subAttribute(Be,"actions","execute"),node:t.attribute("node"),sessionid:t.attribute("sessionid"),status:t.attribute("status")},name:"command",namespace:Be}),r=e.define({element:"note",fields:{type:t.attribute("type"),value:t.text()},name:"_commandNote",namespace:Be});e.extend(n,r,"notes"),e.extendIQ(n),e.withStanzaError(function(n){e.add(n,"adhocCommandCondition",t.enumSub(Be,Sn))}),e.withDataForm(function(t){e.extend(n,t)})}function kn(e){const t=e.define({element:"csi",name:"clientStateIndication",namespace:an});e.define({element:"active",eventName:"csi:active",name:"csiActive",namespace:an,topLevel:!0}),e.define({element:"inactive",eventName:"csi:inactive",name:"csiInactive",namespace:an,topLevel:!0}),e.extendStreamFeatures(t)}const Cn=["text-single","text-private","list-single","jid-single"];function En(e){const t=e.utils,n=e.define({element:"field",fields:{desc:t.textSub(Re,"desc"),label:t.attribute("label"),name:t.attribute("var"),required:t.boolSub(Re,"required"),type:{get:function(){return t.getAttribute(this.xml,"type","text-single")},set:function(e){this._type=e,t.setAttribute(this.xml,"type",e)}},value:{get:function(){const e=t.getMultiSubText(this.xml,Re,"value");return"boolean"===this._type?"1"===e[0]||"true"===e[0]:e.length>1?"text-multi"===this._type?e.join("\n"):"jid-multi"===this._type?e.map(function(e){return new x(e)}):e:Cn.indexOf(this._type)>=0?"jid-single"===this._type?new x(e[0]):e[0]:e},set:function(e){if("boolean"===this._type||!0===e||!1===e){const n=!0===e||"true"===e||"1"===e,r=t.createElement(Re,"value",Re);r.textContent=n?"1":"0",this.xml.appendChild(r)}else"text-multi"===this._type&&"string"==typeof e&&(e=e.split("\n")),t.setMultiSubText(this.xml,Re,"value",e,function(e){const n=t.createElement(Re,"value",Re);n.textContent=e,this.xml.appendChild(n)}.bind(this))}}},init:function(e){this._type=(e||{}).type||this.type},name:"_field",namespace:Re}),r=e.define({element:"option",fields:{label:t.attribute("label"),value:t.textSub(Re,"value")},name:"_formoption",namespace:Re}),i=e.define({element:"item",name:"_formitem",namespace:Re}),o=e.define({element:"media",fields:{height:t.numberAttribute("height"),width:t.numberAttribute("width")},name:"media",namespace:At}),a=e.define({element:"uri",fields:{type:t.attribute("type"),uri:t.text()},name:"_mediaURI",namespace:At}),s=e.define({element:"validate",fields:{basic:t.boolSub(ot,"basic"),dataType:t.attribute("datatype"),open:t.boolSub(ot,"open"),regex:t.textSub(ot,"regex")},name:"validation",namespace:ot}),c=e.define({element:"range",fields:{max:t.attribute("max"),min:t.attribute("min")},name:"range",namespace:ot}),u=e.define({element:"list-range",fields:{max:t.numberAttribute("max"),min:t.numberAttribute("min")},name:"select",namespace:ot}),l={get:function(){const e=[];for(let t=0,n=this.xml.childNodes.length;t<n;t++){const n=this.xml.childNodes[t];if(n.namespaceURI===ct)switch(n.localName){case"text":e.push({text:n.textContent});break;case"fieldref":e.push({field:n.getAttribute("var")});break;case"reportedref":e.push({reported:!0});break;case"section":e.push({section:new d(null,n,this).toJSON()})}}return e},set:function(e){for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r.text){const e=t.createElement(ct,"text",ct);e.textContent=r.text,this.xml.appendChild(e)}if(r.field){const e=t.createElement(ct,"fieldref",ct);e.setAttribute("var",r.field),this.xml.appendChild(e)}if(r.reported&&this.xml.appendChild(t.createElement(ct,"reportedref",ct)),r.section){const e=t.createElement(ct,"section",ct);this.xml.appendChild(e);const n=new d(null,e);n.label=r.section.label,n.contents=r.section.contents}}}},d=e.define({element:"section",fields:{contents:l,label:t.attribute("label")},name:"_section",namespace:ct}),p=e.define({element:"page",fields:{contents:l,label:t.attribute("label")},name:"_page",namespace:ct}),f=e.define({element:"x",fields:{instructions:t.multiTextSub(Re,"instructions"),reportedFields:t.subMultiExtension(Re,"reported",n),title:t.textSub(Re,"title"),type:t.attribute("type","form")},init:function(){if(!this.reportedFields.length)return;const e={};for(const t of this.reportedFields)e[t.name]=t.type;for(const t of this.items)for(const n of t.fields)n.type=n._type=e[n.name]},name:"form",namespace:Re});e.extend(f,n,"fields"),e.extend(f,i,"items"),e.extend(f,p,"layout"),e.extend(n,o),e.extend(n,s),e.extend(n,r,"options"),e.extend(i,n,"fields"),e.extend(o,a,"uris"),e.extend(s,c),e.extend(s,u),e.extendMessage(f)}function Tn(e){const t=e.utils,n=e.define({element:"delay",fields:{from:t.jidAttribute("from"),reason:t.text(),stamp:t.dateAttribute("stamp")},name:"delay",namespace:Tt});e.extendMessage(n),e.extendPresence(n)}function Pn(e){const t=e.utils,n=e.define({element:"c",fields:{ext:t.attribute("ext"),hash:t.attribute("hash"),node:t.attribute("node"),ver:t.attribute("ver")},name:"caps",namespace:rt}),r=e.define({element:"query",fields:{features:t.multiSubAttribute(Ae,"feature","var"),node:t.attribute("node")},name:"discoInfo",namespace:Ae}),i=e.define({element:"identity",fields:{category:t.attribute("category"),lang:t.langAttribute(),name:t.attribute("name"),type:t.attribute("type")},name:"_discoIdentity",namespace:Ae}),o=e.define({element:"query",fields:{node:t.attribute("node")},name:"discoItems",namespace:je}),a=e.define({element:"item",fields:{jid:t.jidAttribute("jid"),name:t.attribute("name"),node:t.attribute("node")},name:"_discoItem",namespace:je});e.extend(o,a,"items"),e.extend(r,i,"identities"),e.extendIQ(r),e.extendIQ(o),e.extendPresence(n),e.extendStreamFeatures(n),e.withDataForm(function(t){e.extend(r,t,"extensions")}),e.withDefinition("set",ze,function(t){e.extend(o,t)})}const Rn=["bad-request","conflict","feature-not-implemented","forbidden","gone","internal-server-error","item-not-found","jid-malformed","not-acceptable","not-allowed","not-authorized","payment-required","recipient-unavailable","redirect","registration-required","remote-server-not-found","remote-server-timeout","resource-constraint","service-unavailable","subscription-required","undefined-condition","unexpected-request"];function An(e){const t=e.utils,n=e.define({element:"error",fields:{$text:{get:function(){return t.getSubLangText(this.xml,Se,"text",this.lang)}},by:t.jidAttribute("by"),code:t.attribute("code"),condition:t.enumSub(Se,Rn),gone:{get:function(){return t.getSubText(this.xml,Se,"gone")},set:function(e){this.condition="gone",t.setSubText(this.xml,Se,"gone",e)}},lang:{get:function(){return(this.parent||{}).lang||""}},redirect:{get:function(){return t.getSubText(this.xml,Se,"redirect")},set:function(e){this.condition="redirect",t.setSubText(this.xml,Se,"redirect",e)}},text:{get:function(){return this.$text[this.lang]||""},set:function(e){t.setSubLangText(this.xml,Se,"text",e,this.lang)}},type:t.attribute("type")},name:"error",namespace:be});e.extendMessage(n),e.extendPresence(n),e.extendIQ(n)}function jn(e){const t=e.utils,n=e.define({element:"encryption",fields:{name:t.attribute("name"),namespace:t.attribute("namespace")},name:"encryptionMethod",namespace:ln});e.extendMessage(n)}function On(e){const t=e.utils,n=e.define({element:"services",fields:{type:t.attribute("type")},name:"services",namespace:Rt}),r=e.define({element:"credentials",name:"credentials",namespace:Rt}),i=e.define({element:"service",fields:{host:t.attribute("host"),password:t.attribute("password"),port:t.attribute("port"),transport:t.attribute("transport"),type:t.attribute("type"),username:t.attribute("username")},name:"service",namespace:Rt});e.extend(n,i,"services"),e.extend(r,i),e.extendIQ(n),e.extendIQ(r),e.withDataForm(function(t){e.extend(i,t)})}const In="urn:xmpp:jingle:apps:file-transfer:4";function Mn(e){const t=e.utils,n=e.define({element:"file",fields:{date:t.dateSub(In,"date"),description:t.textSub(In,"desc"),mediaType:t.textSub(In,"media-type"),name:t.textSub(In,"name"),size:t.numberSub(In,"size")},name:"file",namespace:In}),r=e.define({element:"range",fields:{length:t.numberAttribute("length"),offset:t.numberAttribute("offset")},name:"range",namespace:In}),i=e.define({element:"description",fields:{applicationType:{value:In,writable:!0}},name:"_"+In,namespace:In,tags:["jingle-application"]}),o=e.define({element:"received",fields:{creator:t.attribute("creator"),infoType:{value:"{"+In+"}received"},name:t.attribute("name")},name:"_{"+In+"}received",namespace:In,tags:["jingle-info"]}),a=e.define({element:"checksum",fields:{creator:t.attribute("creator"),infoType:{value:"{"+In+"}checksum"},name:t.attribute("name")},name:"_{"+In+"}checksum",namespace:In,tags:["jingle-info"]});e.extend(n,r),e.extend(a,n),e.extend(i,n),e.withDefinition("hash",qt,function(t){e.extend(n,t,"hashes"),e.extend(r,t,"hashes")}),e.withDefinition("content",ft,function(t){e.extend(t,i)}),e.withDefinition("jingle",ft,function(t){e.extend(t,o),e.extend(t,a)})}const Dn=It;function Nn(e){const t=e.utils,n=e.define({element:"file",fields:{date:t.dateSub(Dn,"date"),desc:t.textSub(Dn,"desc"),name:t.textSub(Dn,"name"),size:t.numberSub(Dn,"size")},name:"_file",namespace:Dn}),r=e.define({element:"range",fields:{offset:t.numberAttribute("offset")},name:"range",namespace:Dn}),i=e.define({element:"thumbnail",fields:{cid:t.attribute("cid"),height:t.numberAttribute("height"),mimeType:t.attribute("mime-type"),width:t.numberAttribute("width")},name:"thumbnail",namespace:Nt}),o=e.define({element:"description",fields:{applicationType:{value:"filetransfer",writable:!0},offer:t.subExtension("offer",Dn,"offer",n),request:t.subExtension("request",Dn,"request",n)},name:"_filetransfer",namespace:Dn,tags:["jingle-application"]});e.extend(n,r),e.extend(n,i),e.withDefinition("hash",qt,function(t){e.extend(n,t,"hashes")}),e.withDefinition("content",ft,function(t){e.extend(t,o)})}function Ln(e){const t=e.define({element:"forwarded",name:"forwarded",namespace:Bt});e.withMessage(function(n){e.extend(n,t),e.extend(t,n)}),e.withPresence(function(n){e.extend(n,t),e.extend(t,n)}),e.withIQ(function(n){e.extend(n,t),e.extend(t,n)}),e.withDefinition("delay",Tt,function(n){e.extend(t,n)})}function Fn(e){const t=e.utils;e.define({element:"open",fields:{from:t.jidAttribute("from",!0),id:t.attribute("id"),lang:t.langAttribute(),to:t.jidAttribute("to",!0),version:t.attribute("version","1.0")},name:"openStream",namespace:Pe,topLevel:!0}),e.define({element:"close",fields:{seeOtherURI:t.attribute("see-other-uri")},name:"closeStream",namespace:Pe,topLevel:!0})}function Un(e){const t=e.utils,n=e.define({element:"geoloc",fields:{accuracy:t.numberSub(Ke,"accuracy",!0),altitude:t.numberSub(Ke,"alt",!0),area:t.textSub(Ke,"area"),bearing:t.numberSub(Ke,"bearing",!0),building:t.textSub(Ke,"building"),country:t.textSub(Ke,"country"),countrycode:t.textSub(Ke,"countrycode"),datum:t.textSub(Ke,"datum"),description:t.textSub(Ke,"description"),error:t.numberSub(Ke,"error",!0),floor:t.textSub(Ke,"floor"),heading:t.numberSub(Ke,"bearing",!0),latitude:t.numberSub(Ke,"lat",!0),locality:t.textSub(Ke,"locality"),longitude:t.numberSub(Ke,"lon",!0),postalcode:t.textSub(Ke,"postalcode"),region:t.textSub(Ke,"region"),room:t.textSub(Ke,"room"),speed:t.numberSub(Ke,"speed",!0),street:t.textSub(Ke,"street"),text:t.textSub(Ke,"text"),timestamp:t.dateSub(Ke,"timestamp"),tzo:t.tzoSub(Ke,"tzo"),uri:t.textSub(Ke,"uri")},name:"geoloc",namespace:Ke});e.extendPubsubItem(n)}function Bn(e){e.define({element:"hash",fields:{algo:e.utils.attribute("algo"),value:e.utils.text()},name:"hash",namespace:qt})}function qn(e){const t=e.define({element:"hat",fields:{displayName:e.utils.attribute("displayName"),lang:e.utils.langAttribute(),name:e.utils.attribute("name")},name:"_hat",namespace:Qt});e.withPresence(function(n){e.add(n,"hats",e.utils.subMultiExtension(Qt,"hats",t))})}const zn={noCopy:"no-copy",noPermanentStore:"no-permanent-store",noStore:"no-store",store:"store"},Vn={"no-copy":"noCopy","no-permanent-store":"noPermanentStore","no-store":"noStore",store:"store"};function Wn(e){const t=e.utils;e.withMessage(function(n){e.add(n,"processingHints",{get:function(){const e={};for(let t=0,n=this.xml.childNodes.length;t<n;t++){const n=this.xml.childNodes[t],r=n.localName;n.namespaceURI===Zt&&(Vn[r]&&(e[Vn[r]]=!0))}return e},set:function(e){for(let e=0,t=this.xml.childNodes.length;e<t;e++){this.xml.childNodes[e].namespaceURI===Zt&&this.xml.removeChild(this.xml.childNodes[e])}for(const n of Object.keys(e)){if(!e[n]||!zn[n])continue;const r=t.createElement(Zt,zn[n]);this.xml.appendChild(r)}}})})}function Hn(e){const t=e.utils,n=e.define({element:"transport",fields:{gatheringComplete:t.boolSub(wt,"gathering-complete"),pwd:t.attribute("pwd"),transportType:{value:"iceUdp",writable:!0},ufrag:t.attribute("ufrag")},name:"_iceUdp",namespace:wt,tags:["jingle-transport"]}),r=e.define({element:"remote-candidate",fields:{component:t.attribute("component"),ip:t.attribute("ip"),port:t.attribute("port")},name:"remoteCandidate",namespace:wt}),i=e.define({element:"candidate",fields:{component:t.attribute("component"),foundation:t.attribute("foundation"),generation:t.attribute("generation"),id:t.attribute("id"),ip:t.attribute("ip"),network:t.attribute("network"),port:t.attribute("port"),priority:t.attribute("priority"),protocol:t.attribute("protocol"),relAddr:t.attribute("rel-addr"),relPort:t.attribute("rel-port"),tcpType:t.attribute("tcptype"),type:t.attribute("type")},name:"_iceUdpCandidate",namespace:wt}),o=e.define({element:"fingerprint",fields:{hash:t.attribute("hash"),required:t.boolAttribute("required"),setup:t.attribute("setup"),value:t.text()},name:"_iceFingerprint",namespace:Kt}),a=e.define({element:"sctpmap",fields:{number:t.attribute("number"),protocol:t.attribute("protocol"),streams:t.attribute("streams")},name:"_sctpMap",namespace:on});e.extend(n,i,"candidates"),e.extend(n,r),e.extend(n,o,"fingerprints"),e.extend(n,a,"sctp"),e.withDefinition("content",ft,function(t){e.extend(t,n)})}function Gn(t){const n=t.utils,r={get:function(){let t=n.find(this.xml,Le,"data");if(t.length)return t=t[0],{action:"data",data:e.from(n.getText(t),"base64"),seq:parseInt(n.getAttribute(t,"seq")||"0",10),sid:n.getAttribute(t,"sid")};let r=n.find(this.xml,Le,"open");if(r.length){r=r[0];let e=n.getAttribute(r,"stanza");return{ack:e="message"!==e,action:"open",blockSize:n.getAttribute(r,"block-size"),sid:n.getAttribute(r,"sid")}}const i=n.find(this.xml,Le,"close");return i.length?{action:"close",sid:n.getAttribute(i[0],"sid")}:void 0},set:function(e){if("data"===e.action){const t=n.createElement(Le,"data");n.setAttribute(t,"sid",e.sid),n.setAttribute(t,"seq",e.seq.toString()),n.setText(t,e.data.toString("base64")),this.xml.appendChild(t)}if("open"===e.action){const t=n.createElement(Le,"open");n.setAttribute(t,"sid",e.sid),n.setAttribute(t,"block-size",(e.blockSize||"4096").toString()),!1===e.ack?n.setAttribute(t,"stanza","message"):n.setAttribute(t,"stanza","iq"),this.xml.appendChild(t)}if("close"===e.action){const t=n.createElement(Le,"close");n.setAttribute(t,"sid",e.sid),this.xml.appendChild(t)}}},i=t.define({element:"transport",fields:{ack:{get:function(){return"message"!==n.getAttribute(this.xml,"stanza")},set:function(e){!1===e.ack?n.setAttribute(this.xml,"stanza","message"):n.setAttribute(this.xml,"stanza","iq")}},blockSize:n.numberAttribute("block-size"),sid:n.attribute("sid"),transportType:{value:Dt,writable:!0}},name:"_"+Dt,namespace:Dt,tags:["jingle-transport"]});t.withDefinition("content",ft,function(e){t.extend(e,i)}),t.withIQ(function(e){t.add(e,"ibb",r)}),t.withMessage(function(e){t.add(e,"ibb",r)})}const $n={};function Qn(e){$n.defineIQ(e,"iq",be),$n.defineIQ(e,"serverIQ",we),$n.defineIQ(e,"componentIQ",nt)}function Yn(e){e.withIQ(function(t){e.add(t,"jidPrep",{get:function(){const t=e.utils.getSubText(this.xml,Jt,"jid");if(t){const e=new x(t);return e.prepped=!0,e}},set:function(t){e.utils.setSubText(this.xml,Jt,"jid",(t||"").toString())}})})}$n.defineIQ=function(e,t,n){const r=e.utils,i=e.define({element:"iq",fields:{from:r.jidAttribute("from",!0),id:r.attribute("id"),lang:r.langAttribute(),to:r.jidAttribute("to",!0),type:r.attribute("type")},name:t,namespace:n,topLevel:!0}),o=i.prototype.toJSON;Object.assign(i.prototype,{toJSON(){const e=o.call(this);return e.resultReply=this.resultReply,e.errorReply=this.errorReply,e},resultReply(e){return(e=e||{}).to=this.from,e.id=this.id,e.type="result",new i(e)},errorReply(e){return(e=e||{}).to=this.from,e.id=this.id,e.type="error",new i(e)}})};const Kn=["out-of-order","tie-break","unknown-session","unsupported-info"],Jn=["alternative-session","busy","cancel","connectivity-error","decline","expired","failed-application","failed-transport","general-error","gone","incompatible-parameters","media-error","security-error","success","timeout","unsupported-applications","unsupported-transports"];function Xn(e){const t=e.utils,n=e.define({element:"jingle",fields:{action:t.attribute("action"),info:{get:function(){const n=e.tagged("jingle-info").map(function(e){return e.prototype._name});for(let e=0,t=n.length;e<t;e++)if(this._extensions[n[e]])return this._extensions[n[e]];if("session-info"===t.getAttribute(this.xml,"action"))return 0===this.xml.children.length?{infoType:"ping"}:{infoType:"unknown"}},set:function(e){if("ping"===e.infoType)return;this["_"+e.infoType]=e}},initiator:t.attribute("initiator"),responder:t.attribute("responder"),sid:t.attribute("sid")},name:"jingle",namespace:ft}),r=e.define({element:"content",fields:{application:{get:function(){const t=e.tagged("jingle-application").map(function(e){return e.prototype._name});for(let e=0,n=t.length;e<n;e++)if(this._extensions[t[e]])return this._extensions[t[e]]},set:function(e){this["_"+e.applicationType]=e}},creator:t.attribute("creator"),disposition:t.attribute("disposition","session"),name:t.attribute("name"),security:{get:function(){const t=e.tagged("jingle-security").map(function(e){return e.prototype._name});for(let e=0,n=t.length;e<n;e++)if(this._extensions[t[e]])return this._extensions[t[e]]},set:function(e){this["_"+e.securityType]=e}},senders:t.attribute("senders","both"),transport:{get:function(){const t=e.tagged("jingle-transport").map(function(e){return e.prototype._name});for(let e=0,n=t.length;e<n;e++)if(this._extensions[t[e]])return this._extensions[t[e]]},set:function(e){this["_"+e.transportType]=e}}},name:"_jingleContent",namespace:ft}),i=e.define({element:"reason",fields:{alternativeSession:{get:function(){return t.getSubText(this.xml,ft,"alternative-session")},set:function(e){this.condition="alternative-session",t.setSubText(this.xml,ft,"alternative-session",e)}},condition:t.enumSub(ft,Jn),text:t.textSub(ft,"text")},name:"reason",namespace:ft});e.extend(n,r,"contents"),e.extend(n,i),e.extendIQ(n),e.withStanzaError(function(n){e.add(n,"jingleCondition",t.enumSub(ht,Kn))})}function Zn(e){const t={get:function(){const t=e.utils.getSubText(this.xml,en,"json");if(t)return JSON.parse(t)},set:function(t){(t=JSON.stringify(t))&&e.utils.setSubText(this.xml,en,"json",t)}};e.withMessage(function(n){e.add(n,"json",t)}),e.withPubsubItem(function(n){e.add(n,"json",t)})}function er(e){const t=e.utils,n=e.define({element:"log",fields:{facility:t.attribute("facility"),id:t.attribute("id"),level:t.attribute("level"),message:t.textSub(tn,"message"),module:t.attribute("module"),object:t.attribute("object"),stackTrace:t.textSub(tn,"stackTrace"),subject:t.attribute("subject"),timestamp:t.dateAttribute("timestamp"),type:t.attribute("type")},name:"log",namespace:tn}),r=e.define({element:"tag",fields:{name:t.attribute("name"),type:t.attribute("type"),value:t.attribute("value")},name:"_logtag",namespace:tn});e.extend(n,r,"tags"),e.extendMessage(n),e.extendPubsubItem(n)}function tr(e){const t=e.utils,n=e.define({element:"query",fields:{node:t.attribute("node"),queryid:t.attribute("queryid")},name:"mam",namespace:$t}),r=e.define({element:"result",fields:{id:t.attribute("id"),queryid:t.attribute("queryid")},name:"mamItem",namespace:$t}),i=e.define({element:"fin",fields:{complete:t.boolAttribute("complete"),stable:t.boolAttribute("stable")},name:"mamResult",namespace:$t}),o=e.define({element:"prefs",fields:{always:{get:function(){const e=[];let n=t.find(this.xml,$t,"always");if(0===n.length)return e;n=n[0];const r=t.getMultiSubText(n,$t,"jid");for(const t of r)e.push(new x(t.textContent));return e},set:function(e){if(e.length>0){const n=t.findOrCreate(this.xml,$t,"always");t.setMultiSubText(n,$t,"jid",e)}}},defaultCondition:t.attribute("default"),never:{get:function(){const e=[];let n=t.find(this.xml,$t,"always");if(0===n.length)return e;n=n[0];const r=t.getMultiSubText(n,$t,"jid");for(const t of r)e.push(new x(t.textContent));return e},set:function(e){if(e.length>0){const n=t.findOrCreate(this.xml,$t,"never");t.setMultiSubText(n,$t,"jid",e)}}}},name:"mamPrefs",namespace:$t});e.extendMessage(r),e.extendIQ(n),e.extendIQ(o),e.extendIQ(i),e.withDataForm(function(t){e.extend(n,t)}),e.withDefinition("forwarded",Bt,function(t){e.extend(r,t)}),e.withDefinition("set",ze,function(t){e.extend(n,t),e.extend(i,t)})}function nr(e){e.withMessage(function(t){e.add(t,"markable",e.utils.boolSub(Xt,"markable")),e.add(t,"received",e.utils.subAttribute(Xt,"received","id")),e.add(t,"displayed",e.utils.subAttribute(Xt,"displayed","id")),e.add(t,"acknowledged",e.utils.subAttribute(Xt,"acknowledged","id"))})}const rr={};function ir(e){rr.defineMessage(e,"message",be),rr.defineMessage(e,"serverMessage",we),rr.defineMessage(e,"componentMessage",nt)}rr.defineMessage=function(e,t,n){const r=e.utils;e.define({element:"message",fields:{$body:{get:function(){return r.getSubLangText(this.xml,n,"body",this.lang)}},attention:r.boolSub(jt,"attention"),body:{get:function(){return this.$body[this.lang]||""},set:function(e){r.setSubLangText(this.xml,n,"body",e,this.lang)}},chatState:r.enumSub(Ze,["active","composing","paused","inactive","gone"]),from:r.jidAttribute("from",!0),id:r.attribute("id"),lang:r.langAttribute(),parentThread:r.subAttribute(n,"thread","parent"),receipt:r.subAttribute(xt,"received","id"),replace:r.subAttribute(Ht,"replace","id"),requestReceipt:r.boolSub(xt,"request"),subject:r.textSub(n,"subject"),thread:r.textSub(n,"thread"),to:r.jidAttribute("to",!0),type:r.attribute("type","normal")},name:t,namespace:n,topLevel:!0})};const or=["afraid","amazed","amorous","angry","annoyed","anxious","aroused","ashamed","bored","brave","calm","cautious","cold","confident","confused","contemplative","contented","cranky","crazy","creative","curious","dejected","depressed","disappointed","disgusted","dismayed","distracted","embarrassed","envious","excited","flirtatious","frustrated","grateful","grieving","grumpy","guilty","happy","hopeful","hot","humbled","humiliated","hungry","hurt","impressed","in_awe","in_love","indignant","interested","intoxicated","invincible","jealous","lonely","lucky","mean","moody","nervous","neutral","offended","outraged","playful","proud","relaxed","relieved","remorseful","restless","sad","sarcastic","serious","shocked","shy","sick","sleepy","spontaneous","stressed","strong","surprised","thankful","thirsty","tired","undefined","weak","worried"];function ar(e){const t=e.define({element:"mood",fields:{text:e.utils.textSub(tt,"text"),value:e.utils.enumSub(tt,or)},name:"mood",namespace:tt});e.extendMessage(t),e.extendPubsubItem(t)}function sr(e,t){return{get:function(){if(this._extensions[e])return this[e][t]},set:function(n){this[e][t]=n}}}function cr(e){const t=e.utils,n=e.define({element:"item",fields:{affiliation:t.attribute("affiliation"),jid:t.jidAttribute("jid"),nick:t.attribute("nick"),reason:t.textSub(Ne,"reason"),role:t.attribute("role")},name:"_mucUserItem",namespace:Ne}),r=e.define({element:"actor",fields:{jid:t.jidAttribute("jid"),nick:t.attribute("nick")},name:"_mucUserActor",namespace:Ne}),i=e.define({element:"destroy",fields:{jid:t.jidAttribute("jid"),reason:t.textSub(Ne,"reason")},name:"destroyed",namespace:Ne}),o=e.define({element:"invite",fields:{continue:t.boolSub(Ne,"continue"),from:t.jidAttribute("from"),reason:t.textSub(Ne,"reason"),thread:t.subAttribute(Ne,"continue","thread"),to:t.jidAttribute("to")},name:"invite",namespace:Ne}),a=e.define({element:"decline",fields:{from:t.jidAttribute("from"),reason:t.textSub(Ne,"reason"),to:t.jidAttribute("to")},name:"decline",namespace:Ne}),s=e.define({element:"item",fields:{affiliation:t.attribute("affiliation"),jid:t.jidAttribute("jid"),nick:t.attribute("nick"),reason:t.textSub(Me,"reason"),role:t.attribute("role")},name:"_mucAdminItem",namespace:Me}),c=e.define({element:"actor",fields:{jid:t.jidAttribute("jid"),nick:t.attribute("nick")},name:"actor",namespace:Ne}),u=e.define({element:"destroy",fields:{jid:t.jidAttribute("jid"),password:t.textSub(De,"password"),reason:t.textSub(De,"reason")},name:"destroy",namespace:De}),l=e.define({element:"x",fields:{actor:sr("_mucUserItem","_mucUserActor"),affiliation:sr("_mucUserItem","affiliation"),codes:{get:function(){return t.getMultiSubText(this.xml,Ne,"status",function(e){return t.getAttribute(e,"code")})},set:function(e){const n=this;t.setMultiSubText(this.xml,Ne,"status",e,function(e){const r=t.createElement(Ne,"status",Ne);t.setAttribute(r,"code",e),n.xml.appendChild(r)})}},jid:sr("_mucUserItem","jid"),nick:sr("_mucUserItem","nick"),password:t.textSub(Ne,"password"),reason:sr("_mucUserItem","reason"),role:sr("_mucUserItem","role")},name:"muc",namespace:Ne}),d=e.define({element:"query",fields:{actor:sr("_mucAdminItem","_mucAdminActor"),affiliation:sr("_mucAdminItem","affiliation"),jid:sr("_mucAdminItem","jid"),nick:sr("_mucAdminItem","nick"),reason:sr("_mucAdminItem","reason"),role:sr("_mucAdminItem","role")},name:"mucAdmin",namespace:Me}),p=e.define({element:"query",name:"mucOwner",namespace:De}),f=e.define({element:"x",fields:{history:{get:function(){let e=t.find(this.xml,Ie,"history");if(!e.length)return{};(e=e[0]).getAttribute("maxchars"),e.getAttribute("maxstanzas"),e.getAttribute("seconds"),e.getAttribute("since")},set:function(e){const n=t.find(this.xml,Ie,"history");if(n.length)for(let e=0;e<n.length;e++)this.xml.removeChild(n[e]);const r=t.createElement(Ie,"history",Ie);this.xml.appendChild(r),void 0!==e.maxchars&&r.setAttribute("maxchars",""+e.maxchars),void 0!==e.maxstanzas&&r.setAttribute("maxstanzas",""+e.maxstanzas),void 0!==e.seconds&&r.setAttribute("seconds",""+e.seconds),e.since&&r.setAttribute("since",e.since.toISOString())}},password:t.textSub(Ie,"password")},name:"joinMuc",namespace:Ie}),h=e.define({element:"x",fields:{continue:t.boolAttribute("continue"),jid:t.jidAttribute("jid"),password:t.attribute("password"),reason:t.attribute("reason"),thread:t.attribute("thread")},name:"mucInvite",namespace:Mt});e.extend(n,r),e.extend(l,n),e.extend(l,o,"invites"),e.extend(l,a),e.extend(l,i),e.extend(s,c),e.extend(d,s,"items"),e.extend(p,u),e.extendPresence(l),e.extendPresence(f),e.extendMessage(l),e.extendMessage(h),e.withIQ(function(n){e.add(n,"mucUnique",t.textSub(Wt,"unique")),e.extend(n,d),e.extend(n,p)}),e.withDataForm(function(t){e.extend(p,t)})}function ur(e){const t=e.utils.textSub(yt,"nick");e.withPubsubItem(function(n){e.add(n,"nick",t)}),e.withPresence(function(n){e.add(n,"nick",t)}),e.withMessage(function(n){e.add(n,"nick",t)})}function lr(e){const t=e.utils,n=e.define({element:"encrypted",fields:{payload:t.textSub(dn,"payload")},name:"omemo",namespace:dn}),r=e.define({element:"header",fields:{iv:t.textSub(dn,"iv"),sid:t.attribute("sid")},name:"header",namespace:dn}),i=e.define({element:"key",fields:{preKey:t.boolAttribute("prekey"),rid:t.attribute("rid"),value:t.text()},namespace:dn}),o=e.define({element:"list",fields:{devices:t.multiSubAttribute(dn,"device","id")},name:"omemoDeviceList",namespace:dn}),a=e.define({element:"preKeyPublic",fields:{id:t.attribute("preKeyId"),value:t.text()},name:"preKeyPublic",namespace:dn}),s=e.define({element:"signedPreKeyPublic",fields:{id:t.attribute("signedPreKeyId"),value:t.text()},name:"signedPreKeyPublic",namespace:dn}),c=e.define({element:"bundle",fields:{identityKey:t.textSub(dn,"identityKey"),preKeys:t.subMultiExtension(dn,"prekeys",a),signedPreKeySignature:t.textSub(dn,"signedPreKeySignature")},name:"omemoDevice",namespace:dn});e.extend(c,s),e.extend(r,i,"keys",!0),e.extend(n,r),e.withMessage(function(t){e.extend(t,n)}),e.withPubsubItem(function(t){e.extend(t,c),e.extend(t,o)})}function dr(e){const t=e.define({element:"x",fields:{desc:e.utils.textSub(Qe,"desc"),url:e.utils.textSub(Qe,"url")},name:"oob",namespace:Qe}),n=e.define({element:"query",fields:{desc:e.utils.textSub(Qe,"desc"),url:e.utils.textSub(Qe,"url")},name:"oob",namespace:$e});e.extendMessage(t,"oobURIs"),e.extendIQ(n)}function pr(e){const t=e.define({element:"ping",name:"ping",namespace:Ct});e.extendIQ(t)}const fr={};function hr(e){fr.definePresence(e,"presence",be),fr.definePresence(e,"serverPresence",we),fr.definePresence(e,"componentPresence",nt)}function mr(e){const t=e.define({element:"query",name:"privateStorage",namespace:Ue});e.extendIQ(t)}fr.definePresence=function(e,t,n){const r=e.utils;e.define({element:"presence",fields:{$status:{get:function(){return r.getSubLangText(this.xml,n,"status",this.lang)}},avatarId:{get:function(){const e=r.find(this.xml,"vcard-temp:x:update","x");return e.length?r.getSubText(e[0],"vcard-temp:x:update","photo"):""},set:function(e){const t=r.findOrCreate(this.xml,"vcard-temp:x:update","x");if(""===e)r.setBoolSub(t,"vcard-temp:x:update","photo",!0);else{if(!0===e)return;e?r.setSubText(t,"vcard-temp:x:update","photo",e):this.xml.removeChild(t)}}},decloak:r.subAttribute("urn:xmpp:decloaking:0","decloak","reason"),from:r.jidAttribute("from",!0),id:r.attribute("id"),idleSince:r.dateSubAttribute(Yt,"idle","since"),lang:r.langAttribute(),priority:r.numberSub(n,"priority",!1,0),show:r.textSub(n,"show"),status:{get:function(){return this.$status[this.lang]||""},set:function(e){r.setSubLangText(this.xml,n,"status",e,this.lang)}},to:r.jidAttribute("to",!0),type:{get:function(){return r.getAttribute(this.xml,"type","available")},set:function(e){"available"===e&&(e=!1),r.setAttribute(this.xml,"type",e)}}},name:t,namespace:n,topLevel:!0})};const gr=["server-unavailable","connection-paused"];function vr(e){const t=e.define({element:"state-annotation",fields:{condition:e.utils.enumSub(Gt,gr),description:e.utils.textSub(Gt,"description"),from:e.utils.jidAttribute("from")},name:"state",namespace:Gt});e.extendPresence(t)}function br(e){const t=e.utils,n=e.define({element:"pubsub",fields:{create:{get:function(){const e=t.getSubAttribute(this.xml,Ve,"create","node");return e||t.getBoolSub(this.xml,Ve,"create")},set:function(e){!0!==e&&e?t.setSubAttribute(this.xml,Ve,"create","node",e):t.setBoolSub(this.xml,Ve,"create",e)}},publishOptions:{get:function(){const n=e.getDefinition("x",Re),r=t.find(this.xml,Ve,"publish-options");if(r.length&&r[0].childNodes.length)return new n({},r[0].childNodes[0])},set:function(n){const r=e.getDefinition("x",Re),i=t.findOrCreate(this.xml,Ve,"publish-options");if(n){const e=new r(n);i.appendChild(e.xml)}}}},name:"pubsub",namespace:Ve}),r=e.define({element:"configure",name:"config",namespace:Ve}),i=e.define({element:"subscribe",fields:{jid:t.jidAttribute("jid"),node:t.attribute("node")},name:"subscribe",namespace:Ve}),o=e.define({element:"subscription",fields:{configurable:t.boolSub("subscribe-options"),configurationRequired:{get:function(){const e=t.find(this.xml,Ve,"subscribe-options");return!!e.length&&t.getBoolSub(e[0],Ve,"required")}},jid:t.jidAttribute("jid"),node:t.attribute("node"),subid:t.attribute("subid"),type:t.attribute("subscription")},name:"subscription",namespace:Ve}),a=e.define({element:"subscriptions",fields:{jid:t.jidAttribute("jid"),node:t.attribute("node")},name:"subscriptions",namespace:Ve}),s=e.define({element:"affiliation",fields:{node:t.attribute("node"),type:t.attribute("affiliation")},name:"affiliation",namespace:Ve}),c=e.define({element:"affiliations",fields:{node:t.attribute("node")},name:"affiliations",namespace:Ve}),u=e.define({element:"options",fields:{jid:t.jidAttribute("jid"),node:t.attribute("node"),subid:t.attribute("subid")},name:"subscriptionOptions",namespace:Ve}),l=e.define({element:"unsubscribe",fields:{jid:t.jidAttribute("jid"),node:t.attribute("node"),subid:t.attribute("subid")},name:"unsubscribe",namespace:Ve}),d=e.define({element:"publish",fields:{node:t.attribute("node")},name:"publish",namespace:Ve}),p=e.define({element:"retract",fields:{id:t.subAttribute(Ve,"item","id"),node:t.attribute("node"),notify:t.boolAttribute("notify")},name:"retract",namespace:Ve}),f=e.define({element:"items",fields:{max:t.attribute("max_items"),node:t.attribute("node")},name:"retrieve",namespace:Ve}),h=e.define({element:"item",fields:{id:t.attribute("id"),publisher:t.jidAttribute("publisher")},name:"item",namespace:Ve});e.extend(n,r),e.extend(n,i),e.extend(n,l),e.extend(n,d),e.extend(n,p),e.extend(n,f),e.extend(n,o),e.extend(n,u),e.extend(n,a),e.extend(n,c),e.extend(d,h,"items"),e.extend(f,h,"items"),e.extend(a,o,"list"),e.extend(c,s,"list"),e.extendIQ(n),e.withDataForm(function(t){e.extend(u,t),e.extend(h,t),e.extend(r,t)}),e.withDefinition("set",ze,function(t){e.extend(n,t)})}const yr=["closed-node","configuration-required","invalid-jid","invalid-options","invalid-payload","invalid-subid","item-forbidden","item-required","jid-required","max-items-exceeded","max-nodes-exceeded","nodeid-required","not-in-roster-group","not-subscribed","payload-too-big","payload-required","pending-subscription","presence-subscription-required","subid-required","too-many-subscriptions","unsupported","unsupported-access-model"];function wr(e){e.withStanzaError(function(t){e.add(t,"pubsubCondition",e.utils.enumSub(We,yr)),e.add(t,"pubsubUnsupportedFeature",{get:function(){return e.utils.getSubAttribute(this.xml,We,"unsupported","feature")},set:function(t){t&&(this.pubsubCondition="unsupported"),e.utils.setSubAttribute(this.xml,We,"unsupported","feature",t)}})})}function xr(e){const t=e.utils,n=e.define({element:"event",name:"event",namespace:He}),r=e.define({element:"purge",fields:{node:t.attribute("node")},name:"purged",namespace:He}),i=e.define({element:"delete",fields:{node:t.attribute("node"),redirect:t.subAttribute(He,"redirect","uri")},name:"deleted",namespace:He}),o=e.define({element:"subscription",fields:{expiry:{get:function(){const e=t.getAttribute(this.xml,"expiry");return"presence"===e?e:e?new Date(e):void 0},set:function(e){e&&("string"!=typeof e&&(e=e.toISOString()),t.setAttribute(this.xml,"expiry",e))}},jid:t.jidAttribute("jid"),node:t.attribute("node"),subid:t.attribute("subid"),type:t.attribute("subscription")},name:"subscriptionChanged",namespace:He}),a=e.define({element:"configuration",fields:{node:t.attribute("node")},name:"configurationChanged",namespace:He}),s=e.define({element:"items",fields:{node:t.attribute("node"),retracted:{get:function(){const e=[],n=t.find(this.xml,He,"retract");for(const t of n)e.push(t.getAttribute("id"));return e},set:function(e){const n=this;for(const r of e){const e=t.createElement(He,"retract",He);e.setAttribute("id",r),n.xml.appendChild(e)}}}},name:"updated",namespace:He}),c=e.define({element:"item",fields:{id:t.attribute("id"),node:t.attribute("node"),publisher:t.jidAttribute("publisher")},name:"_eventItem",namespace:He});e.extend(s,c,"published"),e.extend(n,s),e.extend(n,o),e.extend(n,a),e.extend(n,i),e.extend(n,r),e.extendMessage(n),e.withDataForm(function(t){e.extend(a,t)})}function Sr(e){const t=e.utils,n=e.define({element:"pubsub",fields:{del:t.subAttribute(Ge,"delete","node"),purge:t.subAttribute(Ge,"purge","node"),redirect:{get:function(){const e=t.find(this.xml,Ge,"delete");return e.length?t.getSubAttribute(e[0],Ge,"redirect","uri"):""},set:function(e){const n=t.findOrCreate(this.xml,Ge,"delete");t.setSubAttribute(n,Ge,"redirect","uri",e)}}},name:"pubsubOwner",namespace:Ge}),r=e.define({element:"subscription",fields:{configurable:t.boolSub("subscribe-options"),configurationRequired:{get:function(){const e=t.find(this.xml,Ge,"subscribe-options");return!!e.length&&t.getBoolSub(e[0],Ge,"required")}},jid:t.jidAttribute("jid"),node:t.attribute("node"),subid:t.attribute("subid"),type:t.attribute("subscription")},name:"subscription",namespace:Ge}),i=e.define({element:"subscriptions",fields:{node:t.attribute("node")},name:"subscriptions",namespace:Ge}),o=e.define({element:"affiliation",fields:{jid:t.jidAttribute("jid"),type:t.attribute("affiliation")},name:"affiliation",namespace:Ge}),a=e.define({element:"affiliations",fields:{node:t.attribute("node")},name:"affiliations",namespace:Ge}),s=e.define({element:"configure",fields:{node:t.attribute("node")},name:"config",namespace:Ge}),c=e.define({element:"default",name:"default",namespace:Ge});e.extend(n,s),e.extend(n,i),e.extend(n,a),e.extend(n,c),e.extend(i,r,"list"),e.extend(a,o,"list"),e.extendIQ(n),e.withDataForm(function(t){e.extend(s,t)})}function _r(e){const t=e.utils,n=e.define({element:"enable",fields:{jid:t.jidAttribute("jid"),node:t.attribute("node")},name:"enablePush",namespace:sn}),r=e.define({element:"disable",fields:{jid:t.jidAttribute("jid"),node:t.attribute("node")},name:"disablePush",namespace:sn}),i=e.define({element:"notification",name:"pushNotification",namespace:sn});e.withDataForm(t=>{e.extend(i,t),e.extend(n,t)}),e.extendIQ(n),e.extendIQ(r)}function kr(e){const t=e.utils,n=e.define({element:"addr",fields:{$desc:{get:function(){return t.getSubLangText(this.xml,ut,"desc",this.lang)}},desc:{get:function(){return this.$desc[this.lang]||""},set:function(e){t.setSubLangText(this.xml,ut,"desc",e,this.lang)}},uri:t.attribute("uri")},name:"_reachAddr",namespace:ut}),r={get:function(){const e=t.find(this.xml,ut,"reach"),r=[];if(e.length){const i=t.find(e[0],ut,"addr");for(const e of i)r.push(new n({},e))}return r},set:function(e){const r=t.findOrCreate(this.xml,ut,"reach");t.setAttribute(r,"xmlns",ut);for(const t of e){const e=new n(t);r.appendChild(e.xml)}}};e.withPubsubItem(function(t){e.add(t,"reach",r)}),e.withPresence(function(t){e.add(t,"reach",r)})}function Cr(e){const t=e.utils,n=e.define({element:"query",fields:{address:t.textSub(Ye,"address"),city:t.textSub(Ye,"city"),date:t.textSub(Ye,"date"),email:t.textSub(Ye,"email"),first:t.textSub(Ye,"first"),instructions:t.textSub(Ye,"instructions"),key:t.textSub(Ye,"key"),last:t.textSub(Ye,"last"),misc:t.textSub(Ye,"misc"),name:t.textSub(Ye,"name"),nick:t.textSub(Ye,"nick"),password:t.textSub(Ye,"password"),phone:t.textSub(Ye,"phone"),registered:t.boolSub(Ye,"registered"),remove:t.boolSub(Ye,"remove"),state:t.textSub(Ye,"state"),text:t.textSub(Ye,"text"),url:t.textSub(Ye,"url"),username:t.textSub(Ye,"username"),zip:t.textSub(Ye,"zip")},name:"register",namespace:Ye});e.extendIQ(n),e.withDefinition("x",Qe,function(t){e.extend(n,t)}),e.withDataForm(function(t){e.extend(n,t)})}function Er(e){const t=e.utils,n=e.define({element:"reference",fields:{anchor:t.attribute("anchor"),begin:t.numberAttribute("begin"),end:t.numberAttribute("end"),type:t.attribute("type"),uri:t.attribute("uri")},name:"reference",namespace:un}),r=t.multiExtension(n);e.withMessage(function(t){e.add(t,"references",r)})}function Tr(e){const t=e.utils,n=e.define({element:"query",fields:{ver:{get:function(){return t.getAttribute(this.xml,"ver")},set:function(e){const n=""===e;t.setAttribute(this.xml,"ver",e,n)}}},name:"roster",namespace:Ce}),r=e.define({element:"item",fields:{groups:t.multiTextSub(Ce,"group"),jid:t.jidAttribute("jid",!0),name:t.attribute("name"),preApproved:t.boolAttribute(Ce,"approved"),subscription:t.attribute("subscription","none"),subscriptionRequested:{get:function(){return"subscribe"===t.getAttribute(this.xml,"ask")}}},name:"_rosterItem",namespace:Ce});e.extend(n,r,"items"),e.extendIQ(n)}function Pr(e){const t=e.utils;e.define({element:"set",fields:{after:t.textSub(ze,"after"),before:{get:function(){return t.getSubText(this.xml,ze,"before")},set:function(e){!0===e?t.findOrCreate(this.xml,ze,"before"):t.setSubText(this.xml,ze,"before",e)}},count:t.numberSub(ze,"count",!1,0),first:t.textSub(ze,"first"),firstIndex:t.numberSubAttribute(ze,"first","index"),index:t.numberSub(ze,"index",!1),last:t.textSub(ze,"last"),max:t.numberSub(ze,"max",!1)},name:"rsm",namespace:ze})}function Rr(e){const t=e.utils,n={get:function(){let e=t.find(this.xml,Ft,"rtcp-fb");const n=[];for(const r of e)n.push({subtype:t.getAttribute(r,"subtype"),type:t.getAttribute(r,"type")});e=t.find(this.xml,Ft,"rtcp-fb-trr-int");for(const r of e)n.push({type:t.getAttribute(r,"type"),value:t.getAttribute(r,"value")});return n},set:function(e){const n=this;let r=t.find(this.xml,Ft,"rtcp-fb");for(const e of r)n.xml.removeChild(e);r=t.find(this.xml,Ft,"rtcp-fb-trr-int");for(const e of r)n.xml.removeChild(e);for(const r of e){let e;"trr-int"===r.type?(e=t.createElement(Ft,"rtcp-fb-trr-int",mt),t.setAttribute(e,"type",r.type),t.setAttribute(e,"value",r.value)):(e=t.createElement(Ft,"rtcp-fb",mt),t.setAttribute(e,"type",r.type),t.setAttribute(e,"subtype",r.subtype)),n.xml.appendChild(e)}}},r=e.define({element:"bandwidth",fields:{bandwidth:t.text(),type:t.attribute("type")},name:"bandwidth",namespace:mt}),i=e.define({element:"description",fields:{applicationType:{value:"rtp",writable:!0},encryption:{get:function(){let e=t.find(this.xml,mt,"encryption");if(!e.length)return[];e=e[0];const n=this,r=t.find(e,mt,"crypto"),i=[];for(const e of r)i.push(new a({},e,n).toJSON());return i},set:function(e){let n=t.find(this.xml,mt,"encryption");if(n.length&&this.xml.removeChild(n),!e.length)return;t.setBoolSubAttribute(this.xml,mt,"encryption","required",!0),n=t.find(this.xml,mt,"encryption")[0];const r=this;for(const t of e){const e=new a(t,null,r);n.appendChild(e.xml)}}},feedback:n,headerExtensions:{get:function(){const e=t.find(this.xml,Ut,"rtp-hdrext"),n=[];for(const r of e)n.push({id:t.getAttribute(r,"id"),senders:t.getAttribute(r,"senders"),uri:t.getAttribute(r,"uri")});return n},set:function(e){const n=this,r=t.find(this.xml,Ut,"rtp-hdrext");for(const e of r)n.xml.removeChild(e);for(const r of e){const e=t.createElement(Ut,"rtp-hdrext",mt);t.setAttribute(e,"id",r.id),t.setAttribute(e,"uri",r.uri),t.setAttribute(e,"senders",r.senders),n.xml.appendChild(e)}}},media:t.attribute("media"),mux:t.boolSub(mt,"rtcp-mux"),reducedSize:t.boolSub(mt,"rtcp-rsize"),ssrc:t.attribute("ssrc")},name:"_rtp",namespace:mt,tags:["jingle-application"]}),o=e.define({element:"payload-type",fields:{channels:t.attribute("channels"),clockrate:t.attribute("clockrate"),feedback:n,id:t.attribute("id"),maxptime:t.attribute("maxptime"),name:t.attribute("name"),parameters:{get:function(){const e=[],n=t.find(this.xml,mt,"parameter");for(const r of n)e.push({key:t.getAttribute(r,"name"),value:t.getAttribute(r,"value")});return e},set:function(e){const n=this;for(const r of e){const e=t.createElement(mt,"parameter");t.setAttribute(e,"name",r.key),t.setAttribute(e,"value",r.value),n.xml.appendChild(e)}}},ptime:t.attribute("ptime")},name:"_payloadType",namespace:mt}),a=e.define({element:"crypto",fields:{cipherSuite:t.attribute("crypto-suite"),keyParams:t.attribute("key-params"),sessionParams:t.attribute("session-params"),tag:t.attribute("tag")},name:"crypto",namespace:mt}),s=e.define({element:"group",fields:{contents:t.multiSubAttribute(nn,"content","name"),semantics:t.attribute("semantics")},name:"_group",namespace:nn}),c=e.define({element:"ssrc-group",fields:{semantics:t.attribute("semantics"),sources:t.multiSubAttribute(rn,"source","ssrc")},name:"_sourceGroup",namespace:rn}),u=e.define({element:"source",fields:{parameters:{get:function(){const e=[],n=t.find(this.xml,rn,"parameter");for(const r of n)e.push({key:t.getAttribute(r,"name"),value:t.getAttribute(r,"value")});return e},set:function(e){const n=this;for(const r of e){const e=t.createElement(rn,"parameter");t.setAttribute(e,"name",r.key),t.setAttribute(e,"value",r.value),n.xml.appendChild(e)}}},ssrc:t.attribute("ssrc")},name:"_source",namespace:rn}),l=e.define({element:"stream",fields:{id:t.attribute("id"),track:t.attribute("track")},name:"_stream",namespace:"urn:xmpp:jingle:apps:rtp:msid:0"}),d=e.define({element:"mute",fields:{creator:t.attribute("creator"),name:t.attribute("name")},name:"mute",namespace:gt}),p=e.define({element:"unmute",fields:{creator:t.attribute("creator"),name:t.attribute("name")},name:"unmute",namespace:gt});e.extend(i,r),e.extend(i,o,"payloads"),e.extend(i,u,"sources"),e.extend(i,c,"sourceGroups"),e.extend(i,l,"streams"),e.withDefinition("content",ft,function(t){e.extend(t,i)}),e.withDefinition("jingle",ft,function(n){e.extend(n,d),e.extend(n,p),e.extend(n,s,"groups"),e.add(n,"ringing",t.boolSub(gt,"ringing")),e.add(n,"hold",t.boolSub(gt,"hold")),e.add(n,"active",t.boolSub(gt,"active"))})}const Ar={erase:"e",insert:"t",wait:"w"},jr={e:"erase",t:"insert",w:"wait"};function Or(e){const t=e.utils,n=e.define({element:"rtt",fields:{actions:{get:function(){const e=[];for(let n=0,r=this.xml.childNodes.length;n<r;n++){const r=this.xml.childNodes[n],i=r.localName,o={};if(r.namespaceURI!==Vt)continue;if(!jr[i])continue;o.type=jr[i];const a=t.getAttribute(r,"p");a&&(o.pos=parseInt(a,10));const s=t.getAttribute(r,"n");s&&(o.num=parseInt(s,10));const c=t.getText(r);c&&"t"===i&&(o.text=c),e.push(o)}return e},set:function(e){const n=this;for(let e=0,t=this.xml.childNodes.length;e<t;e++)this.xml.removeChild(this.xml.childNodes[e]);for(const r of e){if(!Ar[r.type])return;const e=t.createElement(Vt,Ar[r.type],Vt);void 0!==r.pos&&t.setAttribute(e,"p",r.pos.toString()),r.num&&t.setAttribute(e,"n",r.num.toString()),r.text&&t.setText(e,r.text),n.xml.appendChild(e)}}},event:t.attribute("event","edit"),id:t.attribute("id"),seq:t.numberAttribute("seq")},name:"rtt",namespace:Vt});e.extendMessage(n)}const Ir=["aborted","account-disabled","credentials-expired","encryption-required","incorrect-encoding","invalid-authzid","invalid-mechanism","malformed-request","mechanism-too-weak","not-authorized","temporary-auth-failure","not-supported"];function Mr(e){const t=e.utils,n=e.define({element:"mechanisms",fields:{mechanisms:t.multiTextSub(ye,"mechanism")},name:"sasl",namespace:ye});e.define({element:"auth",eventName:"sasl:auth",fields:{mechanism:t.attribute("mechanism"),value:t.text()},name:"saslAuth",namespace:ye,topLevel:!0}),e.define({element:"challenge",eventName:"sasl:challenge",fields:{value:t.text()},name:"saslChallenge",namespace:ye,topLevel:!0}),e.define({element:"response",eventName:"sasl:response",fields:{value:t.text()},name:"saslResponse",namespace:ye,topLevel:!0}),e.define({element:"abort",eventName:"sasl:abort",name:"saslAbort",namespace:ye,topLevel:!0}),e.define({element:"success",eventName:"sasl:success",fields:{value:t.text()},name:"saslSuccess",namespace:ye,topLevel:!0}),e.define({element:"failure",eventName:"sasl:failure",fields:{$text:{get:function(){return t.getSubLangText(this.xml,ye,"text",this.lang)}},condition:t.enumSub(ye,Ir),lang:{get:function(){return this._lang||""},set:function(e){this._lang=e}},text:{get:function(){return this.$text[this.lang]||""},set:function(e){t.setSubLangText(this.xml,ye,"text",e,this.lang)}}},name:"saslFailure",namespace:ye,topLevel:!0}),e.extendStreamFeatures(n)}function Dr(e){const t=e.define({element:"session",fields:{optional:e.utils.boolSub(xe,"optional"),required:e.utils.boolSub(xe,"required")},name:"session",namespace:xe});e.extendIQ(t),e.extendStreamFeatures(t)}function Nr(e){const t=e.utils,n={get:function(){const e=t.find(this.xml,st,"headers");return e.length?t.getMultiSubText(e[0],st,"header",function(e){const n=t.getAttribute(e,"name");if(n)return{name:n,value:t.getText(e)}}):[]},set:function(n){const r=t.findOrCreate(this.xml,st,"headers");e.setMultiSubText(r,st,"header",n,function(e){const n=t.createElement(st,"header",st);t.setAttribute(n,"name",e.name),t.setText(n,e.value),r.appendChild(n)})}};e.withMessage(function(t){e.add(t,"headers",n)}),e.withPresence(function(t){e.add(t,"headers",n)})}function Lr(e){const t=e.utils,n=e.define({element:"sm",name:"streamManagement",namespace:kt});e.define({element:"enable",eventName:"stream:management:enable",fields:{resume:t.boolAttribute("resume")},name:"smEnable",namespace:kt,topLevel:!0}),e.define({element:"enabled",eventName:"stream:management:enabled",fields:{id:t.attribute("id"),resume:t.boolAttribute("resume")},name:"smEnabled",namespace:kt,topLevel:!0}),e.define({element:"resume",eventName:"stream:management:resume",fields:{h:t.numberAttribute("h",!1,0),previd:t.attribute("previd")},name:"smResume",namespace:kt,topLevel:!0}),e.define({element:"resumed",eventName:"stream:management:resumed",fields:{h:t.numberAttribute("h",!1,0),previd:t.attribute("previd")},name:"smResumed",namespace:kt,topLevel:!0}),e.define({element:"failed",eventName:"stream:management:failed",name:"smFailed",namespace:kt,topLevel:!0}),e.define({element:"a",eventName:"stream:management:ack",fields:{h:t.numberAttribute("h",!1,0)},name:"smAck",namespace:kt,topLevel:!0}),e.define({element:"r",eventName:"stream:management:request",name:"smRequest",namespace:kt,topLevel:!0}),e.extendStreamFeatures(n)}function Fr(e){const t=e.utils;e.define({element:"stream",fields:{from:t.jidAttribute("from",!0),id:t.attribute("id"),lang:t.langAttribute(),to:t.jidAttribute("to",!0),version:t.attribute("version","1.0")},name:"stream",namespace:_e})}const Ur=["bad-format","bad-namespace-prefix","conflict","connection-timeout","host-gone","host-unknown","improper-addressing","internal-server-error","invalid-from","invalid-namespace","invalid-xml","not-authorized","not-well-formed","policy-violation","remote-connection-failed","reset","resource-constraint","restricted-xml","see-other-host","system-shutdown","undefined-condition","unsupported-encoding","unsupported-feature","unsupported-stanza-type","unsupported-version"];function Br(e){const t=e.utils;e.define({element:"error",fields:{$text:{get:function(){return t.getSubLangText(this.xml,ke,"text",this.lang)}},condition:t.enumSub(ke,Ur),lang:{get:function(){return this._lang||""},set:function(e){this._lang=e}},seeOtherHost:{get:function(){return t.getSubText(this.xml,ke,"see-other-host")},set:function(e){this.condition="see-other-host",t.setSubText(this.xml,ke,"see-other-host",e)}},text:{get:function(){return this.$text[this.lang]||""},set:function(e){t.setSubLangText(this.xml,ke,"text",e,this.lang)}}},name:"streamError",namespace:_e,topLevel:!0})}function qr(e){e.define({element:"features",name:"streamFeatures",namespace:_e,topLevel:!0});const t=e.define({element:"ver",name:"rosterVersioning",namespace:Ee}),n=e.define({element:"sub",name:"subscriptionPreApproval",namespace:Te});e.extendStreamFeatures(t),e.extendStreamFeatures(n)}function zr(e){const t=e.define({element:"time",fields:{tzo:e.utils.tzoSub(Et,"tzo",0),utc:e.utils.dateSub(Et,"utc")},name:"time",namespace:Et});e.extendIQ(t)}function Vr(e){const t=e.utils,n=e.define({element:"tune",fields:{artist:t.textSub(it,"artist"),length:t.numberSub(it,"length"),rating:t.numberSub(it,"rating"),source:t.textSub(it,"source"),title:t.textSub(it,"title"),track:t.textSub(it,"track"),uri:t.textSub(it,"uri")},name:"tune",namespace:it});e.extendPubsubItem(n),e.extendMessage(n)}function Wr(e){const t=e.utils,n=e.define({element:"request",fields:{filename:t.attribute("filename"),size:t.numberAttribute("size"),type:t.attribute("content-type")},name:"uploadRequest",namespace:cn}),r=e.define({element:"slot",name:"uploadSlots",namespace:cn}),i=e.define({element:"put",fields:{url:t.attribute("url")},name:"put",namespace:cn}),o=e.define({element:"header",fields:{name:t.attribute("name"),value:t.text()},name:"_header",namespace:cn}),a=e.define({element:"get",fields:{url:t.attribute("url")},name:"get",namespace:cn});e.extend(i,o,"headers"),e.extend(r,i),e.extend(r,a),e.extendIQ(r),e.extendIQ(n)}function Hr(e){const t=e.utils,n=e.define({element:"vCard",fields:{birthday:t.dateSub(qe,"BDAY"),description:t.textSub(qe,"DESC"),fullName:t.textSub(qe,"FN"),jids:t.multiTextSub(qe,"JABBERID"),nicknames:t.multiTextSub(qe,"NICKNAME"),role:t.textSub(qe,"ROLE"),title:t.textSub(qe,"TITLE"),website:t.textSub(qe,"URL")},name:"vCardTemp",namespace:qe}),r=e.define({element:"EMAIL",fields:{email:t.textSub(qe,"USERID"),home:t.boolSub(qe,"HOME"),preferred:t.boolSub(qe,"PREF"),work:t.boolSub(qe,"WORK")},name:"_email",namespace:qe}),i=e.define({element:"TEL",fields:{home:t.boolSub(qe,"HOME"),mobile:t.boolSub(qe,"CELL"),number:t.textSub(qe,"NUMBER"),preferred:t.boolSub(qe,"PREF"),work:t.boolSub(qe,"WORK")},name:"_tel",namespace:qe}),o=e.define({element:"ADR",fields:{city:t.textSub(qe,"LOCALITY"),country:t.textSub(qe,"CTRY"),home:t.boolSub(qe,"HOME"),pobox:t.textSub(qe,"POBOX"),postalCode:t.textSub(qe,"PCODE"),preferred:t.boolSub(qe,"PREF"),region:t.textSub(qe,"REGION"),street:t.textSub(qe,"STREET"),street2:t.textSub(qe,"EXTADD"),work:t.boolSub(qe,"WORK")},name:"_address",namespace:qe}),a=e.define({element:"ORG",fields:{name:t.textSub(qe,"ORGNAME"),unit:t.textSub(qe,"ORGUNIT")},name:"organization",namespace:qe}),s=e.define({element:"N",fields:{family:t.textSub(qe,"FAMILY"),given:t.textSub(qe,"GIVEN"),middle:t.textSub(qe,"MIDDLE"),prefix:t.textSub(qe,"PREFIX"),suffix:t.textSub(qe,"SUFFIX")},name:"name",namespace:qe}),c=e.define({element:"PHOTO",fields:{data:t.textSub(qe,"BINVAL"),type:t.textSub(qe,"TYPE"),url:t.textSub(qe,"EXTVAL")},name:"photo",namespace:qe});e.extend(n,r,"emails"),e.extend(n,o,"addresses"),e.extend(n,i,"phoneNumbers"),e.extend(n,a),e.extend(n,s),e.extend(n,c),e.extendIQ(n)}function Gr(e){const t=e.define({element:"query",fields:{name:e.utils.textSub(et,"name"),os:e.utils.textSub(et,"os"),version:e.utils.textSub(et,"version")},name:"version",namespace:et});e.extendIQ(t)}function $r(e){e.withIQ(function(t){e.add(t,"visible",e.utils.boolSub(St,"visible")),e.add(t,"invisible",e.utils.boolSub(St,"invisible"))})}function Qr(e){const t=e.utils,n={get:function(){const e={},n=t.find(this.xml,pn,"Property");for(let r=0,i=n.length;r<i;r++){const i=n[r];e[t.getAttribute(i,"type")]=i.textContent}return e}},r=e.define({element:"XRD",fields:{aliases:t.multiSubText(pn,"Alias"),expires:t.dateSub(pn,"Expires"),properties:n,subject:t.subText(pn,"Subject")},name:"xrd",namespace:pn}),i=e.define({element:"Link",fields:{href:t.attribute("href"),properties:n,rel:t.attribute("rel"),template:t.attribute("template"),titles:t.subLangText(pn,"Title","default"),type:t.attribute("type")},name:"_xrdlink",namespace:pn});e.extend(r,i,"links")}const Yr={client:be,component:nt,server:we};function Kr(e){e.extendMessage=function(e,t){this.withMessage(n=>{this.extend(n,e,t)})},e.extendPresence=function(e,t){this.withPresence(n=>{this.extend(n,e,t)})},e.extendIQ=function(e,t){this.withIQ(n=>{this.extend(n,e,t)})},e.extendStreamFeatures=function(e){this.withStreamFeatures(t=>{this.extend(t,e)})},e.extendPubsubItem=function(e){this.withPubsubItem(t=>{this.extend(t,e)})},e.withIQ=function(e){this.withDefinition("iq",be,e),this.withDefinition("iq",nt,e)},e.withMessage=function(e){this.withDefinition("message",be,e),this.withDefinition("message",nt,e)},e.withPresence=function(e){this.withDefinition("presence",be,e),this.withDefinition("presence",nt,e)},e.withStreamFeatures=function(e){this.withDefinition("features",_e,e)},e.withStanzaError=function(e){this.withDefinition("error",be,e),this.withDefinition("error",nt,e)},e.withDataForm=function(e){this.withDefinition("x",Re,e)},e.withPubsubItem=function(e){this.withDefinition("item",Ve,e),this.withDefinition("item",He,e)},e.getMessage=function(e="client"){return this.getDefinition("message",Yr[e])},e.getPresence=function(e="client"){return this.getDefinition("presence",Yr[e])},e.getIQ=function(e="client"){return this.getDefinition("iq",Yr[e])},e.getStreamError=function(){return this.getDefinition("error",_e)},e.getIq=e.getIQ,e.withIq=e.withIQ}function Jr(e){const t=e.utils;t.jidAttribute=function(e,n){return{get:function(){const r=new x(t.getAttribute(this.xml,e));return n&&(r.prepped=!0),r},set:function(n){t.setAttribute(this.xml,e,(n||"").toString())}}},t.jidSub=function(e,n,r){return{get:function(){const i=new x(t.getSubText(this.xml,e,n));return r&&(i.prepped=!0),i},set:function(r){t.setSubText(this.xml,e,n,(r||"").toString())}}},t.tzoSub=t.field(function(e,n,r,i){let o=-1,a=t.getSubText(e,n,r);if(!a)return i;"-"===a.charAt(0)&&(o=1,a=a.slice(1));const s=a.split(":");return(60*parseInt(s[0],10)+parseInt(s[1],10))*o},function(e,n,r,i){let o,a,s="-";"number"==typeof i?(i<0&&(i=-i,s="+"),s+=((o=i/60)<10?"0":"")+o+":"+((a=i%60)<10?"0":"")+a):s=i,t.setSubText(e,n,r,s)})}function Xr(e){e.use(Jr),e.use(Kr),e.use(fn),e.use(hn),e.use(mn),e.use(gn),e.use(vn),e.use(bn),e.use(yn),e.use(wn),e.use(_n),e.use(kn),e.use(En),e.use(Tn),e.use(Pn),e.use(An),e.use(jn),e.use(On),e.use(Mn),e.use(Nn),e.use(Ln),e.use(Fn),e.use(Un),e.use(Bn),e.use(qn),e.use(Wn),e.use(Hn),e.use(Gn),e.use(Qn),e.use(Yn),e.use(Xn),e.use(Zn),e.use(er),e.use(tr),e.use(nr),e.use(ir),e.use(ar),e.use(cr),e.use(ur),e.use(lr),e.use(dr),e.use(pr),e.use(hr),e.use(mr),e.use(vr),e.use(br),e.use(wr),e.use(xr),e.use(Sr),e.use(_r),e.use(kr),e.use(Cr),e.use(Er),e.use(Tr),e.use(Pr),e.use(Rr),e.use(Or),e.use(Mr),e.use(Dr),e.use(Nr),e.use(Lr),e.use(Fr),e.use(Br),e.use(qr),e.use(zr),e.use(Vr),e.use(Wr),e.use(Hr),e.use(Gr),e.use($r),e.use(Qr)}const Zr=Math.pow(2,32),ei=(e,t)=>(e%t+t)%t;class ti{constructor(e){this.client=e,this.id=!1,this.allowResume=!0,this.started=!1,this.inboundStarted=!1,this.outboundStarted=!1,this.lastAck=0,this.handled=0,this.windowSize=1,this.unacked=[],this.pendingAck=!1,this.cacheHandler=(()=>{}),this.stanzas={Ack:e.stanzas.getDefinition("a",kt),Enable:e.stanzas.getDefinition("enable",kt),IQ:e.stanzas.getIQ(),Message:e.stanzas.getMessage(),Presence:e.stanzas.getPresence(),Request:e.stanzas.getDefinition("r",kt),Resume:e.stanzas.getDefinition("resume",kt)}}get started(){return this.outboundStarted&&this.inboundStarted}set started(e){e||(this.outboundStarted=!1,this.inboundStarted=!1)}load(e){this.id=e.id,this.allowResume=!0,this.handled=e.handled,this.lastAck=e.lastAck,this.unacked=e.unacked}cache(e){this.cacheHandler=e}enable(){const e=new this.stanzas.Enable;e.resume=this.allowResume,this.client.send(e),this.handled=0,this.outboundStarted=!0}resume(){const e=new this.stanzas.Resume({h:this.handled,previd:this.id});this.client.send(e),this.outboundStarted=!0}enabled(e){this.id=e.id,this.handled=0,this.inboundStarted=!0,this._cache()}resumed(e){this.id=e.previd,e.h&&this.process(e,!0),this.inboundStarted=!0,this._cache()}failed(e){e.h&&this.process(e);for(const[e,t]of this.unacked)this.client.emit("stanza:failed",t,e);this.inboundStarted=!1,this.outboundStarted=!1,this.id=!1,this.lastAck=0,this.handled=0,this.unacked=[],this._cache()}ack(){this.client.send(new this.stanzas.Ack({h:this.handled}))}request(){this.pendingAck=!0,this.client.send(new this.stanzas.Request)}process(e,t){const n=this,r=ei(e.h-this.lastAck,Zr);this.pendingAck=!1;for(let e=0;e<r&&this.unacked.length>0;e++){const[e,t]=this.unacked.shift();this.client.emit("stanza:acked",t,e)}if(this.lastAck=e.h,t){const e=this.unacked;this.unacked=[];for(const[t,r]of e){let e;"message"===t&&(e=new this.stanzas.Message(r)),"presence"===t&&(e=new this.stanzas.Presence(r)),"iq"===t&&(e=new this.stanzas.IQ(r)),n.client.send(e)}}this._cache(),this.needAck()&&this.request()}track(e,t){this.outboundStarted&&{iq:!0,message:!0,presence:!0}[e]&&(this.unacked.push([e,t.toJSON()]),this._cache(),this.needAck()&&this.request())}handle(){this.inboundStarted&&(this.handled=ei(this.handled+1,Zr),this._cache())}needAck(){return!this.pendingAck&&this.unacked.length>=this.windowSize}_cache(){this.cacheHandler({handled:this.handled,id:this.id,lastAck:this.lastAck,unacked:this.unacked})}}class ni{constructor(){this.isWildEmitter=!0,this.callbacks={}}on(e,t,n){const r=3===arguments.length,i=r?arguments[1]:void 0,o=r?arguments[2]:arguments[1];return o._groupName=i,(this.callbacks[e]=this.callbacks[e]||[]).push(o),this}once(e,t,n){const r=3===arguments.length,i=r?arguments[1]:void 0,o=r?arguments[2]:arguments[1],a=()=>{this.off(e,a),o.apply(this,arguments)};return this.on(e,i,a),this}releaseGroup(e){this.callbacks=this.callbacks||{};for(const t of Object.keys(this.callbacks)){const n=this.callbacks[t];for(let t=0,r=n.length;t<r;t++)n[t]._groupName===e&&(n.splice(t,1),t--,r--)}return this}off(e,t){this.callbacks=this.callbacks||{};const n=this.callbacks[e];if(!n)return this;if(!t)return delete this.callbacks[e],this;const r=n.indexOf(t);return n.splice(r,1),0===n.length&&delete this.callbacks[e],this}emit(e,...t){this.callbacks=this.callbacks||{};const n=[].slice.call(arguments,1),r=this.callbacks[e],i=this.getWildcardCallbacks(e);if(r){const e=r.slice();for(let t=0,r=e.length;t<r&&e[t];++t)e[t].apply(this,n)}if(i){const t=i.slice();for(let r=0,i=t.length;r<i&&t[r];++r)t[r].apply(this,[e].concat(n))}return this}getWildcardCallbacks(e){this.callbacks=this.callbacks||{};let t=[];for(const n of Object.keys(this.callbacks)){const r=n.split("*");("*"===n||2===r.length&&e.slice(0,r[0].length)===r[0])&&(t=t.concat(this.callbacks[n]))}return t}}const ri=[];for(let e=0;e<256;++e)ri[e]=(e+256).toString(16).substr(1);function ii(e,t,n=(()=>void 0)){return Object(s.__awaiter)(this,void 0,void 0,function*(){let r;const i=yield Promise.race([e,new Promise((e,i)=>{r=setTimeout(()=>i(n()),t)})]);return r&&clearTimeout(r),i})}function oi(t,n){const r="string"==typeof t?e.from(t,"utf8"):t,i="string"==typeof n?e.from(n,"utf8"):n;return r.compare(i)}function ai(){const e=oe(16);e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t=0;return[ri[e[t++]],ri[e[t++]],ri[e[t++]],ri[e[t++]],"-",ri[e[t++]],ri[e[t++]],"-",ri[e[t++]],ri[e[t++]],"-",ri[e[t++]],ri[e[t++]],"-",ri[e[t++]],ri[e[t++]],ri[e[t++]],ri[e[t++]],ri[e[t++]],ri[e[15]]].join("")}const si=fetch;function ci(e,t){return Object(s.__awaiter)(this,void 0,void 0,function*(){"string"==typeof t&&(t={host:t});const n=Object.assign({json:!0,ssl:!0,xrd:!0},t),r=n.ssl?"https://":"http://";return function(e){return Object(s.__awaiter)(this,void 0,void 0,function*(){try{const t=yield Promise.all(e.map(e=>e.then(e=>Promise.reject(e),e=>Promise.resolve(e))));return Promise.reject(t)}catch(e){return Promise.resolve(e)}})}([si(`${r}${n.host}/.well-known/host-meta.json`).then(e=>Object(s.__awaiter)(this,void 0,void 0,function*(){if(!e.ok)throw new Error("could-not-fetch-json");return e.json()})),si(`${r}${n.host}/.well-known/host-meta`).then(t=>Object(s.__awaiter)(this,void 0,void 0,function*(){if(!t.ok)throw new Error("could-not-fetch-xml");const n=yield t.text();return e.parse(n)}))])})}function ui(e,t){e.discoverBindings=function(e,n){ci(t,e).then(e=>{const t={bosh:[],websocket:[]},r=e.links||[];for(const e of r)e.href&&e.rel===lt&&t.websocket.push(e.href),e.href&&e.rel===dt&&t.bosh.push(e.href);n(null,t)}).catch(e=>{n(e,[])})}}function li(e){e.features={handlers:{},negotiated:{},order:[]},e.registerFeature=function(t,n,r){this.features.order.push({name:t,priority:n}),this.features.order.sort((e,t)=>e.priority-t.priority),this.features.handlers[t]=r.bind(e)},e.on("streamFeatures",function(t){return Object(s.__awaiter)(this,void 0,void 0,function*(){const n=[],r=e.features.negotiated,i=e.features.handlers;for(const o of e.features.order){const e=o.name;t[e]&&i[e]&&!r[e]&&n.push(()=>new Promise(n=>{r[e]?n():i[e](t,(e,t)=>{e?n({command:e,message:t}):n()})}))}for(const t of n){let n="",r="";try{const e=yield t();e&&(n=e.command,r=e.message)}catch(e){n="disconnect",r=e.message,console.error(e)}if(n)return"restart"===n&&e.transport.restart(),void("disconnect"===n&&(e.emit("stream:error",{condition:"policy-violation",text:"Failed to negotiate stream features: "+r}),e.disconnect()))}})})}const di="urn:ietf:params:xml:ns:xmpp-sasl";function pi(t,n){const r=n.getDefinition("auth",di),i=n.getDefinition("response",di),o=n.getDefinition("abort",di);t.registerFeature("sasl",100,function(t,n){const a=this,s=a.SASLFactory.create(t.sasl.mechanisms);if(!s)return a.releaseGroup("sasl"),a.emit("auth:failed"),n("disconnect","authentication failed");a.on("sasl:success","sasl",function(){a.features.negotiated.sasl=!0,a.releaseGroup("sasl"),a.emit("auth:success",a.config.credentials),n("restart")}),a.on("sasl:challenge","sasl",function(t){return s.challenge(e.from(t.value,"base64").toString()),a.getCredentials(function(t,n){if(t)return a.send(new o);const r=s.response(n);if(r||""===r?a.send(new i({value:e.from(r).toString("base64")})):a.send(new i),s.cache){for(const t of Object.keys(s.cache)){if(!s.cache[t])return;a.config.credentials[t]=e.from(s.cache[t])}a.emit("credentials:update",a.config.credentials)}})}),a.on("sasl:failure","sasl",function(){a.releaseGroup("sasl"),a.emit("auth:failed"),n("disconnect","authentication failed")}),a.on("sasl:abort","sasl",function(){a.releaseGroup("sasl"),a.emit("auth:failed"),n("disconnect","authentication failed")});const c={mechanism:s.name};if(s.clientFirst)return a.getCredentials(function(t,n){if(t)return a.send(new o);c.value=e.from(s.response(n)).toString("base64"),a.send(new r(c))});a.send(new r(c))}),t.on("disconnected",function(){t.features.negotiated.sasl=!1,t.releaseGroup("sasl")})}function fi(e,t,n){const r=function(e,t){const r=this;if(!n.useStreamManagement)return t();r.on("stream:management:enabled","sm",function(e){r.sm.enabled(e),r.features.negotiated.streamManagement=!0,r.releaseGroup("sm"),t()}),r.on("stream:management:resumed","sm",function(e){r.sm.resumed(e),r.features.negotiated.streamManagement=!0,r.features.negotiated.bind=!0,r.sessionStarted=!0,r.releaseGroup("sm"),t("break")}),r.on("stream:management:failed","sm",function(e){r.sm.failed(e),r.emit("session:end"),r.releaseGroup("session"),r.releaseGroup("sm"),t()}),r.sm.id?r.sm.id&&r.sm.allowResume?r.sm.resume():(r.releaseGroup("sm"),t()):r.features.negotiated.bind?r.sm.enable():(r.releaseGroup("sm"),t())};e.on("disconnected",function(){e.features.negotiated.streamManagement=!1}),e.registerFeature("streamManagement",200,r),e.registerFeature("streamManagement",500,r)}function hi(e,t,n){e.registerFeature("bind",300,function(t,r){e.sendIq({bind:{resource:n.resource},type:"set"},function(n,i){if(n)return e.emit("session:error",n),r("disconnect","JID binding failed");e.features.negotiated.bind=!0,e.emit("session:prebind",i.bind.jid);const o=!t.session||t.session&&t.session.optional;return!e.sessionStarted&&o&&e.emit("session:started",e.jid),r()})}),e.on("session:started",function(){e.sessionStarted=!0}),e.on("session:prebind",function(t){e.jid=new x(t),e.emit("session:bound",e.jid)}),e.on("disconnected",function(){e.sessionStarted=!1,e.features.negotiated.bind=!1})}function mi(e){e.registerFeature("session",1e3,function(e,t){const n=this;if(e.session.optional||n.sessionStarted)return n.features.negotiated.session=!0,t();n.sendIq({session:{},type:"set"},function(e){if(e)return t("disconnect","session request failed");n.features.negotiated.session=!0,n.sessionStarted||(n.sessionStarted=!0,n.emit("session:started",n.jid)),t()})}),e.on("disconnected",function(){e.sessionStarted=!1,e.features.negotiated.session=!1})}const gi=1;class vi extends ni{constructor(t,n){super();const r=this;r.sm=t,r.closing=!1,r.stanzas={Close:n.getDefinition("close","urn:ietf:params:xml:ns:xmpp-framing",!0),Open:n.getDefinition("open","urn:ietf:params:xml:ns:xmpp-framing",!0),StreamError:n.getStreamError()},r.sendQueue=Object(c.a)(function(t,n){r.conn&&("string"!=typeof t&&(t=t.toString()),t=e.from(t,"utf8").toString(),r.emit("raw:outgoing",t),r.conn.readyState===gi&&r.conn.send(t)),n()},1),r.on("connected",function(){r.send(r.startHeader())}),r.on("raw:incoming",function(e){let t,i;if(""!==(e=e.trim())){try{t=n.parse(e)}catch(e){return i=new r.stanzas.StreamError({condition:"invalid-xml"}),r.emit("stream:error",i,e),r.send(i),r.disconnect()}if(t){if("openStream"===t._name)return r.hasStream=!0,r.stream=t,r.emit("stream:start",t.toJSON());if("closeStream"===t._name)return r.emit("stream:end"),r.disconnect();!t.lang&&r.stream&&(t.lang=r.stream.lang),r.emit("stream:data",t)}}})}connect(t){const n=this;n.config=t,n.hasStream=!1,n.closing=!1,n.conn=new WebSocket(t.wsURL,"xmpp",t.wsOptions),n.conn.onerror=function(e){e.preventDefault&&e.preventDefault(),n.emit("disconnected",n)},n.conn.onclose=function(e){n.emit("disconnected",n,e)},n.conn.onopen=function(){n.sm.started=!1,n.emit("connected",n)},n.conn.onmessage=function(t){n.emit("raw:incoming",e.from(t.data,"utf8").toString())}}startHeader(){return new this.stanzas.Open({lang:this.config.lang||"en",to:this.config.server,version:this.config.version||"1.0"})}closeHeader(){return new this.stanzas.Close}disconnect(){this.conn&&!this.closing&&this.hasStream?(this.closing=!0,this.send(this.closeHeader())):(this.hasStream=!1,this.stream=void 0,this.conn&&this.conn.readyState===gi&&this.conn.close(),this.conn=void 0)}restart(){this.hasStream=!1,this.send(this.startHeader())}send(e){this.sendQueue.push(e)}}class bi extends ni{constructor(e,t){super();const n=this;n.sm=e,n.stanzas={BOSH:t.getDefinition("body",at),StreamError:t.getStreamError()},n.sendQueue=[],n.requests=[],n.maxRequests=void 0,n.sid="",n.authenticated=!1,n.on("raw:incoming",function(e){if(""===(e=e.trim()))return;let r,i;try{r=t.parse(e,n.stanzas.BOSH)}catch(e){return i=new n.stanzas.StreamError({condition:"invalid-xml"}),n.emit("stream:error",i,e),n.send(i),n.disconnect()}n.hasStream||(n.hasStream=!0,n.stream={from:r.from,id:r.sid||n.sid,lang:r.lang||"en",to:r.to,version:r.version||"1.0"},n.sid=r.sid||n.sid,n.maxRequests=r.requests||n.maxRequests);const o=r.payload;for(const e of o)e.lang||(e.lang=n.stream.lang),n.emit("stream:data",e);"terminate"===r.type&&(n.rid=void 0,n.sid=void 0,n.emit("bosh:terminate",r),n.emit("stream:end"),n.emit("disconnected",n))})}connect(e){const t=this;if(t.config=Object.assign({maxRetries:5,rid:Math.ceil(9999999999*Math.random()),wait:30},e),t.hasStream=!1,t.sm.started=!1,t.url=e.boshURL,t.sid=t.config.sid,t.rid=t.config.rid,t.requests=[],t.sid)return t.hasStream=!0,t.stream={},t.emit("connected",t),t.emit("session:prebind",t.config.jid),void t.emit("session:started");t.rid++,t.request(new t.stanzas.BOSH({hold:1,lang:t.config.lang||"en",to:t.config.server,ver:"1.6",version:t.config.version||"1.0",wait:t.config.wait}))}disconnect(){this.hasStream?(this.rid++,this.request(new this.stanzas.BOSH({type:"terminate"}))):(this.stream=void 0,this.sid=void 0,this.rid=void 0,this.emit("disconnected",this))}restart(){this.rid++,this.request(new this.stanzas.BOSH({lang:this.config.lang||"en",restart:"true",to:this.config.server}))}send(e){const t=this;t.hasStream&&(t.sendQueue.push(e),clearTimeout(this.pollTimeout),this.pollTimeout=setTimeout(()=>{t.longPoll()},50))}longPoll(){const e=!this.maxRequests||this.requests.length<this.maxRequests,t=!this.maxRequests||this.sendQueue.length>0&&this.requests.length<this.maxRequests;if(!this.sid||!e&&!t)return;const n=this.sendQueue;this.sendQueue=[],this.rid++,this.request(new this.stanzas.BOSH({payload:n}))}request(t){const n=this,r={id:n.rid,request:null};t.rid=n.rid,t.sid=n.sid;const i=e.from(t.toString(),"utf8").toString();n.emit("raw:outgoing",i),n.emit("raw:outgoing:"+r.id,i),n.requests.push(r);const o=function e(t,n,r,i){return Object(s.__awaiter)(this,void 0,void 0,function*(){try{const o=yield ii(si(t,n),1e3*r);if(!o.ok)throw new Error("HTTP Status Error: "+o.status);return o.text()}catch(o){if(i>0)return e(t,n,r,i-1);throw o}})}(n.url,{body:i,headers:{"Content-Type":"text/xml"},method:"POST"},1.5*n.config.wait,this.config.maxRetries).catch(function(e){console.log(e),n.hasStream=!1;const t=new n.stanzas.StreamError({condition:"connection-timeout"});n.emit("stream:error",t,e),n.disconnect()}).then(function(i){n.requests=n.requests.filter(e=>e.id!==r.id),i&&(i=e.from(i,"utf8").toString(),n.emit("raw:incoming",i),n.emit("raw:incoming:"+r.id,i)),n.hasStream&&"terminate"!==t.type&&!n.requests.length&&n.authenticated&&setTimeout(()=>{n.longPoll()},30)});return r.request=o,o}}const yi={anonymous:_,"digest-md5":ce,external:k,plain:C,"scram-sha-1":he,"x-oauth2":me};class wi extends ni{constructor(e){super(),e=e||{},this._initConfig(e),this.jid=new x,this.stanzas=o.a.createRegistry(),this.stanzas.use(Xr),this.use(ui),this.use(li),this.use(pi),this.use(fi),this.use(hi),this.use(mi),this.sm=new ti(this),this.transports={bosh:bi,websocket:vi},this.on("stream:data",e=>{const t=e?e.toJSON():null;if(t){if("iq"===e._name){t._xmlChildCount=0;for(const n of e.xml.childNodes||[])1===n.nodeType&&(t._xmlChildCount+=1)}if(this.emit(e._eventname||e._name,t),"message"===e._name||"presence"===e._name||"iq"===e._name)this.sm.handle(t),this.emit("stanza",t);else{if("smAck"===e._name)return this.sm.process(t);if("smRequest"===e._name)return this.sm.ack()}t.id&&(this.emit("id:"+t.id,t),this.emit(e._name+":id:"+t.id,t))}}),this.on("disconnected",()=>{this.transport&&(this.transport.off("*"),delete this.transport),this.releaseGroup("connection")}),this.on("auth:success",()=>{this.transport&&(this.transport.authenticated=!0)}),this.on("iq",e=>{const t=e.type,n=e._xmlChildCount;delete e._xmlChildCount;const r=Object.keys(e).filter(function(e){return"id"!==e&&"to"!==e&&"from"!==e&&"lang"!==e&&"type"!==e&&"errorReply"!==e&&"resultReply"!==e});if("get"===e.type||"set"===e.type){if(1!==n)return this.sendIq(e.errorReply({error:{condition:"bad-request",type:"modify"}}));if(!r.length)return this.sendIq(e.errorReply({error:{condition:"service-unavailable",type:"cancel"}}));const i="iq:"+t+":"+r[0];this.callbacks[i]?this.emit(i,e):this.sendIq(e.errorReply({error:{condition:"service-unavailable",type:"cancel"}}))}}),this.on("message",e=>{!e.hasOwnProperty("$body")&&!e.oob||e.received||e.displayed||("chat"===e.type||"normal"===e.type?this.emit("chat",e):"groupchat"===e.type&&this.emit("groupchat",e)),"error"===e.type&&this.emit("message:error",e)}),this.on("presence",e=>{let t=e.type||"available";"error"===t&&(t="presence:error"),this.emit(t,e)})}get stream(){return this.transport?this.transport.stream:void 0}_initConfig(e){const t=this.config||{};this.config=Object.assign({sasl:["external","scram-sha-1","digest-md5","plain","anonymous"],transports:["websocket","bosh"],useStreamManagement:!0},t,e),Array.isArray(this.config.sasl)||(this.config.sasl=[this.config.sasl]),this.SASLFactory=new ge;for(const e of this.config.sasl)if("string"==typeof e){const t=yi[e.toLowerCase()];t&&t.prototype&&t.prototype.name&&this.SASLFactory.use(t)}else this.SASLFactory.use(e);this.config.jid=new x(this.config.jid),this.config.server||(this.config.server=this.config.jid.domain),this.config.password&&(this.config.credentials=this.config.credentials||{},this.config.credentials.password=this.config.password,delete this.config.password),this.config.transport&&(this.config.transports=[this.config.transport]),Array.isArray(this.config.transports)||(this.config.transports=[this.config.transports])}use(e){"function"==typeof e&&e(this,this.stanzas,this.config)}nextId(){return ai()}_getConfiguredCredentials(){const e=this.config.credentials||{},t=new x(this.config.jid),n=e.username||t.local,r=e.server||t.domain;return Object.assign({host:r,password:this.config.password,realm:r,server:r,serviceName:r,serviceType:"xmpp",username:n},e)}getCredentials(e){return e(null,this._getConfiguredCredentials())}connect(e,t){if(this._initConfig(e),t||1!==this.config.transports.length||((t={}).name=this.config.transports[0]),t&&t.name){const e=this.transport=new this.transports[t.name](this.sm,this.stanzas);return e.on("*",(e,t)=>{this.emit(e,t)}),e.connect(this.config)}return this.discoverBindings(this.config.server,(e,t)=>{if(e)return console.error("Could not find https://"+this.config.server+"/.well-known/host-meta file to discover connection endpoints for the requested transports."),this.disconnect();for(let e=0,n=this.config.transports.length;e<n;e++){const n=this.config.transports[e];console.log("Checking for %s endpoints",n);for(let e=0,r=(t[n]||[]).length;e<r;e++){const r=t[n][e];if(0===r.indexOf("wss://")||0===r.indexOf("https://"))return"websocket"===n?this.config.wsURL=r:this.config.boshURL=r,console.log("Using %s endpoint: %s",n,r),this.connect(null,{name:n,url:r});console.warn("Discovered unencrypted %s endpoint (%s). Ignoring",n,r)}}return console.error("No endpoints found for the requested transports."),this.disconnect()})}disconnect(){this.sessionStarted&&(this.releaseGroup("session"),this.sm.started||this.emit("session:end")),this.sessionStarted=!1,this.releaseGroup("connection"),this.transport?this.transport.disconnect():this.emit("disconnected")}send(e){this.sm.track(e._name,e),this.transport&&this.transport.send(e)}sendMessage(e){(e=e||{}).id||(e.id=this.nextId());const t=new(this.stanzas.getMessage())(e);return this.emit("message:sent",t.toJSON()),this.send(t),e.id}sendPresence(e){(e=e||{}).id||(e.id=this.nextId());const t=this.stanzas.getPresence();return this.send(new t(e)),e.id}sendIq(e,t){(e=e||{}).id||(e.id=this.nextId());const n=this.stanzas.getIq(),r=e.toJSON?e:new n(e);if("error"===e.type||"result"===e.type)return void this.send(r);const i=new x(e.to),o={"":!0};o[i.full]=!0,o[i.bare]=!0,o[i.domain]=!0,o[this.jid.bare]=!0,o[this.jid.domain]=!0;const a="iq:id:"+e.id,s=new Promise((e,t)=>{const n=r=>{o[r.from.full]&&("result"!==r.type&&"error"!==r.type||(this.off(a,n),r.error?t(r):e(r)))};this.on(a,"session",n)});return this.send(r),ii(s,1e3*(this.config.timeout||15),()=>({error:{condition:"timeout"},id:e.id,type:"error"})).then(function(e){return t&&t(null,e),e},function(e){if(t)return t(e);throw e})}sendStreamError(e){e=e||{};const t=new(this.stanzas.getStreamError())(e);this.emit("stream:error",t.toJSON()),this.send(t),this.disconnect()}}function xi(t,n){let r="",i=t.features||[],o=[];const a=t.extensions||[],s={},c=[];for(const e of t.identities||[])o.push([e.category||"",e.type||"",e.lang||"",e.name||""].join("/"));const u=o.length,l=i.length;if(o=[...new Set(o)].sort(oi),l!==(i=[...new Set(i)].sort(oi)).length||u!==o.length)return!1;r+=o.join("<")+"<",r+=i.join("<")+"<";let d=!1;for(const e of a){const t=e.fields;for(let n=0,r=t.length;n<r;n++)if("FORM_TYPE"===t[n].name&&"hidden"===t[n].type){const r=t[n].value;return s[r]?void(d=!0):(s[r]=e,void c.push(r))}}if(d)return!1;c.sort(oi);for(const e of c){const t=s[e],n={},i=[];r+="<"+e;for(const e of t.fields){const t=e.name;if("FORM_TYPE"!==t){let r=e.value||"";"object"!=typeof r&&(r=r.split("\n")),n[t]=r.sort(oi),i.push(t)}}i.sort(oi);for(const e of i){r+="<"+e;for(const t of n[e])r+="<"+t}}let p=ae(n).update(e.from(r,"utf8")).digest("base64"),f=4-p.length%4;4===f&&(f=0);for(let e=0;e<f;e++)p+="=";return p}function Si(e,t,n){const r=xi(e,t);return r&&r===n}class _i{constructor(){this.features={},this.identities={},this.extensions={},this.items={},this.caps={}}addFeature(e,t){t=t||"",this.features[t]||(this.features[t]=[]),this.features[t].push(e)}addIdentity(e,t){t=t||"",this.identities[t]||(this.identities[t]=[]),this.identities[t].push(e)}addItem(e,t){t=t||"",this.items[t]||(this.items[t]=[]),this.items[t].push(e)}addExtension(e,t){t=t||"",this.extensions[t]||(this.extensions[t]=[]),this.extensions[t].push(e)}}function ki(e){e.disco=new _i(e),e.disco.addFeature(Ae),e.disco.addFeature(je),e.disco.addIdentity({category:"client",type:"web"}),e.registerFeature("caps",100,function(t,n){this.emit("disco:caps",{caps:t.caps,from:new x(e.jid.domain||e.config.server)}),this.features.negotiated.caps=!0,n()}),e.getDiscoInfo=function(e,t,n){return this.sendIq({discoInfo:{node:t},to:e,type:"get"},n)},e.getDiscoItems=function(e,t,n){return this.sendIq({discoItems:{node:t},to:e,type:"get"},n)},e.updateCaps=function(){let t=this.config.capsNode||"https://stanzajs.org";const n=JSON.parse(JSON.stringify({extensions:this.disco.extensions[""],features:this.disco.features[""],identities:this.disco.identities[""]})),r=xi(n,"sha-1");return this.disco.caps={hash:"sha-1",node:t,ver:r},t=t+"#"+r,this.disco.features[t]=n.features,this.disco.identities[t]=n.identities,this.disco.extensions[t]=n.extensions,e.getCurrentCaps()},e.getCurrentCaps=function(){const t=e.disco.caps;if(!t.ver)return{ver:null,discoInfo:null};const n=t.node+"#"+t.ver;return{discoInfo:{extensions:e.disco.extensions[n],features:e.disco.features[n],identities:e.disco.identities[n]},ver:t.ver}},e.on("presence",function(t){t.caps&&e.emit("disco:caps",t)}),e.on("iq:get:discoInfo",function(t){let n=t.discoInfo.node||"",r=t.discoInfo.node||"";n===e.disco.caps.node+"#"+e.disco.caps.ver&&(r=n,n=""),e.sendIq(t.resultReply({discoInfo:{extensions:e.disco.extensions[n]||[],features:e.disco.features[n]||[],identities:e.disco.identities[n]||[],node:r}}))}),e.on("iq:get:discoItems",function(t){const n=t.discoItems.node;e.sendIq(t.resultReply({discoItems:{items:e.disco.items[n]||[],node:n}}))}),e.verifyVerString=Si,e.generateVerString=xi,e.updateCaps()}function Ci(e){e.disco.addFeature("jid\\20escaping"),e.disco.addFeature(Tt),e.disco.addFeature(ln),e.disco.addFeature(Bt),e.disco.addFeature(qt),e.disco.addFeature(Yt),e.disco.addFeature(en),e.disco.addFeature(Qe),e.disco.addFeature(Gt),e.disco.addFeature(un),e.disco.addFeature(st),e.disco.addFeature(`${st}#SubID`,st);const t=["sha-1","sha-256","sha-512","md5"];for(const n of t)e.disco.addFeature(zt(n))}function Ei(e){e.disco.addFeature(jt),e.getAttention=function(t,n){(n=n||{}).to=t,n.type="headline",n.attention=!0,e.sendMessage(n)},e.on("message",function(t){t.attention&&e.emit("attention",t)})}function Ti(e){e.disco.addFeature(pt(Xe)),e.on("pubsub:event",function(t){t.event.updated&&t.event.updated.node===Xe&&e.emit("avatar",{avatars:t.event.updated.published[0].avatars,jid:t.from,source:"pubsub"})}),e.on("presence",function(t){t.avatarId&&e.emit("avatar",{avatars:[{id:t.avatarId}],jid:t.from,source:"vcard"})}),e.publishAvatar=function(e,t,n){return this.publish("",Je,{avatarData:t,id:e},n)},e.useAvatars=function(e,t){return this.publish("",Xe,{avatars:e,id:"current"},t)},e.getAvatar=function(e,t,n){return this.getItem(e,Je,t,n)}}function Pi(e){e.disco.addFeature(_t),e.block=function(t,n){return e.sendIq({block:{jids:[t]},type:"set"},n)},e.unblock=function(t,n){return e.sendIq({type:"set",unblock:{jids:[t]}},n)},e.getBlocked=function(t){return e.sendIq({blockList:!0,type:"get"},t)},e.on("iq:set:block",function(t){e.emit("block",{jids:t.block.jids||[]}),e.sendIq(t.resultReply())}),e.on("iq:set:unblock",function(t){e.emit("unblock",{jids:t.unblock.jids||[]}),e.sendIq(t.resultReply())})}function Ri(e){e.disco.addFeature(Ot),e.getBits=function(t,n,r){return e.sendIq({bob:{cid:n},to:t,type:"get"},r)}}function Ai(e){e.getBookmarks=function(e){return this.getPrivateData({bookmarks:!0},e)},e.setBookmarks=function(e,t){return this.setPrivateData({bookmarks:e},t)},e.addBookmark=function(t,n){return t.jid=new x(t.jid),this.getBookmarks().then(function(n){const r=n.privateStorage.bookmarks.conferences||[];let i=!1;for(let e=0;e<r.length;e++){const n=r[e];if(n.jid.bare===t.jid.bare){r[e]=Object.assign({},n,t),i=!0;break}}return i||r.push(t),e.setBookmarks({conferences:r})}).then(function(e){return n&&n(null,e),e},function(e){if(!n)throw e;n(e)})},e.removeBookmark=function(t,n){return t=new x(t),this.getBookmarks().then(function(n){let r=n.privateStorage.bookmarks.conferences||[];return r=r.filter(e=>t.bare!==e.jid.bare),e.setBookmarks({conferences:r})}).then(function(e){n&&n(null,e)},function(e){if(!n)throw e;n(e)})}}function ji(e){e.disco.addFeature(Lt),e.enableCarbons=function(e){return this.sendIq({enableCarbons:!0,type:"set"},e)},e.disableCarbons=function(e){return this.sendIq({disableCarbons:!0,type:"set"},e)},e.on("message",function(t){return t.carbonSent?e.emit("carbon:sent",t):t.carbonReceived?e.emit("carbon:received",t):void 0}),e.on("carbon:*",function(t,n){const r=t.split(":")[1];if(n.from.bare!==e.jid.bare)return;let i,o;"received"===r?(i=n.carbonReceived.forwarded.message,o=n.carbonReceived.forwarded.delay):(i=n.carbonSent.forwarded.message,o=n.carbonSent.forwarded.delay),i.delay||(i.delay={stamp:o?o.stamp:new Date(Date.now())}),i.carbon=!0,i.from.bare===e.jid.bare?e.emit("message:sent",i):e.emit("message",i)})}function Oi(e){e.disco.addFeature(Ze);const t=["chat","groupchat","normal"];e.on("message",function(n){t.indexOf(n.type||"normal")<0||n.chatState&&(e.emit("chat:state",{chatState:n.chatState,from:n.from,to:n.to}),e.emit("chatState",{chatState:n.chatState,from:n.from,to:n.to}))})}function Ii(e){e.disco.addFeature(Be),e.disco.addItem({name:"Ad-Hoc Commands",node:Be}),e.getCommands=function(t,n){return e.getDiscoItems(t,Be,n)}}function Mi(e){e.disco.addFeature(Ht),e.on("message",function(t){t.replace&&(e.emit("replace",t),e.emit("replace:"+t.id,t))})}function Di(e,t){const n=t.getDefinition("active",an),r=t.getDefinition("inactive",an);e.registerFeature("clientStateIndication",400,function(e,t){this.features.negotiated.clientStateIndication=!0,t()}),e.markActive=function(){this.features.negotiated.clientStateIndication&&this.send(new n)},e.markInactive=function(){this.features.negotiated.clientStateIndication&&this.send(new r)}}function Ni(e){e.disco.addFeature(Re),e.disco.addFeature(At),e.disco.addFeature(ot),e.disco.addFeature(ct),e.on("message",function(t){t.form&&e.emit("dataform",t)})}function Li(e){e.disco.addFeature(Rt),e.getServices=function(e,t,n){return this.sendIq({services:{type:t},to:e,type:"get"},n)},e.getServiceCredentials=function(e,t,n){return this.sendIq({credentials:{service:{host:t}},to:e,type:"get"},n)}}function Fi(e){e.disco.addFeature(Ke),e.disco.addFeature(pt(Ke)),e.on("pubsub:event",function(t){t.event.updated&&t.event.updated.node===Ke&&e.emit("geoloc",{geoloc:t.event.updated.published[0].geoloc,jid:t.from})}),e.publishGeoLoc=function(e,t){return this.publish("",Ke,{geoloc:e},t)}}function Ui(e){e.goInvisible=function(e){return this.sendIq({invisible:!0,type:"set"},e)},e.goVisible=function(e){return this.sendIq({type:"set",visible:!0},e)}}function Bi(e){e.prepJID=function(t,n){return e.sendIq({jidPrep:t,to:e.jid.domain,type:"get"},n)}}const qi={Initiator:"initiator",Responder:"responder"},zi={Inactive:"inactive",Receive:"recvonly",Send:"sendonly",SendReceive:"sendrecv"},Vi={Both:"both",Initiator:"initiator",None:"none",Responder:"responder"};function Wi(e,t="both"){const n=e===qi.Initiator;switch(t){case Vi.Initiator:return n?zi.Send:zi.Receive;case Vi.Responder:return n?zi.Receive:zi.Send;case Vi.Both:return zi.SendReceive}return zi.Inactive}function Hi(e,t="sendrecv"){const n=e===qi.Initiator;switch(t){case zi.Send:return n?Vi.Initiator:Vi.Responder;case zi.Receive:return n?Vi.Responder:Vi.Initiator;case zi.SendReceive:return Vi.Both}return Vi.None}function Gi(e,t){const n=e.rtpParameters,r=e.rtcpParameters||{},i=e.rtpEncodingParameters||[];let o=!1;i&&i.length&&(o=!!i[0].ssrc);const a={applicationType:"rtp",headerExtensions:[],media:e.kind,mux:r.mux,payloads:[],reducedSize:r.reducedSize,sourceGroups:[],sources:[],ssrc:o?i[0].ssrc.toString():void 0,streams:[]};for(const e of n.headerExtensions||[])a.headerExtensions.push({id:e.id,senders:e.direction&&"sendrecv"!==e.direction?Hi(t,e.direction):void 0,uri:e.uri});r.ssrc&&r.cname&&(a.sources=[{parameters:[{key:"cname",value:r.cname}],ssrc:r.ssrc.toString()}]),o&&i[0]&&i[0].rtx&&(a.sourceGroups=[{semantics:"FID",sources:[i[0].ssrc.toString(),i[0].rtx.ssrc.toString()]}]);for(const t of e.streams||[])a.streams.push({id:t.stream,track:t.track});for(const e of n.codecs||[]){const t={channels:e.channels.toString(),clockrate:e.clockRate.toString(),feedback:[],id:e.payloadType.toString(),maxptime:e.maxptime?e.maxptime.toString():void 0,name:e.name,parameters:[]};for(const n of Object.keys(e.parameters||{}))"ptime"!==n?t.parameters.push({key:n,value:e.parameters[n]}):t.ptime=e.parameters[n].toString();for(const n of e.rtcpFeedback||[])t.feedback.push({subtype:n.parameter,type:n.type});a.payloads.push(t)}return a}function $i(e){return{component:e.component.toString(),foundation:e.foundation,generation:void 0,id:void 0,ip:e.ip,network:void 0,port:e.port.toString(),priority:e.priority.toString(),protocol:e.protocol,relAddr:e.relatedAddress,relPort:e.relatedPort?e.relatedPort.toString():void 0,tcpType:e.tcpType,type:e.type}}function Qi(e){const t=e.iceParameters,n=e.dtlsParameters,r={candidates:[],transportType:"iceUdp"};t&&(r.ufrag=t.usernameFragment,r.pwd=t.password),n&&(r.fingerprints=n.fingerprints.map(t=>({hash:t.algorithm,setup:e.setup,value:t.value}))),e.sctp&&(r.sctp=[e.sctp]);for(const t of e.candidates||[])r.candidates.push($i(t));return r}function Yi(e,t){return{contents:e.media.map(e=>{return{application:"audio"===e.kind||"video"===e.kind?Gi(e,t):{applicationType:"datachannel",protocol:e.protocol},creator:qi.Initiator,name:e.mid,senders:Hi(t,e.direction),transport:Qi(e)}}),groups:e.groups?e.groups.map(e=>({contents:e.mids,semantics:e.semantics})):void 0}}function Ki(e,t){const n=e.application||{},r=e.transport,i=n&&"rtp"===n.applicationType,o={direction:Wi(t,e.senders),kind:n.media||"application",mid:e.name,protocol:i?"UDP/TLS/RTP/SAVPF":"UDP/DTLS/SCTP"};if(i){if(o.rtcpParameters={mux:n.mux,reducedSize:n.reducedSize},n.sources&&n.sources.length){const e=n.sources[0];if(o.rtcpParameters.ssrc=parseInt(e.ssrc,10),e.parameters){const t=e.parameters.find(e=>"cname"===e.key);o.rtcpParameters.cname=t?t.value:void 0}}if(o.rtpParameters={codecs:[],fecMechanisms:[],headerExtensions:[]},n.streams){o.streams=[];for(const e of n.streams)o.streams.push({stream:e.id,track:e.track})}if(n.ssrc&&(o.rtpEncodingParameters=[{ssrc:parseInt(n.ssrc,10)}],n.sourceGroups&&n.sourceGroups.length)){const e=n.sourceGroups[0];o.rtpEncodingParameters[0].rtx={ssrc:parseInt(e.sources[1],10)}}for(const e of n.payloads||[]){const t={};for(const n of e.parameters||[])t[n.key]=n.value;const n=[];for(const t of e.feedback||[])n.push({parameter:t.subtype,type:t.type});o.rtpParameters.codecs.push({channels:parseInt(e.channels,10),clockRate:parseInt(e.clockrate,10),name:e.name,numChannels:parseInt(e.channels,10),parameters:t,payloadType:parseInt(e.id,10),rtcpFeedback:n})}for(const e of n.headerExtensions||[])o.rtpParameters.headerExtensions.push({direction:e.senders&&"both"!==e.senders?Wi(t,e.senders):void 0,id:e.id,uri:e.uri})}if(r&&(r.ufrag&&r.pwd&&(o.iceParameters={password:r.pwd,usernameFragment:r.ufrag}),r.fingerprints&&r.fingerprints.length)){o.dtlsParameters={fingerprints:[],role:"auto"};for(const e of r.fingerprints)o.dtlsParameters.fingerprints.push({algorithm:e.hash,value:e.value});r.sctp&&(o.sctp=r.sctp[0]),o.setup=r.fingerprints[0].setup}return o}function Ji(e,t){const n={groups:[],media:[]};for(const t of e.groups||[])n.groups.push({mids:t.contents,semantics:t.semantics});for(const r of e.contents||[])n.media.push(Ki(r,t));return n}function Xi(e){if(Object(l.matchPrefix)(e,"a=sctpmap:").length>0){const t=Object(l.matchPrefix)(e,"a=sctpmap:")[0].substr(10).split(" ");return{number:t[0],protocol:t[1],streams:t[2]}}return{number:Object(l.matchPrefix)(e,"a=sctp-port:")[0].substr(12),protocol:"webrtc-datachannel",streams:"1024"}}function Zi(e,t){return[`m=${e.kind} 9 ${e.protocol} ${t.protocol}\r\n`,"c=IN IP4 0.0.0.0\r\n",`a=sctp-port:${t.number}\r\n`].join("")}function eo(e){const t=Object(l.getMediaSections)(e),n=Object(l.getDescription)(e),r={groups:[],media:[]};for(const e of Object(l.matchPrefix)(n,"a=group:")){const t=e.split(" "),n=t.shift().substr(8);r.groups.push({mids:t,semantics:n})}for(const e of t){const t=Object(l.getKind)(e),i=Object(l.isRejected)(e),o=Object(l.parseMLine)(e),a={direction:Object(l.getDirection)(e,n),kind:t,mid:Object(l.getMid)(e),protocol:o.protocol};if(i||(a.iceParameters=Object(l.getIceParameters)(e,n),a.dtlsParameters=Object(l.getDtlsParameters)(e,n),a.setup=Object(l.matchPrefix)(e,"a=setup:")[0].substr(8)),"audio"===t||"video"===t){a.rtpParameters=Object(l.parseRtpParameters)(e),a.rtpEncodingParameters=Object(l.parseRtpEncodingParameters)(e),a.rtcpParameters=Object(l.parseRtcpParameters)(e);const t=Object(l.parseMsid)(e);a.streams=t?[t]:[]}else"application"===t&&(a.sctp=Xi(e));a.candidates=Object(l.matchPrefix)(e,"a=candidate:").map(l.parseCandidate),r.media.push(a)}return r}function to(e){const t=[];t.push(Object(l.writeSessionBoilerplate)(e.sessionId,e.sessionVersion),"a=msid-semantic:WMS *\r\n"),e.iceLite&&t.push("a=ice-lite\r\n");for(const n of e.groups||[])t.push(`a=group:${n.semantics} ${n.mids.join(" ")}\r\n`);for(const n of e.media||[]){const e=!(n.iceParameters&&n.dtlsParameters);if("application"===n.kind&&n.sctp)t.push(Zi(n,n.sctp));else if(n.rtpParameters){let r=Object(l.writeRtpDescription)(n.kind,n.rtpParameters);e&&(r=r.replace(`m=${n.kind} 9 `,`m=${n.kind} 0 `)),t.push(r),t.push(`a=${n.direction||"sendrecv"}\r\n`);for(const e of n.streams||[])t.push(`a=msid:${e.stream} ${e.track}\r\n`);if(n.rtcpParameters&&n.rtcpParameters.cname&&(t.push(`a=ssrc:${n.rtcpParameters.ssrc} cname:${n.rtcpParameters.cname}\r\n`),n.rtpEncodingParameters&&n.rtpEncodingParameters[0].rtx)){const e=n.rtpEncodingParameters[0];t.push(`a=ssrc-group:FID ${e.ssrc} ${e.rtx.ssrc}\r\n`),t.push(`a=ssrc:${e.rtx.ssrc} cname:${n.rtcpParameters.cname}\r\n`)}}if(void 0!==n.mid&&t.push(`a=mid:${n.mid}\r\n`),n.iceParameters&&t.push(Object(l.writeIceParameters)(n.iceParameters)),n.dtlsParameters&&n.setup&&t.push(Object(l.writeDtlsParameters)(n.dtlsParameters,n.setup)),n.candidates&&n.candidates.length)for(const e of n.candidates)t.push(`a=${Object(l.writeCandidate)(e)}`)}return t.join("")}class no extends ni{constructor(e){super(),this.sid=e.sid||ai(),this.peerID=e.peerID,this.role=e.initiator?"initiator":"responder",this.parent=e.parent,this.state="starting",this.connectionState="starting",this.pendingApplicationTypes=e.applicationTypes||[],this.pendingAction=!1,this.processingQueue=Object(c.a)((e,t)=>Object(s.__awaiter)(this,void 0,void 0,function*(){if("ended"===this.state)return e.reject&&e.reject(new Error("Session ended")),t();if("local"===e.type){this._log("debug","Processing local action:",e.name);try{const t=yield e.handler();e.resolve(t)}catch(t){e.reject(t)}return t?t():void 0}const{action:n,changes:r,cb:i}=e;return this._log("debug","Processing remote action:",n),new Promise(e=>{const o=(n,r)=>{i(n,r),t&&t(),e()};switch(n){case"content-accept":return this.onContentAccept(r,o);case"content-add":return this.onContentAdd(r,o);case"content-modify":return this.onContentModify(r,o);case"content-reject":return this.onContentReject(r,o);case"content-remove":return this.onContentRemove(r,o);case"description-info":return this.onDescriptionInfo(r,o);case"security-info":return this.onSecurityInfo(r,o);case"session-accept":return this.onSessionAccept(r,o);case"session-info":return this.onSessionInfo(r,o);case"session-initiate":return this.onSessionInitiate(r,o);case"session-terminate":return this.onSessionTerminate(r,o);case"transport-accept":return this.onTransportAccept(r,o);case"transport-info":return this.onTransportInfo(r,o);case"transport-reject":return this.onTransportReject(r,o);case"transport-replace":return this.onTransportReplace(r,o);default:this._log("error","Invalid or unsupported action: "+n),o({condition:"bad-request"})}})}))}get isInitiator(){return"initiator"===this.role}get peerRole(){return this.isInitiator?"responder":"initiator"}get state(){return this._sessionState}set state(e){e!==this._sessionState&&(this._log("info","Changing session state to: "+e),this._sessionState=e,this.emit("sessionState",this,e))}get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._log("info","Changing connection state to: "+e),this._connectionState=e,this.emit("connectionState",this,e))}_log(e,t,...n){t=this.sid+": "+t,this.emit("log:"+e,t,...n)}send(e,t){(t=t||{}).sid=this.sid,t.action=e;this.pendingAction=!!{"content-accept":!0,"content-add":!0,"content-modify":!0,"content-reject":!0,"content-remove":!0,"session-accept":!0,"session-inititate":!0,"transport-accept":!0,"transport-reject":!0,"transport-replace":!0}[e]&&e,this.emit("send",{id:ai(),jingle:t,to:this.peerID,type:"set"})}processLocal(e,t){return new Promise((n,r)=>{this.processingQueue.push({handler:t,name:e,reject:r,resolve:n,type:"local"},1)})}process(e,t,n){this.processingQueue.push({action:e,cb:n,changes:t,type:"remote"},2)}start(e,t){this._log("error","Can not start base sessions"),this.end("unsupported-applications",!0)}accept(e,t){this._log("error","Can not accept base sessions"),this.end("unsupported-applications")}cancel(){this.end("cancel")}decline(){this.end("decline")}end(e,t){"ended"!==this.state&&(this.state="ended",this.processingQueue.kill(),e||(e="success"),"string"==typeof e&&(e={condition:e}),t||this.send("session-terminate",{reason:e}),this.emit("terminated",this,e))}onSessionInitiate(e,t){t()}onSessionAccept(e,t){t()}onSessionTerminate(e,t){this.end(e.reason,!0),t()}onSessionInfo(e,t){const n={action:!0,initiator:!0,responder:!0,sid:!0};let r=!1;Object.keys(e).forEach(function(e){n[e]||(r=!0)}),r?t({condition:"feature-not-implemented",jingleCondition:"unsupported-info",type:"modify"}):t()}onSecurityInfo(e,t){t({condition:"feature-not-implemented",jingleCondition:"unsupported-info",type:"modify"})}onDescriptionInfo(e,t){t({condition:"feature-not-implemented",jingleCondition:"unsupported-info",type:"modify"})}onTransportInfo(e,t){t({condition:"feature-not-implemented",jingleCondition:"unsupported-info",type:"modify"})}onContentAdd(e,t){t(),this.send("content-reject",{reason:{condition:"failed-application",text:"content-add is not supported"}})}onContentAccept(e,t){t({condition:"bad-request"})}onContentReject(e,t){t({condition:"bad-request"})}onContentModify(e,t){t({condition:"bad-request"})}onContentRemove(e,t){t({condition:"bad-request"})}onTransportReplace(e,t){t(),this.send("transport-reject",{reason:{condition:"failed-application",text:"transport-replace is not supported"}})}onTransportAccept(e,t){t({condition:"bad-request"})}onTransportReject(e,t){t({condition:"bad-request"})}}const ro=n(3);class io extends no{constructor(e){super(e),this.pc=new RTCPeerConnection(Object.assign({},e.config,{iceServers:e.iceServers}),e.constraints),this.pc.addEventListener("iceconnectionstatechange",()=>{this.onIceStateChange()}),this.pc.addEventListener("icecandidate",e=>{e.candidate?this.onIceCandidate(e):this.onIceEndOfCandidates()}),this.restrictRelayBandwidth(),this.bitrateLimit=0,this.maxRelayBandwidth=e.maxRelayBandwidth,this.candidateBuffer=[],this.restartingIce=!1}end(e,t){this.pc.close(),super.end(e,t)}onTransportInfo(e,t){return Object(s.__awaiter)(this,void 0,void 0,function*(){if(e.contents[0]&&e.contents[0].transport.gatheringComplete){try{"stable"===this.pc.signalingState?yield this.pc.addIceCandidate(null):this.candidateBuffer.push(null)}catch(e){this._log("debug","Could not add null ICE candidate")}finally{t()}return}if(this.pc.remoteDescription){const n=this.pc.remoteDescription,r=eo(n.sdp),i=r.media.find(t=>t.mid===e.contents[0].name).iceParameters.usernameFragment,o=e.contents[0].transport.ufrag;if(o&&i!==o){if(e.contents.forEach((e,t)=>{r.media[t].iceParameters={password:e.transport.pwd,usernameFragment:e.transport.ufrag},r.media[t].candidates=[]}),"offer"===n.type){try{yield this.pc.setRemoteDescription(n),yield this.processBufferedCandidates();const e=yield this.pc.createAnswer(),r={action:"transport-info",contents:eo(e.sdp).media.map(e=>({creator:"initiator",name:e.mid,transport:Qi(e)})),sessionId:this.sid};this.send("transport-info",r),yield this.pc.setLocalDescription(e),t()}catch(e){this._log("error","Could not do remote ICE restart",e),t(e),this.end("failed-transport")}return}try{yield this.pc.setRemoteDescription(n),yield this.processBufferedCandidates(),t()}catch(e){this._log("error","Could not do local ICE restart",e),t(e),this.end("failed-transport")}}}const n=(e.contents||[]).map(e=>{const t=e.name,n=(e.transport.candidates||[]).map(e=>Object(s.__awaiter)(this,void 0,void 0,function*(){e.relatedAddress=e.relAddr,e.relatedPort=e.relPort;const n=ro.writeCandidate(e);let r;const i=this.pc.remoteDescription.sdp,o=ro.getMediaSections(i);for(let e=0;e<o.length;e++)if(ro.getMid(o[e])===t){r=e;break}if("stable"===this.pc.signalingState)try{yield this.pc.addIceCandidate({sdpMid:t,sdpMLineIndex:r,candidate:n})}catch(e){this._log("error","Could not add ICE candidate",e)}else this.candidateBuffer.push({sdpMid:t,sdpMLineIndex:r,candidate:n})}));return Promise.all(n)});try{yield Promise.all(n),t()}catch(e){t(e)}})}onSessionAccept(e,t){return Object(s.__awaiter)(this,void 0,void 0,function*(){this.state="active";const n=to(Ji(e,this.peerRole));try{yield this.pc.setRemoteDescription({type:"answer",sdp:n}),yield this.processBufferedCandidates(),this.emit("accepted",this,void 0),t()}catch(e){this._log("error",`Could not process WebRTC answer: ${e}`),t({condition:"general-error"})}})}onSessionTerminate(e,t){this._log("info","Terminating session"),this.pc.close(),super.end(e.reason,!0),t()}onIceCandidate(e){const t=ro.parseCandidate(e.candidate.candidate),n=function(e,t){return{contents:[{creator:qi.Initiator,name:e,transport:{candidates:[$i(t)],transportType:"iceUdp",ufrag:t.usernameFragment||void 0}}]}}(e.candidate.sdpMid,t);n.contents.forEach((e,t)=>{if(!e.transport.ufrag){const n=eo(this.pc.localDescription.sdp);e.transport.ufrag=n.media[t].iceParameters.usernameFragment}}),this._log("info","Discovered new ICE candidate",n),this.send("transport-info",n)}onIceEndOfCandidates(){this._log("info","ICE end of candidates");const e=eo(this.pc.localDescription.sdp).media[0],t={contents:[{name:e.mid,transport:{gatheringComplete:!0,transportType:"iceUdp",ufrag:e.iceParameters.usernameFragment}}]};this.send("transport-info",t)}onIceStateChange(){switch(this.pc.iceConnectionState){case"checking":this.connectionState="connecting";break;case"completed":case"connected":this.connectionState="connected",this.restartingIce=!1;break;case"disconnected":if("stable"===this.pc.signalingState?this.connectionState="interrupted":this.connectionState="disconnected",this.restartingIce)return void this.end("failed-transport");this.maybeRestartIce();break;case"failed":if("failed"===this.connectionState||this.restartingIce)return void this.end("failed-transport");this.connectionState="failed",this.restartIce();break;case"closed":this.connectionState="disconnected",this.restartingIce?this.end("failed-transport"):this.end()}}restrictRelayBandwidth(){window.RTCRtpSender&&"getParameters"in window.RTCRtpSender.prototype&&this.pc.addEventListener("iceconnectionstatechange",()=>Object(s.__awaiter)(this,void 0,void 0,function*(){if("completed"!==this.pc.iceConnectionState&&"connected"!==this.pc.iceConnectionState)return;if(this._firstTimeConnected)return;this._firstTimeConnected=!0;const e=yield this.pc.getStats();let t;if(e.forEach(n=>{"transport"===n.type&&(t=e.get(n.selectedCandidatePairId))}),t||e.forEach(e=>{"candidate-pair"===e.type&&e.selected&&(t=e)}),t){let n=!1;if(t.remoteCandidateId){const r=e.get(t.remoteCandidateId);r&&"relay"===r.candidateType&&(n=!0)}if(t.localCandidateId){const r=e.get(t.localCandidateId);r&&"relay"===r.candidateType&&(n=!0)}n&&(this.maximumBitrate=this.maxRelayBandwidth,this.currentBitrate&&this.setMaximumBitrate(Math.min(this.currentBitrate,this.maximumBitrate)))}}))}processBufferedCandidates(){return Object(s.__awaiter)(this,void 0,void 0,function*(){for(const e of this.candidateBuffer)try{yield this.pc.addIceCandidate(e)}catch(e){this._log("error","Could not add ICE candidate",e)}this.candidateBuffer=[]})}maybeRestartIce(){this.isInitiator&&(void 0!==this._maybeRestartingIce&&clearTimeout(this._maybeRestartingIce),this._maybeRestartingIce=setTimeout(()=>{delete this._maybeRestartingIce,"disconnected"===this.pc.iceConnectionState&&this.restartIce()},2e3))}restartIce(){return Object(s.__awaiter)(this,void 0,void 0,function*(){if(this.isInitiator){void 0!==this._maybeRestartingIce&&clearTimeout(this._maybeRestartingIce),this.restartingIce=!0;try{yield this.processLocal("restart-ice",()=>Object(s.__awaiter)(this,void 0,void 0,function*(){const e=yield this.pc.createOffer({iceRestart:!0}),t={action:"transport-info",contents:eo(e.sdp).media.map(e=>({creator:"initiator",name:e.mid,transport:Qi(e)})),sessionId:this.sid};this.send("transport-info",t),yield this.pc.setLocalDescription(e)}))}catch(e){this._log("error","Could not create WebRTC offer",e),this.end("failed-transport")}}})}setMaximumBitrate(e){return Object(s.__awaiter)(this,void 0,void 0,function*(){if(this.maximumBitrate&&(e=Math.min(e,this.maximumBitrate)),this.currentBitrate=e,!(window.RTCRtpSender&&"getParameters"in window.RTCRtpSender.prototype))return;const t=this.pc.getSenders().find(e=>e.track&&"video"===e.track.kind);if(!t)return;let n="";window.navigator&&window.navigator.mozGetUserMedia?n="firefox":window.navigator&&window.navigator.webkitGetUserMedia&&(n="chrome");const r=t.getParameters();"firefox"!==n||r.encodings||(r.encodings=[{}]),0===e?delete r.encodings[0].maximumBitrate:(r.encodings.length||(r.encodings[0]={}),r.encodings[0].maxBitrate=e);try{yield this.processLocal("set-bitrate",()=>Object(s.__awaiter)(this,void 0,void 0,function*(){if("chrome"===n)yield t.setParameters(r);else if("firefox"===n)if("stable"!==this.pc.signalingState)yield t.setParameters(r);else if(this.pc.localDescription&&"offer"===this.pc.localDescription.type){yield t.setParameters(r);const e=yield this.pc.createOffer();yield this.pc.setLocalDescription(e),yield this.pc.setRemoteDescription(this.pc.remoteDescription),yield this.processBufferedCandidates()}else if(this.pc.localDescription&&"answer"===this.pc.localDescription.type){yield t.setParameters(r),yield this.pc.setRemoteDescription(this.pc.remoteDescription),yield this.processBufferedCandidates();const e=yield this.pc.createAnswer();yield this.pc.setLocalDescription(e)}}))}catch(e){this._log("error","setParameters failed",e)}})}}class oo extends u.EventEmitter{constructor(e={}){super(),this.config=Object.assign({chunkSize:16384,hash:"sha-1"},e),this.file=null,this.channel=null,this.hash=ae(this.config.hash)}send(e,t){if(this.file&&this.channel)return;this.file=e,this.channel=t,this.channel.binaryType="arraybuffer";const n=new FileReader;let r=0,i=!1;n.addEventListener("load",t=>{const n=t.target.result;i=!1,r+=n.byteLength,this.channel.send(n),this.hash.update(new Uint8Array(n)),this.emit("progress",r,e.size,n),r<e.size?this.channel.bufferedAmount<=this.channel.bufferedAmountLowThreshold&&o():(this.emit("progress",e.size,e.size,null),this.emit("sentFile",{algo:this.config.hash,hash:this.hash.digest("hex")}))});const o=()=>{if(i||r>=e.size)return;i=!0;const t=e.slice(r,r+this.config.chunkSize);n.readAsArrayBuffer(t)};t.bufferedAmountLowThreshold=8*this.config.chunkSize,t.onbufferedamountlow=(()=>{o()}),o()}}class ao extends u.EventEmitter{constructor(e={}){super(),this.config=Object.assign({hash:"sha-1"},e),this.receiveBuffer=[],this.received=0,this.metadata={},this.channel=null,this.hash=ae(this.config.hash)}receive(e,t){e&&(this.metadata=e),this.channel=t,this.channel.binaryType="arraybuffer",this.channel.onmessage=(e=>{const t=e.data.byteLength;this.received+=t,this.receiveBuffer.push(e.data),e.data&&this.hash.update(new Uint8Array(e.data)),this.emit("progress",this.received,this.metadata.size,e.data),this.received===this.metadata.size?(this.metadata.actualhash=this.hash.digest("hex"),this.emit("receivedFile",new Blob(this.receiveBuffer),this.metadata),this.receiveBuffer=[]):this.received>this.metadata.size&&(console.error("received more than expected, discarding..."),this.receiveBuffer=[])})}}class so extends io{constructor(e){super(e),this.sender=null,this.receiver=null,this.file=null}start(e,t){return Object(s.__awaiter)(this,void 0,void 0,function*(){t=t||(()=>void 0),this.state="pending",this.role="initiator",this.file=e,this.sender=new oo,this.sender.on("progress",(e,t)=>{this._log("info","Send progress "+e+"/"+t)}),this.sender.on("sentFile",e=>{this._log("info","Sent file",e.name),this.send("description-info",{contents:[{application:{applicationType:"filetransfer",offer:{hash:{algo:e.algo,value:e.hash}}},creator:"initiator",name:this.contentName}]}),this.emit("sentFile",this,e)}),this.channel=this.pc.createDataChannel("filetransfer",{ordered:!0}),this.channel.onopen=(()=>{this.sender.send(this.file,this.channel)});try{yield this.processLocal("session-initiate",()=>Object(s.__awaiter)(this,void 0,void 0,function*(){const t=yield this.pc.createOffer({offerToReceiveAudio:!1,offerToReceiveVideo:!1}),n=Yi(eo(t.sdp),this.role);this.contentName=n.contents[0].name,n.sessionId=this.sid,n.action="session-initate",n.contents[0].application={applicationType:"filetransfer",offer:{date:e.lastModifiedDate,hash:{algo:"sha-1",value:""},name:e.name,size:e.size}},this.send("session-initiate",n),yield this.pc.setLocalDescription(t)})),t()}catch(e){return this._log("error","Could not create WebRTC offer",e),this.end("failed-application",!0)}})}accept(e){return Object(s.__awaiter)(this,void 0,void 0,function*(){this._log("info","Accepted incoming session"),this.role="responder",this.state="active",e=e||(()=>void 0);try{yield this.processLocal("session-accept",()=>Object(s.__awaiter)(this,void 0,void 0,function*(){const e=yield this.pc.createAnswer(),t=Yi(eo(e.sdp),this.role);t.sessionId=this.sid,t.action="session-accept",t.contents.forEach(e=>{e.creator="initiator"}),this.contentName=t.contents[0].name,this.send("session-accept",t),yield this.pc.setLocalDescription(e)})),e()}catch(e){this._log("error","Could not create WebRTC answer",e),this.end("failed-application")}})}onSessionInitiate(e,t){return Object(s.__awaiter)(this,void 0,void 0,function*(){this._log("info","Initiating incoming session"),this.role="responder",this.state="pending";const n=to(Ji(e,this.peerRole)),r=e.contents[0].application;this.receiver=new ao({hash:r.offer.hash.algo}),this.receiver.on("progress",(e,t)=>{this._log("info","Receive progress "+e+"/"+t)}),this.receiver.on("receivedFile",e=>{this.receivedFile=e,this._maybeReceivedFile()}),this.receiver.metadata=r.offer,this.pc.addEventListener("datachannel",e=>{this.channel=e.channel,this.receiver.receive(null,e.channel)});try{yield this.pc.setRemoteDescription({type:"offer",sdp:n}),yield this.processBufferedCandidates(),t()}catch(e){this._log("error","Could not create WebRTC answer",e),t({condition:"general-error"})}})}onDescriptionInfo(e,t){const n=e.contents[0].application.offer.hash;this.receiver.metadata.hash=n,this.receiver.metadata.actualhash&&this._maybeReceivedFile(),t()}_maybeReceivedFile(){this.receiver.metadata.hash.value&&(this.receiver.metadata.hash.value===this.receiver.metadata.actualhash?(this._log("info","File hash matches"),this.emit("receivedFile",this,this.receivedFile,this.receiver.metadata),this.end("success")):(this._log("error","File hash does not match"),this.end("media-error")))}}class co extends io{constructor(e){if(super(e),this.pc.addEventListener("track",e=>{this.onAddTrack(e.track,e.streams[0])}),e.stream)for(const t of e.stream.getTracks())this.addTrack(t,e.stream);this._ringing=!1}start(e,t){return Object(s.__awaiter)(this,void 0,void 0,function*(){this.state="pending",t=t||(()=>void 0),this.role="initiator",this.offerOptions=e;try{yield this.processLocal("session-initiate",()=>Object(s.__awaiter)(this,void 0,void 0,function*(){const t=yield this.pc.createOffer(e),n=Yi(eo(t.sdp),this.role);n.sessionId=this.sid,n.action="session-initate",n.contents.forEach(e=>{e.creator="initiator",function(e){if(e.application.streams&&e.application.streams.length&&e.application.sources&&e.application.sources.length){const t=e.application.streams[0];e.application.sources[0].parameters.push({key:"msid",value:`${t.id} ${t.track}`}),e.application.sourceGroups&&e.application.sourceGroups.length>0&&e.application.sources.push({parameters:[{key:"cname",value:e.application.sources[0].parameters[0].value},{key:"msid",value:`${t.id} ${t.track}`}],ssrc:e.application.sourceGroups[0].sources[1]})}}(e)}),yield this.pc.setLocalDescription(t),this.send("session-initiate",n)})),t()}catch(e){this._log("error","Could not create WebRTC offer",e),this.end("failed-application",!0)}})}accept(e,t){return Object(s.__awaiter)(this,arguments,void 0,function*(){1===arguments.length&&"function"==typeof e&&(t=e,e={}),t=t||(()=>void 0),e=e||{},this._log("info","Accepted incoming session"),this.state="active",this.role="responder";try{yield this.processLocal("session-accept",()=>Object(s.__awaiter)(this,void 0,void 0,function*(){const t=yield this.pc.createAnswer(e),n=Yi(eo(t.sdp),this.role);n.sessionId=this.sid,n.action="session-accept",n.contents.forEach(e=>{e.creator="initiator"}),yield this.pc.setLocalDescription(t),this.send("session-accept",n)})),t()}catch(e){this._log("error","Could not create WebRTC answer",e),this.end("failed-application")}})}end(e,t){this.pc.getReceivers().forEach(e=>{this.onRemoveTrack(e.track)}),super.end(e,t)}ring(){return this.processLocal("ring",()=>{this._log("info","Ringing on incoming session"),this.ringing=!0,this.send("session-info",{ringing:!0})})}mute(e,t){return this.processLocal("mute",()=>{this._log("info","Muting",t),this.send("session-info",{mute:{creator:e,name:t}})})}unmute(e,t){return this.processLocal("unmute",()=>{this._log("info","Unmuting",t),this.send("session-info",{unmute:{creator:e,name:t}})})}hold(){return this.processLocal("hold",()=>{this._log("info","Placing on hold"),this.send("session-info",{hold:!0})})}resume(){return this.processLocal("resume",()=>{this._log("info","Resuming from hold"),this.send("session-info",{active:!0})})}addTrack(e,t,n){return this.processLocal("addtrack",()=>Object(s.__awaiter)(this,void 0,void 0,function*(){this.pc.addTrack?this.pc.addTrack(e,t):this.pc.addStream(t),n&&n()}))}removeTrack(e,t){return Object(s.__awaiter)(this,void 0,void 0,function*(){return this.processLocal("removetrack",()=>Object(s.__awaiter)(this,void 0,void 0,function*(){if(this.pc.removeTrack(e),t)return t()}))})}onAddTrack(e,t){this._log("info","Track added"),this.emit("peerTrackAdded",this,e,t)}onRemoveTrack(e){this._log("info","Track removed"),this.emit("peerTrackRemoved",this,e)}onSessionInitiate(e,t){return Object(s.__awaiter)(this,void 0,void 0,function*(){this._log("info","Initiating incoming session"),this.state="pending",this.role="responder";const n=Ji(e,this.peerRole);n.media.forEach(e=>{e.streams||(e.streams=[{stream:"legacy",track:e.kind}])});const r=to(n);try{return yield this.pc.setRemoteDescription({type:"offer",sdp:r}),yield this.processBufferedCandidates(),t()}catch(e){return this._log("error","Could not create WebRTC answer",e),t({condition:"general-error"})}})}onSessionTerminate(e,t){for(const e of this.pc.getReceivers())this.onRemoveTrack(e.track);super.onSessionTerminate(e,t)}onSessionInfo(e,t){return e.ringing?(this._log("info","Outgoing session is ringing"),this.ringing=!0,this.emit("ringing",this),t()):e.hold?(this._log("info","On hold"),this.emit("hold",this),t()):e.active?(this._log("info","Resuming from hold"),this.emit("resumed",this),t()):e.mute?(this._log("info","Muting",e.mute),this.emit("mute",this,e.mute),t()):e.unmute?(this._log("info","Unmuting",e.unmute),this.emit("unmute",this,e.unmute),t()):t()}get ringing(){return this._ringing}set ringing(e){e!==this._ringing&&(this._ringing=e,this.emit("change:ringing",e))}get streams(){return"closed"!==this.pc.signalingState?this.pc.getRemoteStreams():[]}}const uo=786432;class lo extends ni{constructor(e){super(),e=e||{},this.selfID=e.selfID,this.sessions={},this.peers={},this.iceServers=e.iceServers||[{urls:"stun:stun.l.google.com:19302"}],this.prepareSession=e.prepareSession||function(e){return e.applicationTypes.indexOf("rtp")>=0?new co(e):e.applicationTypes.indexOf("filetransfer")>=0?new so(e):void 0},this.performTieBreak=e.performTieBreak||function(e,t){const n=t.jingle.contents.map(e=>{if(e.application)return e.application.applicationType});return e.pendingApplicationTypes.filter(e=>n.includes(e)).length>0},this.config=Object.assign({debug:!1,peerConnectionConfig:{bundlePolicy:e.bundlePolicy||"balanced",iceTransportPolicy:e.iceTransportPolicy||"all",rtcpMuxPolicy:e.rtcpMuxPolicy||"require"},peerConnectionConstraints:{optional:[{DtlsSrtpKeyAgreement:!0},{RtpDataChannels:!1}]}},e)}addICEServer(e){"string"==typeof e&&(e={urls:e}),this.iceServers.push(e)}resetICEServers(){this.iceServers=[]}addSession(e){const t=e.sid,n=e.peerID;return this.sessions[t]=e,this.peers[n]||(this.peers[n]=[]),this.peers[n].push(e),e.on("terminated",()=>{const r=this.peers[n]||[];r.length&&r.splice(r.indexOf(e),1),delete this.sessions[t]}),e.on("*",(t,n,...r)=>{if("send"===t){const t=n.jingle&&n.jingle.action;e.isInitiator&&"session-initiate"===t&&this.emit("outgoing",e)}!this.config.debug||"log:debug"!==t&&"log:error"!==t||console.log("Jingle:",n,...r),0!==t.indexOf("change")&&this.emit(t,n,...r)}),this.emit("createdSession",e),e}createMediaSession(e,t,n){e=e.full||e;const r=new co({config:this.config.peerConnectionConfig,constraints:this.config.peerConnectionConstraints,iceServers:this.iceServers,initiator:!0,maxRelayBandwidth:uo,parent:this,peerID:e,sid:t,stream:n});return this.addSession(r),r}createFileTransferSession(e,t){e=e.full||e;const n=new so({config:this.config.peerConnectionConfig,constraints:this.config.peerConnectionConstraints,iceServers:this.iceServers,initiator:!0,maxRelayBandwidth:uo,parent:this,peerID:e,sid:t});return this.addSession(n),n}endPeerSessions(e,t,n){e=e.full||e;const r=this.peers[e]||[];delete this.peers[e],r.forEach(function(e){e.end(t||"gone",n)})}endAllSessions(e,t){Object.keys(this.peers).forEach(n=>{this.endPeerSessions(n,e,t)})}_createIncomingSession(e,t){let n;return this.prepareSession&&(n=this.prepareSession(e,t)),n||(n=new no(e)),this.addSession(n),n}_sendError(e,t,n){n.type||(n.type="cancel"),this.emit("send",{error:n,id:t,to:e,type:"error"})}_log(e,t,...n){this.emit("log:"+e,t,...n)}process(e){const t=this,n=e.jingle?e.jingle.sid:null;let r=this.sessions[n]||null;const i=e.id,o=e.from?e.from.full||e.from:void 0;if("error"===e.type){const t=e.error&&"tie-break"===e.error.jingleCondition;return r&&"pending"===r.state&&t?r.end("alternative-session",!0):(r&&(r.pendingAction=!1),this.emit("error",e))}if("result"===e.type)return void(r&&(r.pendingAction=!1));const a=e.jingle.action,s=e.jingle.contents||[],c=s.map(function(e){if(e.application)return e.application.applicationType}),u=s.map(function(e){if(e.transport)return e.transport.transportType});if("session-initiate"!==a){if(!r)return"session-terminate"===a?this.emit("send",{id:i,to:o,type:"result"}):(this._log("error","Unknown session",n),this._sendError(o,i,{condition:"item-not-found",jingleCondition:"unknown-session"}));if(r.peerID!==o||"ended"===r.state)return this._log("error","Session has ended, or action has wrong sender"),this._sendError(o,i,{condition:"item-not-found",jingleCondition:"unknown-session"});if("session-accept"===a&&"pending"!==r.state)return this._log("error","Tried to accept session twice",n),this._sendError(o,i,{condition:"unexpected-request",jingleCondition:"out-of-order"});if("session-terminate"!==a&&a===r.pendingAction&&(this._log("error","Tie break during pending request"),r.isInitiator))return this._sendError(o,i,{condition:"conflict",jingleCondition:"tie-break"})}else if(r){if(r.peerID!==o)return this._log("error","Duplicate sid from new sender"),this._sendError(o,i,{condition:"service-unavailable"});if("pending"!==r.state)return this._log("error","Someone is doing this wrong"),this._sendError(o,i,{condition:"unexpected-request",jingleCondition:"out-of-order"});if(this.selfID>r.peerID&&this.performTieBreak(r,e))return this._log("error","Tie break new session because of duplicate sids"),this._sendError(o,i,{condition:"conflict",jingleCondition:"tie-break"})}else if(this.peers[o]&&this.peers[o].length)for(let t=0,r=this.peers[o].length;t<r;t++){const r=this.peers[o][t];if(r&&"pending"===r.state&&oi(r.sid,n)>0&&this.performTieBreak(r,e))return this._log("info","Tie break session-initiate"),this._sendError(o,i,{condition:"conflict",jingleCondition:"tie-break"})}if("session-initiate"===a){if(!s.length)return t._sendError(o,i,{condition:"bad-request"});r=this._createIncomingSession({applicationTypes:c,config:this.config.peerConnectionConfig,constraints:this.config.peerConnectionConstraints,iceServers:this.iceServers,initiator:!1,parent:this,peerID:o,sid:n,transportTypes:u},e)}r.process(a,e.jingle,t=>{t?(this._log("error","Could not process request",e,t),this._sendError(o,i,t)):(this.emit("send",{id:i,to:o,type:"result"}),"session-initiate"===a&&this.emit("incoming",r))})}}let po;function fo(e){const t=e.jingle=new lo;if(e.supportedICEServiceTypes={stun:!0,stuns:!0,turn:!0,turns:!0},e.disco.addFeature(ft),po&&po.RTCPeerConnection){const t=[mt,Ft,Ut,rn,Kt,nn,It,wt,vt,bt,"urn:xmpp:jingle:transports:dtls-sctp:1","urn:ietf:rfc:3264","urn:ietf:rfc:5576","urn:ietf:rfc:5888"];for(const n of t)e.disco.addFeature(n)}const n=["outgoing","incoming","accepted","terminated","ringing","mute","unmute","hold","resumed"];for(const r of n)t.on(r,function(t,n){e.emit("jingle:"+r,t,n)});t.on("createdSession",function(t){e.emit("jingle:created",t)}),t.on("send",function(n){e.sendIq(n,function(r,i){r&&e.emit("jingle:error",r);const o=r||i;o.jingle||(o.jingle={}),o.jingle.sid=n.jingle.sid,t.process(o)})}),e.on("session:bound","jingle",function(e){t.selfID=e.full}),e.on("iq:set:jingle","jingle",function(e){t.process(e)}),e.on("unavailable","jingle",function(e){const n=e.from.full;t.endPeerSessions(n,!0)}),e.discoverICEServers=function(t){return this.getServices(e.config.server).then(function(t){const n=t.services.services,r=[];for(let t=0;t<n.length;t++){const i=n[t],o={};e.supportedICEServiceTypes[i.type]&&("stun"===i.type||"stuns"===i.type?(o.urls=i.type+":"+i.host,i.port&&(o.urls+=":"+i.port),r.push(o),e.jingle.addICEServer(o)):"turn"!==i.type&&"turns"!==i.type||(o.urls=i.type+":"+i.host,i.port&&(o.urls+=":"+i.port),i.transport&&"udp"!==i.transport&&(o.urls+="?transport="+i.transport),i.username&&(o.username=i.username),i.password&&(o.credential=i.password),r.push(o),e.jingle.addICEServer(o)))}return r}).then(function(e){return t&&t(null,e),e},function(e){if(!t)throw e;t(e)})}}function ho(e){e.enableKeepAlive=function(t){(t=t||{}).interval=t.interval||300,t.timeout=t.timeout||15,e._keepAliveInterval=setInterval(function(){e.sessionStarted&&function(e,t){return ii(new Promise(function(t,n){e.sm.started?(e.once("stream:management:ack",t),e.sm.request()):e.ping().then(t).catch(function(e){e.error&&"timeout"!==e.error.condition?t():n()})}),1e3*t||15e3)}(e,t.timeout).catch(function(){e.emit("stream:error",{condition:"connection-timeout",text:"Server did not respond in "+t.timeout+" seconds"}),e.transport&&(e.transport.hasStream=!1,e.transport.disconnect())})},1e3*t.interval)},e.disableKeepAlive=function(){e._keepAliveInterval&&(clearInterval(e._keepAliveInterval),delete e._keepAliveInterval)},e.on("disconnected",function(){e.disableKeepAlive()})}function mo(e){e.disco.addFeature("",tn),e.sendLog=function(t,n){e.sendMessage({log:n,to:t,type:"normal"})}}function go(e){e.disco.addFeature($t),e.getHistorySearchForm=function(t,n){return e.sendIq({mam:!0,to:t,type:"get"},n)},e.searchHistory=function(t,n){const r=this.nextId();(t=t||{}).queryid=r;const i=t.jid||t.to||"";delete t.jid,delete t.to,t.form||(t.form={}),t.form.type="submit";const o=t.form.fields=t.form.fields||[],a=["FORM_TYPE","with","start","end"];for(const e of a)if(t[e]||"FORM_TYPE"===e){let n=t[e];("start"===e||"end"===e)&&"string"!=typeof n&&(n=n.toISOString()),"FORM_TYPE"===e&&(n=$t);for(let e=0,t=o.length;e<t;e++)o[e].name;o.push({name:e,value:n}),delete t[e]}const s=new x(i||e.jid.bare),c={"":!0};c[s.full]=!0,c[s.bare]=!0,c[s.domain]=!0,c[e.jid.bare]=!0,c[e.jid.domain]=!0;const u=[];return this.on("mam:item:"+r,"session",function(e){c[e.from.full]&&u.push(e.mamItem)}),ii(this.sendIq({id:r,mam:t,to:i,type:"set"}),1e3*this.config.timeout||15e3,()=>({error:{condition:"timeout"},id:r,type:"error"})).then(e=>(e.mamResult.items=u,this.off("mam:item:"+r),n&&n(null,e),e)).catch(e=>{if(this.off("mam:item:"+r),!n)throw e;n(e)})},e.getHistoryPreferences=function(e){return this.sendIq({mamPrefs:!0,type:"get"},e)},e.setHistoryPreferences=function(e,t){return this.sendIq({mamPrefs:e,type:"set"},t)},e.on("message",function(t){t.mamItem&&(e.emit("mam:item",t),e.emit("mam:item:"+t.mamItem.queryid,t))})}function vo(e){function t(t){return t.markable&&!1!==e.config.chatMarkers}e.disco.addFeature(Xt),e.on("message",function(n){if(!t(n))return n.received?e.emit("marker:received",n):n.displayed?e.emit("marker:displayed",n):n.acknowledged?e.emit("marker:acknowledged",n):void 0;e.markReceived(n)}),e.markReceived=function(n){if(t(n)){const t="groupchat"===n.type?new x(n.from.bare):n.from;e.sendMessage({body:"",received:n.id,to:t,type:n.type})}},e.markDisplayed=function(n){if(t(n)){const t="groupchat"===n.type?new x(n.from.bare):n.from;e.sendMessage({body:"",displayed:n.id,to:t,type:n.type})}},e.markAcknowledged=function(n){if(t(n)){const t="groupchat"===n.type?new x(n.from.bare):n.from;e.sendMessage({acknowledged:n.id,body:"",to:t,type:n.type})}}}function bo(e){function t(){const t=e.joiningRooms;e.joiningRooms={};for(const n of Object.keys(t)){const r=t[n];e.joinRoom(n,r)}const n=e.joinedRooms;e.joinedRooms={};for(const t of Object.keys(n)){const r=n[t];e.joinRoom(t,r)}}e.disco.addFeature(Ie),e.disco.addFeature(Mt),e.disco.addFeature(Qt),e.joinedRooms={},e.joiningRooms={},e.on("session:started",t),e.on("stream:management:resumed",t),e.on("message",function(t){t.muc?t.muc.invite?e.emit("muc:invite",{from:t.muc.invite.from,password:t.muc.password,reason:t.muc.invite.reason,room:t.from,thread:t.muc.invite.thread,type:"mediated"}):t.muc.decline?e.emit("muc:declined",{from:t.muc.decline.from,reason:t.muc.decline.reason,room:t.from}):e.emit("muc:other",{muc:t.muc,room:t.from,to:t.to}):t.mucInvite&&e.emit("muc:invite",{from:t.from,password:t.mucInvite.password,reason:t.mucInvite.reason,room:t.mucInvite.jid,thread:t.mucInvite.thread,type:"direct"}),"groupchat"===t.type&&t.subject&&e.emit("muc:subject",t)}),e.on("presence",function(t){if(e.joiningRooms[t.from.bare]&&"error"===t.type)delete e.joiningRooms[t.from.bare],e.emit("muc:failed",t),e.emit("muc:error",t);else if(t.muc){const n=t.muc.codes&&t.muc.codes.indexOf("110")>=0;"error"===t.type?e.emit("muc:error",t):"unavailable"===t.type?(e.emit("muc:unavailable",t),n&&(e.emit("muc:leave",t),delete e.joinedRooms[t.from.bare]),t.muc.destroyed&&e.emit("muc:destroyed",{newRoom:t.muc.destroyed.jid,password:t.muc.destroyed.password,reason:t.muc.destroyed.reason,room:t.from})):(e.emit("muc:available",t),n&&!e.joinedRooms[t.from.bare]&&(e.emit("muc:join",t),delete e.joiningRooms[t.from.bare],e.joinedRooms[t.from.bare]=t.from.resource))}}),e.joinRoom=function(e,t,n){(n=n||{}).to=e+"/"+t,n.caps=this.disco.caps,n.joinMuc=n.joinMuc||{},this.joiningRooms[e]=t,this.sendPresence(n)},e.leaveRoom=function(e,t,n){(n=n||{}).to=e+"/"+t,n.type="unavailable",this.sendPresence(n)},e.ban=function(t,n,r,i){e.setRoomAffiliation(t,n,"outcast",r,i)},e.kick=function(t,n,r,i){e.setRoomRole(t,n,"none",r,i)},e.invite=function(t,n){e.sendMessage({muc:{invites:n},to:t})},e.directInvite=function(t,n){n.jid=t,e.sendMessage({mucInvite:n,to:n.to})},e.declineInvite=function(t,n,r){e.sendMessage({muc:{decline:{reason:r,to:n}},to:t})},e.changeNick=function(t,n){e.sendPresence({to:new x(t).bare+"/"+n})},e.setSubject=function(t,n){e.sendMessage({subject:n,to:t,type:"groupchat"})},e.discoverReservedNick=function(t,n){e.getDiscoInfo(t,"x-roomuser-item",function(e,t){if(e)return n(e);const r=t.discoInfo.identities[0]||{};n(null,r.name)})},e.requestRoomVoice=function(t){e.sendMessage({form:{fields:[{name:"FORM_TYPE",value:"http://jabber.org/protocol/muc#request"},{name:"muc#role",type:"text-single",value:"participant"}]},to:t})},e.setRoomAffiliation=function(e,t,n,r,i){return this.sendIq({mucAdmin:{affiliation:n,jid:t,reason:r},to:e,type:"set"},i)},e.setRoomRole=function(e,t,n,r,i){return this.sendIq({mucAdmin:{nick:t,reason:r,role:n},to:e,type:"set"},i)},e.getRoomMembers=function(e,t,n){return this.sendIq({mucAdmin:t,to:e,type:"get"},n)},e.getRoomConfig=function(e,t){return this.sendIq({mucOwner:!0,to:e,type:"get"},t)},e.configureRoom=function(e,t,n){return t.type||(t.type="submit"),this.sendIq({mucOwner:{form:t},to:e,type:"set"},n)},e.destroyRoom=function(e,t,n){return this.sendIq({mucOwner:{destroy:t},to:e,type:"set"},n)},e.getUniqueRoomName=function(e,t){return this.sendIq({mucUnique:!0,to:e,type:"get"},t)}}function yo(e){e.disco.addFeature(tt),e.disco.addFeature(pt(tt)),e.on("pubsub:event",function(t){t.event.updated&&t.event.updated.node===tt&&e.emit("mood",{jid:t.from,mood:t.event.updated.published[0].mood})}),e.publishMood=function(e,t,n){return this.publish("",tt,{mood:{text:t,value:e}},n)}}function wo(e){e.disco.addFeature(yt),e.disco.addFeature(pt(yt)),e.on("pubsub:event",function(t){t.event.updated&&t.event.updated.node===yt&&e.emit("nick",{jid:t.from,nick:t.event.updated.published[0].nick})}),e.publishNick=function(e,t){return this.publish("",yt,{nick:e},t)}}function xo(e){e.disco.addFeature(Ct),e.on("iq:get:ping",function(t){e.sendIq(t.resultReply())}),e.ping=function(e,t){return this.sendIq({ping:!0,to:e,type:"get"},t)}}function So(e){e.getPrivateData=function(e,t){return this.sendIq({privateStorage:e,type:"get"},t)},e.setPrivateData=function(e,t){return this.sendIq({privateStorage:e,type:"set"},t)}}function _o(e){e.disco.addFeature(sn),e.enableNotifications=function(e,t,n,r){const i=[{name:"FORM_TYPE",value:"http://jabber.org/protocol/pubsub#publish-options"}],o={enablePush:{jid:e,node:t},type:"set"};return n&&n.length&&(o.enablePush.form={fields:i.concat(n),type:"submit"}),this.sendIq(o,r)},e.disableNotifications=function(e,t,n){const r={disablePush:{jid:e},type:"set"};return t&&(r.disablePush.node=t),this.sendIq(r,n)}}function ko(e){e.on("message",function(t){if(t.event){if(e.emit("pubsub:event",t),e.emit("pubsubEvent",t),t.event.updated){const n=t.event.updated.published,r=t.event.updated.retracted;n&&n.length&&e.emit("pubsub:published",t),r&&r.length&&e.emit("pubsub:retracted",t)}t.event.purged&&e.emit("pubsub:purged",t),t.event.deleted&&e.emit("pubsub:deleted",t),t.event.subscriptionChanged&&e.emit("pubsub:subscription",t),t.event.configurationChanged&&e.emit("pubsub:config",t)}t.pubsub&&t.pubsub.affiliations&&e.emit("pubsub:affiliation",t)}),e.subscribeToNode=function(t,n,r){return"string"==typeof n&&(n={node:n}),n.jid=n.jid||e.jid,this.sendIq({pubsub:{subscribe:n},to:t,type:"set"},r)},e.unsubscribeFromNode=function(t,n,r){return"string"==typeof n&&(n={node:n}),n.jid=n.jid||e.jid.bare,this.sendIq({pubsub:{unsubscribe:n},to:t,type:"set"},r)},e.publish=function(e,t,n,r){return this.sendIq({pubsub:{publish:{item:n,node:t}},to:e,type:"set"},r)},e.getItem=function(e,t,n,r){return this.sendIq({pubsub:{retrieve:{item:{id:n},node:t}},to:e,type:"get"},r)},e.getItems=function(e,t,n,r){return(n=n||{}).node=t,this.sendIq({pubsub:{retrieve:{max:n.max,node:t},rsm:n.rsm},to:e,type:"get"},r)},e.retract=function(e,t,n,r,i){return this.sendIq({pubsub:{retract:{id:n,node:t,notify:r}},to:e,type:"set"},i)},e.purgeNode=function(e,t,n){return this.sendIq({pubsubOwner:{purge:t},to:e,type:"set"},n)},e.deleteNode=function(e,t,n){return this.sendIq({pubsubOwner:{del:t},to:e,type:"set"},n)},e.createNode=function(e,t,n,r){const i={pubsub:{create:t},to:e,type:"set"};return n&&(i.pubsub.config={form:n}),this.sendIq(i,r)},e.getSubscriptions=function(e,t,n){return t=t||{},this.sendIq({pubsub:{subscriptions:t},to:e,type:"get"},n)},e.getAffiliations=function(e,t,n){return t=t||{},this.sendIq({pubsub:{affiliations:t},to:e,type:"get"},n)},e.getNodeSubscribers=function(e,t,n,r){return(n=n||{}).node=t,this.sendIq({pubsubOwner:{subscriptions:n},to:e,type:"get"},r)},e.updateNodeSubscriptions=function(e,t,n,r){return this.sendIq({pubsubOwner:{subscriptions:{list:n,node:t}},to:e,type:"set"},r)},e.getNodeAffiliations=function(e,t,n,r){return(n=n||{}).node=t,this.sendIq({pubsubOwner:{affiliations:n},to:e,type:"get"},r)},e.updateNodeAffiliations=function(e,t,n,r){return this.sendIq({pubsubOwner:{affiliations:{list:n,node:t}},to:e,type:"set"},r)}}function Co(e){e.disco.addFeature(ut),e.disco.addFeature(pt(ut)),e.on("pubsub:event",function(t){t.event.updated&&t.event.updated.node===ut&&e.emit("reachability",{addresses:t.event.updated.published[0].reach,jid:t.from})}),e.on("presence",function(t){t.reach&&t.reach.length&&e.emit("reachability",{addresses:t.reach,jid:t.from})}),e.publishReachability=function(e,t){return this.publish("",ut,{reach:e},t)}}function Eo(e,t,n){const r=!1!==n.sendReceipts;e.disco.addFeature(xt),e.on("message",function(t){r&&{chat:!0,headline:!0,normal:!0}[t.type]&&t.requestReceipt&&!t.receipt&&e.sendMessage({id:t.id,receipt:t.id,to:t.from,type:t.type}),t.receipt&&(e.emit("receipt",t),e.emit("receipt:"+t.receipt))})}function To(e){e.getAccountInfo=function(e,t){return this.sendIq({register:!0,to:e,type:"get"},t)},e.updateAccount=function(e,t,n){return this.sendIq({register:t,to:e,type:"set"},n)},e.deleteAccount=function(e,t){return this.sendIq({register:{remove:!0},to:e,type:"set"},t)}}function Po(e){e.on("iq:set:roster",function(t){const n={"":!0};if(n[e.jid.bare]=!0,n[e.jid.domain]=!0,!n[t.from.full])return e.sendIq(t.errorReply({error:{condition:"service-unavailable",type:"cancel"}}));e.emit("roster:update",t),e.sendIq({id:t.id,type:"result"})}),e.getRoster=function(t){return e.sendIq({roster:{ver:this.config.rosterVer},type:"get"}).then(e=>{if(e.roster){const t=e.roster.ver;t&&(this.config.rosterVer=t,this.emit("roster:ver",t))}return e}).then(function(e){return t&&t(null,e),e},function(e){if(!t)throw e;t(e)})},e.updateRosterItem=function(t,n){return e.sendIq({roster:{items:[t]},type:"set"},n)},e.removeRosterItem=function(t,n){return e.updateRosterItem({jid:t,subscription:"remove"},n)},e.subscribe=function(t){e.sendPresence({type:"subscribe",to:t})},e.unsubscribe=function(t){e.sendPresence({type:"unsubscribe",to:t})},e.acceptSubscription=function(t){e.sendPresence({type:"subscribed",to:t})},e.denySubscription=function(t){e.sendPresence({type:"unsubscribed",to:t})}}function Ro(e){e.disco.addFeature(Vt),e.on("message",function(t){t.rtt&&(e.emit("rtt",t),e.emit("rtt:"+t.rtt.event,t))})}function Ao(e){e.disco.addFeature(Et),e.getTime=function(e,t){return this.sendIq({time:!0,to:e,type:"get"},t)},e.on("iq:get:time",function(t){const n=new Date;e.sendIq(t.resultReply({time:{tzo:n.getTimezoneOffset(),utc:n}}))})}function jo(e){function t(t){return Object(s.__awaiter)(this,void 0,void 0,function*(){const{discoInfo:n}=yield e.getDiscoInfo(t);if(n.features.includes("urn:xmpp:http:upload:0")){const e=n.form.fields;let r=null;return e.some(e=>"FORM_TYPE"===e.name&&e.value.includes("urn:xmpp:http:upload:0"))&&(r=parseInt(e.find(e=>"max-file-size"===e.name).value,10)),{maxSize:r,jid:t}}})}e.getUploadService=function(n=e.jid.domain){return Object(s.__awaiter)(this,void 0,void 0,function*(){const r=yield t(n);if(r)return r;const{discoItems:i}=yield e.getDiscoItems(n);for(const e of i.items){const n=yield t(e.jid);if(n)return n}throw new Error("No upload service discovered on: "+n)})},e.getUploadSlot=function(t,n,r){return e.sendIq({to:t,type:"get",uploadRequest:n},r)}}function Oo(e){e.disco.addFeature("vcard-temp"),e.getVCard=function(e,t){return this.sendIq({to:e,type:"get",vCardTemp:!0},t)},e.publishVCard=function(e,t){return this.sendIq({type:"set",vCardTemp:e},t)}}function Io(e){e.disco.addFeature("jabber:iq:version"),e.on("iq:get:version",function(t){e.sendIq(t.resultReply({version:e.config.softwareVersion||{name:"stanzajs.org"}}))}),e.getSoftwareVersion=function(e,t){return this.sendIq({to:e,type:"get",version:!0},t)}}function Mo(e){e.use(ki),e.use(Ci),e.use(Ei),e.use(Ti),e.use(Pi),e.use(Ri),e.use(Ai),e.use(ji),e.use(Oi),e.use(Ii),e.use(Mi),e.use(Di),e.use(Ni),e.use(Li),e.use(Fi),e.use(Ui),e.use(Bi),e.use(fo),e.use(ho),e.use(mo),e.use(go),e.use(vo),e.use(bo),e.use(yo),e.use(wo),e.use(xo),e.use(So),e.use(_o),e.use(ko),e.use(Co),e.use(Eo),e.use(To),e.use(Po),e.use(Ro),e.use(Ao),e.use(jo),e.use(Oo),e.use(Io)}"undefined"!=typeof window&&(po=window),void 0!==r&&(po=r);function Do(e){const t=new wi(e);return t.use(Mo),t}}).call(this,n(10).Buffer,n(4))},function(e,t,n){(t=e.exports=n(35)).Stream=t,t.Readable=t,t.Writable=n(39),t.Duplex=n(12),t.Transform=n(41),t.PassThrough=n(86),t.finished=n(17),t.pipeline=n(87)},function(e,t,n){"use strict";function r(e){return function(...t){var n=t.pop();return e.call(this,t,n)}}n.d(t,"a",function(){return Y});var i="function"==typeof setImmediate&&setImmediate,o="object"==typeof process&&"function"==typeof process.nextTick;function a(e){setTimeout(e,0)}function s(e){return(t,...n)=>e(()=>t(...n))}var c=s(i?setImmediate:o?process.nextTick:a);function u(e){return p(e)?function(...t){const n=t.pop();return l(e.apply(this,t),n)}:r(function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}if(r&&"function"==typeof r.then)return l(r,n);n(null,r)})}function l(e,t){return e.then(e=>{d(t,null,e)},e=>{d(t,e&&e.message?e:new Error(e))})}function d(e,t,n){try{e(t,n)}catch(e){c(e=>{throw e},e)}}function p(e){return"AsyncFunction"===e[Symbol.toStringTag]}function f(e){if("function"!=typeof e)throw new Error("expected a function");return p(e)?u(e):e}function h(e,t=e.length){if(!t)throw new Error("arity is undefined");function n(...n){return"function"==typeof n[t-1]?e.apply(this,n):new Promise((r,i)=>{n[t-1]=((e,...t)=>{if(e)return i(e);r(t.length>1?t:t[0])}),e.apply(this,n)})}return Object.defineProperty(n,"name",{value:`awaitable(${e.name})`}),n}function m(e){return function(t,...n){return h(function(r){var i=this;return e(t,(e,t)=>{f(e).apply(i,n.concat(t))},r)})}}function g(e,t,n,r){t=t||[];var i=[],o=0,a=f(n);return e(t,(e,t,n)=>{var r=o++;a(e,(e,t)=>{i[r]=t,n(e)})},e=>{r(e,i)})}function v(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0}const b={};function y(e){function t(...t){if(null!==e){var n=e;e=null,n.apply(this,t)}}return Object.assign(t,e),t}function w(e){if(v(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t,n,r,i,o=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}(e);return o?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(o):(n=(t=e)?Object.keys(t):[],r=-1,i=n.length,function(){var e=n[++r];return r<i?{value:t[e],key:e}:null})}function x(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var n=e;e=null,n.apply(this,t)}}function S(e,t,n,r){let i=!1,o=!1,a=!1,s=0,c=0;function u(){s>=t||a||i||(a=!0,e.next().then(({value:e,done:t})=>{if(!o&&!i){if(a=!1,t)return i=!0,void(s<=0&&r(null));s++,n(e,c,l),c++,u()}}).catch(d))}function l(e,t){if(s-=1,!o)return e?d(e):!1===e?(i=!0,void(o=!0)):t===b||i&&s<=0?(i=!0,r(null)):void u()}function d(e){o||(a=!1,i=!0,r(e))}u()}var _=e=>(t,n,r)=>{if(r=y(r),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return r(null);if(function(e){return"AsyncGenerator"===e[Symbol.toStringTag]}(t))return S(t,e,n,r);if(function(e){return"function"==typeof e[Symbol.asyncIterator]}(t))return S(t[Symbol.asyncIterator](),e,n,r);var i=w(t),o=!1,a=!1,s=0,c=!1;function u(e,t){if(!a)if(s-=1,e)o=!0,r(e);else if(!1===e)o=!0,a=!0;else{if(t===b||o&&s<=0)return o=!0,r(null);c||l()}}function l(){for(c=!0;s<e&&!o;){var t=i();if(null===t)return o=!0,void(s<=0&&r(null));s+=1,n(t.value,t.key,x(u))}c=!1}l()};var k=h(function(e,t,n,r){return _(t)(e,f(n),r)},4);function C(e,t,n){n=y(n);var r=0,i=0,{length:o}=e,a=!1;function s(e,t){!1===e&&(a=!0),!0!==a&&(e?n(e):++i!==o&&t!==b||n(null))}for(0===o&&n(null);r<o;r++)t(e[r],r,x(s))}function E(e,t,n){return k(e,1/0,t,n)}var T=h(function(e,t,n){return(v(e)?C:E)(e,f(t),n)},3);var P=h(function(e,t,n){return g(T,e,t,n)},3);m(P);var R=h(function(e,t,n){return k(e,1,t,n)},3);var A=h(function(e,t,n){return g(R,e,t,n)},3);m(A);Symbol("promiseCallback");class j{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):O(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):O(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var t=this.head;t;){var{next:n}=t;e(t)&&this.removeLink(t),t=n}return this}}function O(e,t){e.length=1,e.head=e.tail=t}function I(e,t,n){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var r=f(e),i=0,o=[];const a={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function s(e,t){return e?t?void(a[e]=a[e].filter(e=>e!==t)):a[e]=[]:Object.keys(a).forEach(e=>a[e]=[])}function u(e,...t){a[e].forEach(e=>e(...t))}var l=!1;function d(e,t,n,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");var i,o;function a(e,...t){return e?n?o(e):i():t.length<=1?i(t[0]):void i(t)}v.started=!0;var s={data:e,callback:n?a:r||a};if(t?v._tasks.unshift(s):v._tasks.push(s),l||(l=!0,c(()=>{l=!1,v.process()})),n||!r)return new Promise((e,t)=>{i=e,o=t})}function p(e){return function(t,...n){i-=1;for(var r=0,a=e.length;r<a;r++){var s=e[r],c=o.indexOf(s);0===c?o.shift():c>0&&o.splice(c,1),s.callback(t,...n),null!=t&&u("error",t,s.data)}i<=v.concurrency-v.buffer&&u("unsaturated"),v.idle()&&u("drain"),v.process()}}function h(e){return!(0!==e.length||!v.idle())&&(c(()=>u("drain")),!0)}const m=e=>t=>{if(!t)return new Promise((t,n)=>{!function(e,t){const n=(...r)=>{s(e,n),t(...r)};a[e].push(n)}(e,(e,r)=>{if(e)return n(e);t(r)})});s(e),function(e,t){a[e].push(t)}(e,t)};var g=!1,v={_tasks:new j,*[Symbol.iterator](){yield*v._tasks[Symbol.iterator]()},concurrency:t,payload:n,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(h(e))return;return e.map(e=>d(e,!1,!1,t))}return d(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(h(e))return;return e.map(e=>d(e,!1,!0,t))}return d(e,!1,!0,t)},kill(){s(),v._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(h(e))return;return e.map(e=>d(e,!0,!1,t))}return d(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(h(e))return;return e.map(e=>d(e,!0,!0,t))}return d(e,!0,!0,t)},remove(e){v._tasks.remove(e)},process(){if(!g){for(g=!0;!v.paused&&i<v.concurrency&&v._tasks.length;){var e=[],t=[],n=v._tasks.length;v.payload&&(n=Math.min(n,v.payload));for(var a=0;a<n;a++){var s=v._tasks.shift();e.push(s),o.push(s),t.push(s.data)}i+=1,0===v._tasks.length&&u("empty"),i===v.concurrency&&u("saturated");var c=x(p(e));r(t,c)}g=!1}},length:()=>v._tasks.length,running:()=>i,workersList:()=>o,idle:()=>v._tasks.length+i===0,pause(){v.paused=!0},resume(){!1!==v.paused&&(v.paused=!1,c(v.process))}};return Object.defineProperties(v,{saturated:{writable:!1,value:m("saturated")},unsaturated:{writable:!1,value:m("unsaturated")},empty:{writable:!1,value:m("empty")},drain:{writable:!1,value:m("drain")},error:{writable:!1,value:m("error")}}),v}h(function(e,t,n,r){r=y(r);var i=f(n);return R(e,(e,n,r)=>{i(t,e,(e,n)=>{t=n,r(e)})},e=>r(e,t))},4);var M=h(function(e,t,n,r){return g(_(t),e,n,r)},4);var D=h(function(e,t,n,r){var i=f(n);return M(e,t,(e,t)=>{i(e,(e,...n)=>e?t(e):t(e,n))},(e,t)=>{for(var n=[],i=0;i<t.length;i++)t[i]&&(n=n.concat(...t[i]));return r(e,n)})},4);h(function(e,t,n){return D(e,1/0,t,n)},3);h(function(e,t,n){return D(e,1,t,n)},3);function N(e,t){return(n,r,i,o)=>{var a,s=!1;const c=f(i);n(r,(n,r,i)=>{c(n,(r,o)=>r||!1===r?i(r):e(o)&&!a?(s=!0,a=t(!0,n),i(null,b)):void i())},e=>{if(e)return o(e);o(null,s?a:t(!1))})}}h(function(e,t,n){return N(e=>e,(e,t)=>t)(T,e,t,n)},3);h(function(e,t,n,r){return N(e=>e,(e,t)=>t)(_(t),e,n,r)},4);h(function(e,t,n){return N(e=>e,(e,t)=>t)(_(1),e,t,n)},3);function L(e){return(t,...n)=>f(t)(...n,(t,...n)=>{"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&n.forEach(t=>console[e](t)))})}L("dir");h(function(e,t,n){n=x(n);var r,i=f(e),o=f(t);function a(e,...t){if(e)return n(e);!1!==e&&(r=t,o(...t,s))}function s(e,t){return e?n(e):!1!==e?t?void i(a):n(null,...r):void 0}return s(null,!0)},3);function F(e){return(t,n,r)=>e(t,r)}h(function(e,t,n){return T(e,F(f(t)),n)},3);var U=h(function(e,t,n,r){return _(t)(e,F(f(n)),r)},4);var B=h(function(e,t,n){return U(e,1,t,n)},3);function q(e){return p(e)?e:function(...t){var n=t.pop(),r=!0;t.push((...e)=>{r?c(()=>n(...e)):n(...e)}),e.apply(this,t),r=!1}}h(function(e,t,n){return N(e=>!e,e=>!e)(T,e,t,n)},3);h(function(e,t,n,r){return N(e=>!e,e=>!e)(_(t),e,n,r)},4);h(function(e,t,n){return N(e=>!e,e=>!e)(R,e,t,n)},3);function z(e,t,n,r){var i=new Array(t.length);e(t,(e,t,r)=>{n(e,(e,n)=>{i[t]=!!n,r(e)})},e=>{if(e)return r(e);for(var n=[],o=0;o<t.length;o++)i[o]&&n.push(t[o]);r(null,n)})}function V(e,t,n,r){var i=[];e(t,(e,t,r)=>{n(e,(n,o)=>{if(n)return r(n);o&&i.push({index:t,value:e}),r(n)})},e=>{if(e)return r(e);r(null,i.sort((e,t)=>e.index-t.index).map(e=>e.value))})}function W(e,t,n,r){return(v(t)?z:V)(e,t,f(n),r)}h(function(e,t,n){return W(T,e,t,n)},3);h(function(e,t,n,r){return W(_(t),e,n,r)},4);h(function(e,t,n){return W(R,e,t,n)},3);h(function(e,t){var n=x(t),r=f(q(e));return function e(t){if(t)return n(t);!1!==t&&r(e)}()},2);h(function(e,t,n,r){var i=f(n);return M(e,t,(e,t)=>{i(e,(n,r)=>n?t(n):t(n,{key:r,val:e}))},(e,t)=>{for(var n={},{hasOwnProperty:i}=Object.prototype,o=0;o<t.length;o++)if(t[o]){var{key:a}=t[o],{val:s}=t[o];i.call(n,a)?n[a].push(s):n[a]=[s]}return r(e,n)})},4);L("log");h(function(e,t,n,r){r=y(r);var i={},o=f(n);return _(t)(e,(e,t,n)=>{o(e,t,(e,r)=>{if(e)return n(e);i[t]=r,n(e)})},e=>r(e,i))},4);s(o?process.nextTick:i?setImmediate:a),h((e,t,n)=>{var r=v(t)?[]:{};e(t,(e,t,n)=>{f(e)((e,...i)=>{i.length<2&&([i]=i),r[t]=i,n(e)})},e=>n(e,r))},3);function H(e,t){var n=f(e);return I((e,t)=>{n(e[0],t)},t,1)}class G{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;for(;e>0&&Q(this.heap[e],this.heap[t=$(e)]);){let n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,e=t}}percDown(e){let t;for(;(t=1+(e<<1))<this.heap.length&&(t+1<this.heap.length&&Q(this.heap[t+1],this.heap[t])&&(t+=1),!Q(this.heap[e],this.heap[t]));){let n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let n=0;n<this.heap.length;n++)e(this.heap[n])||(this.heap[t]=this.heap[n],t++);this.heap.splice(t);for(let e=$(this.heap.length-1);e>=0;e--)this.percDown(e);return this}}function $(e){return(e+1>>1)-1}function Q(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}function Y(e,t){var n=H(e,t);return n._tasks=new G,n.push=function(e,t=0,r=(()=>{})){if("function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,Array.isArray(e)||(e=[e]),0===e.length&&n.idle())return c(()=>n.drain());for(var i=0,o=e.length;i<o;i++){var a={data:e[i],priority:t,callback:r};n._tasks.push(a)}c(n.process)},delete n.unshift,n}h(function(e,t){if(t=y(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)f(e[n])(t)},2);function K(e,t,n,r){const i=f(n);return W(e,t,(e,t)=>{i(e,(e,n)=>{t(e,!n)})},r)}h(function(e,t,n){return K(T,e,t,n)},3);h(function(e,t,n,r){return K(_(t),e,n,r)},4);h(function(e,t,n){return K(R,e,t,n)},3);h(function(e,t,n){return N(Boolean,e=>e)(T,e,t,n)},3);h(function(e,t,n,r){return N(Boolean,e=>e)(_(t),e,n,r)},4);h(function(e,t,n){return N(Boolean,e=>e)(R,e,t,n)},3);h(function(e,t,n){var r=f(t);return P(e,(e,t)=>{r(e,(n,r)=>{if(n)return t(n);t(n,{value:e,criteria:r})})},(e,t)=>{if(e)return n(e);n(null,t.sort(i).map(e=>e.value))});function i(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}},3);h(function(e,t){var n,r=null;return B(e,(e,t)=>{f(e)((e,...i)=>{if(!1===e)return t(e);i.length<2?[n]=i:n=i,r=e,t(e?null:{})})},()=>t(r,n))});h(function(e,t,n){n=x(n);var r=f(t),i=f(e),o=[];function a(e,...t){if(e)return n(e);o=t,!1!==e&&i(s)}function s(e,t){return e?n(e):!1!==e?t?void r(a):n(null,...o):void 0}return i(s)},3);h(function(e,t){if(t=y(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function r(t){f(e[n++])(...t,x(i))}function i(i,...o){if(!1!==i)return i||n===e.length?t(i,...o):void r(o)}r([])})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));t.default=(e=>i.default.createElement("svg",Object.assign({viewBox:"0 0 24 24",width:"1em",height:"1em"},e),i.default.createElement("path",{d:"M16.5 12A4.5 4.5 0 0 0 14 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0 0 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 0 0 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"}),i.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(s[u]=n[u]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,c=2147483647,u=36,l=1,d=26,p=38,f=700,h=72,m=128,g="-",v=/^xn--/,b=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=u-l,S=Math.floor,_=String.fromCharCode;function k(e){throw new RangeError(w[e])}function C(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function E(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+C((e=e.replace(y,".")).split("."),t).join(".")}function T(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function P(e){return C(e,function(e){var t="";return e>65535&&(t+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=_(e)}).join("")}function R(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function A(e,t,n){var r=0;for(e=n?S(e/f):e>>1,e+=S(e/t);e>x*d>>1;r+=u)e=S(e/x);return S(r+(x+1)*e/(e+p))}function j(e){var t,n,r,i,o,a,s,p,f,v,b,y=[],w=e.length,x=0,_=m,C=h;for((n=e.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&k("not-basic"),y.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<w;){for(o=x,a=1,s=u;i>=w&&k("invalid-input"),((p=(b=e.charCodeAt(i++))-48<10?b-22:b-65<26?b-65:b-97<26?b-97:u)>=u||p>S((c-x)/a))&&k("overflow"),x+=p*a,!(p<(f=s<=C?l:s>=C+d?d:s-C));s+=u)a>S(c/(v=u-f))&&k("overflow"),a*=v;C=A(x-o,t=y.length+1,0==o),S(x/t)>c-_&&k("overflow"),_+=S(x/t),x%=t,y.splice(x++,0,_)}return P(y)}function O(e){var t,n,r,i,o,a,s,p,f,v,b,y,w,x,C,E=[];for(y=(e=T(e)).length,t=m,n=0,o=h,a=0;a<y;++a)(b=e[a])<128&&E.push(_(b));for(r=i=E.length,i&&E.push(g);r<y;){for(s=c,a=0;a<y;++a)(b=e[a])>=t&&b<s&&(s=b);for(s-t>S((c-n)/(w=r+1))&&k("overflow"),n+=(s-t)*w,t=s,a=0;a<y;++a)if((b=e[a])<t&&++n>c&&k("overflow"),b==t){for(p=n,f=u;!(p<(v=f<=o?l:f>=o+d?d:f-o));f+=u)C=p-v,x=u-v,E.push(_(R(v+C%x,0))),p=S(C/x);E.push(_(R(p,0))),o=A(n,w,r==i),n=0,++r}++n,++t}return E.join("")}s={version:"1.4.1",ucs2:{decode:T,encode:P},decode:j,encode:O,toASCII:function(e){return E(e,function(e){return b.test(e)?"xn--"+O(e):e})},toUnicode:function(e){return E(e,function(e){return v.test(e)?j(e.slice(4).toLowerCase()):e})}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(29)(e),n(4))},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";var r=n(34),i=r.escapeXML,o=r.escapeXMLText,a=n(74),s=a.equal,c=a.name,u=a.attrs,l=a.children,d=n(75);function p(e,t){this.name=e,this.parent=null,this.children=[],this.attrs={},this.setAttrs(t)}p.prototype.is=function(e,t){return this.getName()===e&&(!t||this.getNS()===t)},p.prototype.getName=function(){return this.name.indexOf(":")>=0?this.name.substr(this.name.indexOf(":")+1):this.name},p.prototype.getNS=function(){if(this.name.indexOf(":")>=0){var e=this.name.substr(0,this.name.indexOf(":"));return this.findNS(e)}return this.findNS()},p.prototype.findNS=function(e){if(e){var t="xmlns:"+e;if(this.attrs[t])return this.attrs[t];if(this.parent)return this.parent.findNS(e)}else{if(this.attrs.xmlns)return this.attrs.xmlns;if(this.parent)return this.parent.findNS()}},p.prototype.getXmlns=function(){var e={};for(var t in this.parent&&(e=this.parent.getXmlns()),this.attrs){var n=t.match("xmlns:?(.*)");this.attrs.hasOwnProperty(t)&&n&&(e[this.attrs[t]]=n[1])}return e},p.prototype.setAttrs=function(e){"string"==typeof e?this.attrs.xmlns=e:e&&Object.keys(e).forEach(function(t){this.attrs[t]=e[t]},this)},p.prototype.getAttr=function(e,t){if(!t)return this.attrs[e];var n=this.getXmlns();return n[t]?this.attrs[[n[t],e].join(":")]:null},p.prototype.getChild=function(e,t){return this.getChildren(e,t)[0]},p.prototype.getChildren=function(e,t){for(var n=[],r=0;r<this.children.length;r++){var i=this.children[r];!i.getName||i.getName()!==e||t&&i.getNS()!==t||n.push(i)}return n},p.prototype.getChildByAttr=function(e,t,n,r){return this.getChildrenByAttr(e,t,n,r)[0]},p.prototype.getChildrenByAttr=function(e,t,n,r){for(var i=[],o=0;o<this.children.length;o++){var a=this.children[o];!a.attrs||a.attrs[e]!==t||n&&a.getNS()!==n||i.push(a),r&&a.getChildrenByAttr&&i.push(a.getChildrenByAttr(e,t,n,!0))}return r&&(i=[].concat.apply([],i)),i},p.prototype.getChildrenByFilter=function(e,t){for(var n=[],r=0;r<this.children.length;r++){var i=this.children[r];e(i)&&n.push(i),t&&i.getChildrenByFilter&&n.push(i.getChildrenByFilter(e,!0))}return t&&(n=[].concat.apply([],n)),n},p.prototype.getText=function(){for(var e="",t=0;t<this.children.length;t++){var n=this.children[t];"string"!=typeof n&&"number"!=typeof n||(e+=n)}return e},p.prototype.getChildText=function(e,t){var n=this.getChild(e,t);return n?n.getText():null},p.prototype.getChildElements=function(){return this.getChildrenByFilter(function(e){return e instanceof p})},p.prototype.root=function(){return this.parent?this.parent.root():this},p.prototype.tree=p.prototype.root,p.prototype.up=function(){return this.parent?this.parent:this},p.prototype.c=function(e,t){return this.cnode(new p(e,t))},p.prototype.cnode=function(e){return this.children.push(e),"object"==typeof e&&(e.parent=this),e},p.prototype.t=function(e){return this.children.push(e),this},p.prototype.remove=function(e,t){var n;return n="string"==typeof e?function(n){return!(n.is&&n.is(e,t))}:function(t){return t!==e},this.children=this.children.filter(n),this},p.prototype.clone=function(){return d(this)},p.prototype.text=function(e){return e&&1===this.children.length?(this.children[0]=e,this):this.getText()},p.prototype.attr=function(e,t){return void 0!==t||null===t?(this.attrs||(this.attrs={}),this.attrs[e]=t,this):this.attrs[e]},p.prototype.toString=function(){var e="";return this.write(function(t){e+=t}),e},p.prototype.toJSON=function(){return{name:this.name,attrs:this.attrs,children:this.children.map(function(e){return e&&e.toJSON?e.toJSON():e})}},p.prototype._addChildren=function(e){e(">");for(var t=0;t<this.children.length;t++){var n=this.children[t];(n||0===n)&&(n.write?n.write(e):"string"==typeof n?e(o(n)):n.toString&&e(o(n.toString(10))))}e("</"),e(this.name),e(">")},p.prototype.write=function(e){for(var t in e("<"),e(this.name),this.attrs){var n=this.attrs[t];null!=n&&(e(" "),e(t),e('="'),"string"!=typeof n&&(n=n.toString()),e(i(n)),e('"'))}0===this.children.length?e("/>"):this._addChildren(e)},p.prototype.nameEquals=function(e){return c(this,e)},p.prototype.attrsEquals=function(e){return u(this,e)},p.prototype.childrenEquals=function(e){return l(this,e)},p.prototype.equals=function(e){return s(this,e)},e.exports=p},function(e,t,n){"use strict";var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};function i(e){return r[e]}var o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'"};function a(e){if("#"===e[1]){var t;if(9===(t="x"===e[2]?parseInt(e.slice(3),16):parseInt(e.slice(2),10))||10===t||13===t||t>=32&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111)return String.fromCodePoint(t);throw new Error("Illegal XML character 0x"+t.toString(16))}if(o[e])return o[e]||e;throw new Error("Illegal XML entity "+e)}t.escapeXML=function(e){return e.replace(/&|<|>|"|'/g,i)},t.unescapeXML=function(e){for(var t="",n=-1,r=-1,i=0;-1!==(n=e.indexOf("&",i))&&-1!==(r=e.indexOf(";",n+1));)t=t+e.substring(i,n)+a(e.substring(n,r+1)),i=r+1;return 0===i?e:t+=e.substring(i)},t.escapeXMLText=function(e){return e.replace(/&|<|>/g,i)},t.unescapeXMLText=function(e){return e.replace(/&(amp|#38|lt|#60|gt|#62);/g,a)}},function(e,t,n){"use strict";(function(t,r){var i;e.exports=k,k.ReadableState=_;n(6).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=n(36),s=n(10).Buffer,c=t.Uint8Array||function(){};var u,l=n(79);u=l&&l.debuglog?l.debuglog("stream"):function(){};var d,p,f=n(80),h=n(37),m=n(38).getHighWaterMark,g=n(11).codes,v=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,y=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,x=n(82).emitExperimentalWarning;n(8)(k,a);var S=["error","close","destroy","pause","resume"];function _(e,t,r){i=i||n(12),e=e||{},"boolean"!=typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",r),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(40).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function k(e){if(i=i||n(12),!(this instanceof k))return new k(e);var t=this instanceof i;this._readableState=new _(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function C(e,t,n,r,i){u("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,a);else if(i||(o=function(e,t){var n;r=t,s.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(a,t)),o)e.emit("error",o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r)a.endEmitted?e.emit("error",new w):E(e,a,t,!0);else if(a.ended)e.emit("error",new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?E(e,a,t,!1):j(e,a)):E(e,a,t,!1)}else r||(a.reading=!1,j(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&R(e)),j(e,t)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=h.destroy,k.prototype._undestroy=h.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),C(this,e,t,!1,n)},k.prototype.unshift=function(e){return C(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){return d||(d=n(40).StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=this._readableState.decoder.encoding,this};var T=8388608;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function R(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(A,e))}function A(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,N(e)}function j(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function I(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){u("readable nexttick read 0"),e.read(0)}function D(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function F(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(U,t,e))}function U(e,t){u("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function B(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}k.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):R(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&F(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(n,t))),null===(r=e>0?L(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&F(this)),null!==r&&this.emit("data",r),r},k.prototype._read=function(e){this.emit("error",new y("_read()"))},k.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,u("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:g;function s(t,r){u("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),e.removeListener("close",h),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",s),n.removeListener("end",c),n.removeListener("end",g),n.removeListener("data",p),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,N(e))}}(n);e.on("drain",l);var d=!1;function p(t){u("ondata");var r=e.write(t);u("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==B(i.pipes,e))&&!d&&(u("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function f(t){u("onerror",t),g(),e.removeListener("error",f),0===o(e,"error")&&e.emit("error",t)}function h(){e.removeListener("finish",m),g()}function m(){u("onfinish"),e.removeListener("close",h),g()}function g(){u("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",h),e.once("finish",m),e.emit("pipe",n),i.flowing||(u("pipe resume"),n.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=B(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},k.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?R(this):i.reading||r.nextTick(M,this))),n},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(I,this),n},k.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(I,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}(this,e)),e.paused=!1,this},k.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<S.length;o++)e.on(S[o],this.emit.bind(this,S[o]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return x("Readable[Symbol.asyncIterator]"),void 0===p&&(p=n(85)),p(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=L,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})}).call(this,n(4),n(5))},function(e,t,n){e.exports=n(6).EventEmitter},function(e,t,n){"use strict";(function(t){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(o?o(e):!e||this._writableState&&this._writableState.errorEmitted||t.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!o&&e?(t.nextTick(n,a,e),a._writableState&&(a._writableState.errorEmitted=!0)):o?(t.nextTick(r,a),o(e)):t.nextTick(r,a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}}).call(this,n(5))},function(e,t,n){"use strict";var r=n(11).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";(function(t,r){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var o;e.exports=k,k.WritableState=_;var a={deprecate:n(83)},s=n(36),c=n(10).Buffer,u=t.Uint8Array||function(){};var l,d=n(37),p=n(38).getHighWaterMark,f=n(11).codes,h=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,v=f.ERR_STREAM_CANNOT_PIPE,b=f.ERR_STREAM_DESTROYED,y=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,x=f.ERR_UNKNOWN_ENCODING;function S(){}function _(e,t,a){o=o||n(12),e=e||{},"boolean"!=typeof a&&(a=t instanceof o),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(A,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),A(e,t))}(e,n,i,t,o);else{var a=P(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||T(e,n),i?r.nextTick(E,e,n,a,o):E(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function k(e){var t=this instanceof(o=o||n(12));if(!t&&!l.call(k,this))return new k(e);this._writableState=new _(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function C(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),A(e,t)}function T(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)o[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;o.allBuffers=c,C(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,d=n.callback;if(C(e,t,!1,t.objectMode?1:u.length,u,l,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),A(e,t)})}function A(e,t){var n=P(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}n(8)(k,s),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===k&&(e&&e._writableState instanceof _)}})):l=function(e){return e instanceof this},k.prototype.pipe=function(){this.emit("error",new v)},k.prototype.write=function(e,t,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=e,c.isBuffer(i)||i instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=S),o.ending?function(e,t){var n=new w;e.emit("error",n),r.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var o;return null===n?o=new y:"string"==typeof n||t.objectMode||(o=new h("chunk",["string","Buffer"],n)),!o||(e.emit("error",o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else C(e,t,!1,s,r,i,o);return u}(this,o,s,e,t,n)),a},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new x(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,n){n(new m("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,A(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=d.destroy,k.prototype._undestroy=d.undestroy,k.prototype._destroy=function(e,t){t(e)}}).call(this,n(4),n(5))},function(e,t,n){"use strict";var r=n(84).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=p,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=l;var r=n(11).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(12);function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush(function(t,n){p(e,t,n)})}function p(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(8)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,function(e){t(e)})}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t,n){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,c,u,l,d){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}}()},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));t.default=(e=>i.default.createElement("svg",Object.assign({viewBox:"0 0 24 24",width:"1em",height:"1em"},e),i.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),i.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));t.default=(e=>i.default.createElement("svg",Object.assign({viewBox:"0 0 24 24",width:"1em",height:"1em"},e),i.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),i.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})))},function(e,t,n){"use strict";var r=n(3);function i(e,t,n,i,o){var a=r.writeRtpDescription(e.kind,t);if(a+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var c="msid:"+(i?i.id:"-")+" "+s+"\r\n";a+="a="+c,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),a}function o(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var o=r(e.parameters.apt,n),a=r(t.parameters.apt,i);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach(function(r){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(r.name.toLowerCase()===a.name.toLowerCase()&&r.clockRate===a.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&a.parameters.apt&&!i(r,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(r.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter(function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}}),n}function a(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function s(e,t){var n=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return n||e.addRemoteCandidate(t),!n}function c(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}e.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,e.setTimeout(function(){t._dispatchEvent("track",o)})}var l=function(n){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){i[e]=o[e].bind(o)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof r;return i&&(r=[r]),r=r.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)}),delete e.url,e.urls=i?r[0]:r,!!r.length}})}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var a=n.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(l.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(l.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),l.prototype.onicecandidate=null,l.prototype.onaddstream=null,l.prototype.ontrack=null,l.prototype.onremovestream=null,l.prototype.onsignalingstatechange=null,l.prototype.oniceconnectionstatechange=null,l.prototype.onconnectionstatechange=null,l.prototype.onicegatheringstatechange=null,l.prototype.onnegotiationneeded=null,l.prototype.ondatachannel=null,l.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},l.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},l.prototype.getConfiguration=function(){return this._config},l.prototype.getLocalStreams=function(){return this.localStreams},l.prototype.getRemoteStreams=function(){return this.remoteStreams},l.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},l.prototype.addTrack=function(t,n){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find(function(e){return e.track===t}))throw c("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},l.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach(function(t){n.addTrack(t,e)});else{var r=e.clone();e.getTracks().forEach(function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",function(e){n.enabled=e.enabled})}),r.getTracks().forEach(function(e){n.addTrack(e,r)})}},l.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find(function(e){return e.rtpSender===t});if(!n)throw c("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},l.prototype.removeStream=function(e){var t=this;e.getTracks().forEach(function(e){var n=t.getSenders().find(function(t){return t.track===e});n&&t.removeTrack(n)})},l.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},l.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},l.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},l.prototype._gather=function(t,n){var i=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var a=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(e){if(!(i.usingBundle&&n>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:n};var s=e.candidate,c=!s||0===Object.keys(s).length;if(c)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),s.component=1,s.ufrag=o.getLocalParameters().usernameFragment;var u=r.writeCandidate(s);a.candidate=Object.assign(a.candidate,r.parseCandidate(u)),a.candidate.candidate=u,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var l=r.getMediaSections(i._localDescription.sdp);l[a.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",i._localDescription.sdp=r.getDescription(i._localDescription.sdp)+l.join("");var d=i.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),c||i._dispatchEvent("icecandidate",a),d&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout(function(){a.forEach(function(e){o.onlocalcandidate(e)})},0)}},l.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},l.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},l.prototype._transceive=function(e,n,i){var a=o(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),i&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},l.prototype.setLocalDescription=function(e){var t,n,i=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(c("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,i.signalingState)||i._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=r.splitSections(e.sdp),n=t.shift(),t.forEach(function(e,t){var n=r.parseRtpParameters(e);i.transceivers[t].localCapabilities=n}),i.transceivers.forEach(function(e,t){i._gather(e.mid,t)});else if("answer"===e.type){t=r.splitSections(i._remoteDescription.sdp),n=t.shift();var s=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach(function(e,t){var a=i.transceivers[t],c=a.iceGatherer,u=a.iceTransport,l=a.dtlsTransport,d=a.localCapabilities,p=a.remoteCapabilities;if(!(r.isRejected(e)&&0===r.matchPrefix(e,"a=bundle-only").length)&&!a.rejected){var f=r.getIceParameters(e,n),h=r.getDtlsParameters(e,n);s&&(h.role="server"),i.usingBundle&&0!==t||(i._gather(a.mid,t),"new"===u.state&&u.start(c,f,s?"controlling":"controlled"),"new"===l.state&&l.start(h));var m=o(d,p);i._transceive(a,m.codecs.length>0,!1)}})}return i._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),Promise.resolve()},l.prototype.setRemoteDescription=function(i){var l=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(c("TypeError",'Unsupported type "'+i.type+'"'));if(!a("setRemoteDescription",i.type,l.signalingState)||l._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+i.type+" in state "+l.signalingState));var d={};l.remoteStreams.forEach(function(e){d[e.id]=e});var p=[],f=r.splitSections(i.sdp),h=f.shift(),m=r.matchPrefix(h,"a=ice-lite").length>0,g=r.matchPrefix(h,"a=group:BUNDLE ").length>0;l.usingBundle=g;var v=r.matchPrefix(h,"a=ice-options:")[0];return l.canTrickleIceCandidates=!!v&&v.substr(14).split(" ").indexOf("trickle")>=0,f.forEach(function(a,c){var u=r.splitLines(a),f=r.getKind(a),v=r.isRejected(a)&&0===r.matchPrefix(a,"a=bundle-only").length,b=u[0].substr(2).split(" ")[2],y=r.getDirection(a,h),w=r.parseMsid(a),x=r.getMid(a)||r.generateIdentifier();if(v||"application"===f&&("DTLS/SCTP"===b||"UDP/DTLS/SCTP"===b))l.transceivers[c]={mid:x,kind:f,protocol:b,rejected:!0};else{var S,_,k,C,E,T,P,R,A;!v&&l.transceivers[c]&&l.transceivers[c].rejected&&(l.transceivers[c]=l._createTransceiver(f,!0));var j,O,I=r.parseRtpParameters(a);v||(j=r.getIceParameters(a,h),(O=r.getDtlsParameters(a,h)).role="client"),P=r.parseRtpEncodingParameters(a);var M=r.parseRtcpParameters(a),D=r.matchPrefix(a,"a=end-of-candidates",h).length>0,N=r.matchPrefix(a,"a=candidate:").map(function(e){return r.parseCandidate(e)}).filter(function(e){return 1===e.component});if(("offer"===i.type||"answer"===i.type)&&!v&&g&&c>0&&l.transceivers[c]&&(l._disposeIceAndDtlsTransports(c),l.transceivers[c].iceGatherer=l.transceivers[0].iceGatherer,l.transceivers[c].iceTransport=l.transceivers[0].iceTransport,l.transceivers[c].dtlsTransport=l.transceivers[0].dtlsTransport,l.transceivers[c].rtpSender&&l.transceivers[c].rtpSender.setTransport(l.transceivers[0].dtlsTransport),l.transceivers[c].rtpReceiver&&l.transceivers[c].rtpReceiver.setTransport(l.transceivers[0].dtlsTransport)),"offer"!==i.type||v){if("answer"===i.type&&!v){_=(S=l.transceivers[c]).iceGatherer,k=S.iceTransport,C=S.dtlsTransport,E=S.rtpReceiver,T=S.sendEncodingParameters,R=S.localCapabilities,l.transceivers[c].recvEncodingParameters=P,l.transceivers[c].remoteCapabilities=I,l.transceivers[c].rtcpParameters=M,N.length&&"new"===k.state&&(!m&&!D||g&&0!==c?N.forEach(function(e){s(S.iceTransport,e)}):k.setRemoteCandidates(N)),g&&0!==c||("new"===k.state&&k.start(_,j,"controlling"),"new"===C.state&&C.start(O)),!o(S.localCapabilities,S.remoteCapabilities).codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&S.sendEncodingParameters[0].rtx&&delete S.sendEncodingParameters[0].rtx,l._transceive(S,"sendrecv"===y||"recvonly"===y,"sendrecv"===y||"sendonly"===y),!E||"sendrecv"!==y&&"sendonly"!==y?delete S.rtpReceiver:(A=E.track,w?(d[w.stream]||(d[w.stream]=new e.MediaStream),n(A,d[w.stream]),p.push([A,E,d[w.stream]])):(d.default||(d.default=new e.MediaStream),n(A,d.default),p.push([A,E,d.default])))}}else{(S=l.transceivers[c]||l._createTransceiver(f)).mid=x,S.iceGatherer||(S.iceGatherer=l._createIceGatherer(c,g)),N.length&&"new"===S.iceTransport.state&&(!D||g&&0!==c?N.forEach(function(e){s(S.iceTransport,e)}):S.iceTransport.setRemoteCandidates(N)),R=e.RTCRtpReceiver.getCapabilities(f),t<15019&&(R.codecs=R.codecs.filter(function(e){return"rtx"!==e.name})),T=S.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var L,F=!1;if("sendrecv"===y||"sendonly"===y){if(F=!S.rtpReceiver,E=S.rtpReceiver||new e.RTCRtpReceiver(S.dtlsTransport,f),F)A=E.track,w&&"-"===w.stream||(w?(d[w.stream]||(d[w.stream]=new e.MediaStream,Object.defineProperty(d[w.stream],"id",{get:function(){return w.stream}})),Object.defineProperty(A,"id",{get:function(){return w.track}}),L=d[w.stream]):(d.default||(d.default=new e.MediaStream),L=d.default)),L&&(n(A,L),S.associatedRemoteMediaStreams.push(L)),p.push([A,E,L])}else S.rtpReceiver&&S.rtpReceiver.track&&(S.associatedRemoteMediaStreams.forEach(function(t){var n,r,i=t.getTracks().find(function(e){return e.id===S.rtpReceiver.track.id});i&&(n=i,(r=t).removeTrack(n),r.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:n})))}),S.associatedRemoteMediaStreams=[]);S.localCapabilities=R,S.remoteCapabilities=I,S.rtpReceiver=E,S.rtcpParameters=M,S.sendEncodingParameters=T,S.recvEncodingParameters=P,l._transceive(l.transceivers[c],!1,F)}}}),void 0===l._dtlsRole&&(l._dtlsRole="offer"===i.type?"active":"passive"),l._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?l._updateSignalingState("have-remote-offer"):l._updateSignalingState("stable"),Object.keys(d).forEach(function(t){var n=d[t];if(n.getTracks().length){if(-1===l.remoteStreams.indexOf(n)){l.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout(function(){l._dispatchEvent("addstream",r)})}p.forEach(function(e){var t=e[0],r=e[1];n.id===e[2].id&&u(l,t,r,[n])})}}),p.forEach(function(e){e[2]||u(l,e[0],e[1],[])}),e.setTimeout(function(){l&&l.transceivers&&l.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},l.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},l.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},l.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout(function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}},0))},l.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++}),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},l.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},l.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var o=n.transceivers.filter(function(e){return"audio"===e.kind}).length,a=n.transceivers.filter(function(e){return"video"===e.kind}).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(o=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(a=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(n.transceivers.forEach(function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)});o>0||a>0;)o>0&&(n._createTransceiver("audio"),o--),a>0&&(n._createTransceiver("video"),a--);var u=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach(function(i,o){var a=i.track,s=i.kind,c=i.mid||r.generateIdentifier();i.mid=c,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(o,n.usingBundle));var u=e.RTCRtpSender.getCapabilities(s);t<15019&&(u.codecs=u.codecs.filter(function(e){return"rtx"!==e.name})),u.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach(function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)})}),u.headerExtensions.forEach(function(e){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach(function(t){e.uri===t.uri&&(e.id=t.id)})});var l=i.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];a&&t>=15019&&"video"===s&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,s)),i.localCapabilities=u,i.sendEncodingParameters=l}),"max-compat"!==n._config.bundlePolicy&&(u+="a=group:BUNDLE "+n.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",n.transceivers.forEach(function(e,t){u+=i(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),u+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach(function(e){e.component=1,u+="a="+r.writeCandidate(e)+"\r\n"}),"completed"===e.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))});var l=new e.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(l)},l.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var a=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(a+="a=group:BUNDLE "+n.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n";var s=r.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach(function(e,r){if(!(r+1>s)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?a+="m=application 0 DTLS/SCTP 5000\r\n":a+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;if(e.stream)"audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var u=o(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=i(e,u,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}});var u=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(u)},l.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(i,o){if(!n._remoteDescription)return o(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var u=0;u<n.transceivers.length;u++)if(n.transceivers[u].mid===e.sdpMid){a=u;break}var l=n.transceivers[a];if(!l)return o(c("OperationError","Can not add ICE candidate"));if(l.rejected)return i();var d=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===d.protocol&&(0===d.port||9===d.port))return i();if(d.component&&1!==d.component)return i();if((0===a||a>0&&l.iceTransport!==n.transceivers[0].iceTransport)&&!s(l.iceTransport,d))return o(c("OperationError","Can not add ICE candidate"));var p=e.candidate.trim();0===p.indexOf("a=")&&(p=p.substr(2)),(t=r.getMediaSections(n._remoteDescription.sdp))[a]+="a="+(d.type?p:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var f=0;f<n.transceivers.length&&(n.transceivers[f].rejected||(n.transceivers[f].iceTransport.addRemoteCandidate({}),(t=r.getMediaSections(n._remoteDescription.sdp))[f]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));f++);i()})},l.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach(function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)}),!n)throw c("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(t){e[t]&&r.push(e[t].getStats())})}),Promise.all(r).then(function(e){var t=new Map;return e.forEach(function(e){e.forEach(function(e){t.set(e.id,e)})}),t})};["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then(function(e){var t=new Map;return Object.keys(e).forEach(function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])}),t})}}});var d=["createOffer","createAnswer"];return d.forEach(function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then(function(t){"function"==typeof e[0]&&e[0].apply(null,[t])},function(t){"function"==typeof e[1]&&e[1].apply(null,[t])}):t.apply(this,arguments)}}),(d=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)},function(t){"function"==typeof e[2]&&e[2].apply(null,[t])}):t.apply(this,arguments)}}),["getStats"].forEach(function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)}):t.apply(this,arguments)}}),l}},function(e,t,n){var r=n(66),i=n(67),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=r.__importStar(n(71)),o=r.__importStar(n(16)),a=r.__importDefault(n(78));class s{constructor(){this._LOOKUP={},this._LOOKUP_EXT={},this._TAGS={},this._CB_DEFINITION={},this._CB_TAG={},this._ID=Symbol("JXT"),this.utils=Object.assign({},i,o)}use(e){return e&&"function"==typeof e?(e[this._ID]||(e(this),e[this._ID]=!0),this):this}getDefinition(e,t,n){const r=this._LOOKUP[t+"|"+e];if(n&&!r)throw new Error("Could not find definition for <"+e+' xmlns="'+t+'" />');return r}getExtensions(e,t){return this._LOOKUP_EXT[t+"|"+e]||{}}withDefinition(e,t,n){const r=t+"|"+e;this._CB_DEFINITION[r]||(this._CB_DEFINITION[r]=[]),this._CB_DEFINITION[r].push(n),this._LOOKUP[r]&&n(this._LOOKUP[r])}withTag(e,t){this._CB_TAG[e]||(this._CB_TAG[e]=[]),this._CB_TAG[e].push(t),this.tagged(e).forEach(function(e){t(e)})}tagged(e){return this._TAGS[e]||[]}build(e){const t=this.getDefinition(e.localName,e.namespaceURI);if(t)return new t(null,e)}parse(e){const t=o.parse(e);if(t)return this.build(t)}extend(e,t,n,r){const o=e.prototype._NS+"|"+e.prototype._EL,a=t.prototype._name,s=t.prototype._NS+"|"+t.prototype._EL;this._LOOKUP[s]=t,this._LOOKUP_EXT[s]||(this._LOOKUP_EXT[s]={}),this._LOOKUP_EXT[o]||(this._LOOKUP_EXT[o]={}),this._LOOKUP_EXT[o][a]=t,(!n||n&&!r)&&this.add(e,a,i.extension(t)),n&&this.add(e,n,i.multiExtension(t))}add(e,t,n){n.enumerable=!0,Object.defineProperty(e.prototype,t,n)}define(e){const t=this,n=a.default(this,e),r=n.prototype._NS,i=n.prototype._EL,o=n.prototype._TAGS,s=r+"|"+i;return this._LOOKUP[s]=n,o.forEach(function(e){t._TAGS[e]||(t._TAGS[e]=[]),t._TAGS[e].push(n)}),Object.keys(e.fields||{}).forEach(function(r){t.add(n,r,e.fields[r])}),this._CB_DEFINITION[s]&&this._CB_DEFINITION[s].forEach(function(e){e(n)}),o.forEach(function(e){t._CB_TAG[e]&&t._CB_TAG[e].forEach(function(e){e(n)})}),n}static createRegistry(){return new s}}Object.assign(s,o),Object.assign(s,i),t.createRegistry=function(){return new s},t.default=s},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));t.default=(e=>i.default.createElement("svg",Object.assign({viewBox:"0 0 24 24",width:"1em",height:"1em"},e),i.default.createElement("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"}),i.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(0));t.default=(e=>i.default.createElement("svg",Object.assign({viewBox:"0 0 24 24",width:"1em",height:"1em"},e),i.default.createElement("path",{d:"M0 0h24v24H0zm0 0h24v24H0z",fill:"none"}),i.default.createElement("path",{d:"M21 6.5l-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z"})))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(4))},function(e,t,n){"use strict";function r(e){return Object.prototype.toString.call(e).slice(8,-1)}function i(e){return"Object"===r(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function o(e){return"Array"===r(e)}t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=null,a=e;return i(e)&&e.extensions&&1===Object.keys(e).length&&(a={},r=e.extensions),t.reduce(function(e,t){return function e(t,n,r){if(!i(n))return r&&o(r)&&r.forEach(function(e){n=e(t,n)}),n;var a=i(t)?Object.keys(t).reduce(function(e,r){var i=t[r];return Object.keys(n).includes(r)||(e[r]=i),e},{}):{};return Object.keys(n).reduce(function(a,s){var c=n[s],u=i(t)?t[s]:void 0;return r&&o(r)&&r.forEach(function(e){c=e(u,c)}),void 0===u?(a[s]=c,a):i(c)?(a[s]=e(u,c,r),a):(a[s]=c,a)},a)}(e,t,r)},a)}},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});t.a=i},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(28),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],u=0;(e=Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function x(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||y}function S(){}function _(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||y}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&b("85"),this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=x.prototype;var k=_.prototype=new S;k.constructor=_,r(k,x.prototype),k.isPureReactComponent=!0;var C={current:null},E={current:null},T=Object.prototype.hasOwnProperty,P={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,n){var r=void 0,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)T.call(t,r)&&!P.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:E.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var j=/\/+/g,O=[];function I(e,t,n,r){if(O.length){var i=O.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function D(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var c=!1;if(null===t)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case o:case a:c=!0}}if(c)return r(i,t,""===n?"."+N(t,0):n),1;if(c=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var l=n+N(s=t[u],u);c+=e(s,l,r,i)}else if(l=null===t||"object"!=typeof t?null:"function"==typeof(l=v&&t[v]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),u=0;!(s=t.next()).done;)c+=e(s=s.value,l=n+N(s,u++),r,i);else"object"===s&&b("31","[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return c}(e,"",t,n)}function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,r,n,function(e){return e}):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(j,"$&/")+"/")+n)),r.push(e))}function U(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(j,"$&/")+"/"),D(e,F,t=I(t,o,r,i)),M(t)}function B(){var e=C.current;return null===e&&b("321"),e}var q={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return U(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,L,t=I(null,null,t,n)),M(t)},count:function(e){return D(e,function(){return null},null)},toArray:function(e){var t=[];return U(e,t,null,function(e){return e}),t},only:function(e){return A(e)||b("143"),e}},createRef:function(){return{current:null}},Component:x,PureComponent:_,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:f,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return B().useCallback(e,t)},useContext:function(e,t){return B().useContext(e,t)},useEffect:function(e,t){return B().useEffect(e,t)},useImperativeHandle:function(e,t,n){return B().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return B().useLayoutEffect(e,t)},useMemo:function(e,t){return B().useMemo(e,t)},useReducer:function(e,t,n){return B().useReducer(e,t,n)},useRef:function(e){return B().useRef(e)},useState:function(e){return B().useState(e)},Fragment:s,StrictMode:c,Suspense:h,createElement:R,cloneElement:function(e,t,n){null==e&&b("267",e);var i=void 0,a=r({},e.props),s=e.key,c=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,u=E.current),void 0!==t.key&&(s=""+t.key);var l=void 0;for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)T.call(t,i)&&!P.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==l?l[i]:t[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){l=Array(i);for(var d=0;d<i;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:o,type:e.type,key:s,ref:c,props:a,_owner:u}},createFactory:function(e){var t=R.bind(null,e);return t.type=e,t},isValidElement:A,version:"16.8.6",unstable_ConcurrentMode:p,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:C,ReactCurrentOwner:E,assign:r}},z={default:q},V=z&&q||z;e.exports=V.default||V},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(28),o=n(57);function a(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],u=0;(e=Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||a("227");var s=!1,c=null,u=!1,l=null,d={onError:function(e){s=!0,c=e}};function p(e,t,n,r,i,o,a,u,l){s=!1,c=null,function(e,t,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(d,arguments)}var f=null,h={};function m(){if(f)for(var e in h){var t=h[e],n=f.indexOf(e);if(-1<n||a("96",e),!v[n])for(var r in t.extractEvents||a("97",e),v[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,c=r;b.hasOwnProperty(c)&&a("99",c),b[c]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&g(u[i],s,c);i=!0}else o.registrationName?(g(o.registrationName,s,c),i=!0):i=!1;i||a("98",r,e)}}}function g(e,t,n){y[e]&&a("100",e),y[e]=t,w[e]=t.eventTypes[n].dependencies}var v=[],b={},y={},w={},x=null,S=null,_=null;function k(e,t,n){var r=e.type||"unknown-event";e.currentTarget=_(n),function(e,t,n,r,i,o,d,f,h){if(p.apply(this,arguments),s){if(s){var m=c;s=!1,c=null}else a("198"),m=void 0;u||(u=!0,l=m)}}(r,t,void 0,e),e.currentTarget=null}function C(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function E(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var T=null;function P(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)k(e,t[r],n[r]);else t&&k(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var R={injectEventPluginOrder:function(e){f&&a("101"),f=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];h.hasOwnProperty(t)&&h[t]===r||(h[t]&&a("102",t),h[t]=r,n=!0)}n&&m()}};function A(e,t){var n=e.stateNode;if(!n)return null;var r=x(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&a("231",t,typeof n),n)}function j(e){if(null!==e&&(T=C(T,e)),e=T,T=null,e&&(E(e,P),T&&a("95"),u))throw e=l,u=!1,l=null,e}var O=Math.random().toString(36).slice(2),I="__reactInternalInstance$"+O,M="__reactEventHandlers$"+O;function D(e){if(e[I])return e[I];for(;!e[I];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[I]).tag||6===e.tag?e:null}function N(e){return!(e=e[I])||5!==e.tag&&6!==e.tag?null:e}function L(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function F(e){return e[M]||null}function U(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function B(e,t,n){(t=A(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function q(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=U(t);for(t=n.length;0<t--;)B(n[t],"captured",e);for(t=0;t<n.length;t++)B(n[t],"bubbled",e)}}function z(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=A(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function V(e){e&&e.dispatchConfig.registrationName&&z(e._targetInst,null,e)}function W(e){E(e,q)}var H=!("undefined"==typeof window||!window.document||!window.document.createElement);function G(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $={animationend:G("Animation","AnimationEnd"),animationiteration:G("Animation","AnimationIteration"),animationstart:G("Animation","AnimationStart"),transitionend:G("Transition","TransitionEnd")},Q={},Y={};function K(e){if(Q[e])return Q[e];if(!$[e])return e;var t,n=$[e];for(t in n)if(n.hasOwnProperty(t)&&t in Y)return Q[e]=n[t];return e}H&&(Y=document.createElement("div").style,"AnimationEvent"in window||(delete $.animationend.animation,delete $.animationiteration.animation,delete $.animationstart.animation),"TransitionEvent"in window||delete $.transitionend.transition);var J=K("animationend"),X=K("animationiteration"),Z=K("animationstart"),ee=K("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,ie=null;function oe(){if(ie)return ie;var e,t,n=re,r=n.length,i="value"in ne?ne.value:ne.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ie=i.slice(e,1<t?1-t:void 0)}function ae(){return!0}function se(){return!1}function ce(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ae:se,this.isPropagationStopped=se,this}function ue(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function le(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=ue,e.release=le}i(ce.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),ce.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ce.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,de(n),n},de(ce);var pe=ce.extend({data:null}),fe=ce.extend({data:null}),he=[9,13,27,32],me=H&&"CompositionEvent"in window,ge=null;H&&"documentMode"in document&&(ge=document.documentMode);var ve=H&&"TextEvent"in window&&!ge,be=H&&(!me||ge&&8<ge&&11>=ge),ye=String.fromCharCode(32),we={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},xe=!1;function Se(e,t){switch(e){case"keyup":return-1!==he.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function _e(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ke=!1;var Ce={eventTypes:we,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(me)e:{switch(e){case"compositionstart":i=we.compositionStart;break e;case"compositionend":i=we.compositionEnd;break e;case"compositionupdate":i=we.compositionUpdate;break e}i=void 0}else ke?Se(e,n)&&(i=we.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=we.compositionStart);return i?(be&&"ko"!==n.locale&&(ke||i!==we.compositionStart?i===we.compositionEnd&&ke&&(o=oe()):(re="value"in(ne=r)?ne.value:ne.textContent,ke=!0)),i=pe.getPooled(i,t,n,r),o?i.data=o:null!==(o=_e(n))&&(i.data=o),W(i),o=i):o=null,(e=ve?function(e,t){switch(e){case"compositionend":return _e(t);case"keypress":return 32!==t.which?null:(xe=!0,ye);case"textInput":return(e=t.data)===ye&&xe?null:e;default:return null}}(e,n):function(e,t){if(ke)return"compositionend"===e||!me&&Se(e,t)?(e=oe(),ie=re=ne=null,ke=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return be&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=fe.getPooled(we.beforeInput,t,n,r)).data=e,W(t)):t=null,null===o?t:null===t?o:[o,t]}},Ee=null,Te=null,Pe=null;function Re(e){if(e=S(e)){"function"!=typeof Ee&&a("280");var t=x(e.stateNode);Ee(e.stateNode,e.type,t)}}function Ae(e){Te?Pe?Pe.push(e):Pe=[e]:Te=e}function je(){if(Te){var e=Te,t=Pe;if(Pe=Te=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Oe(e,t){return e(t)}function Ie(e,t,n){return e(t,n)}function Me(){}var De=!1;function Ne(e,t){if(De)return e(t);De=!0;try{return Oe(e,t)}finally{De=!1,(null!==Te||null!==Pe)&&(Me(),je())}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Le[e.type]:"textarea"===t}function Ue(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Be(e){if(!H)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function qe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ze(e){e._valueTracker||(e._valueTracker=function(e){var t=qe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ve(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qe(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var We=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;We.hasOwnProperty("ReactCurrentDispatcher")||(We.ReactCurrentDispatcher={current:null});var He=/^(.*)[\\\/]/,Ge="function"==typeof Symbol&&Symbol.for,$e=Ge?Symbol.for("react.element"):60103,Qe=Ge?Symbol.for("react.portal"):60106,Ye=Ge?Symbol.for("react.fragment"):60107,Ke=Ge?Symbol.for("react.strict_mode"):60108,Je=Ge?Symbol.for("react.profiler"):60114,Xe=Ge?Symbol.for("react.provider"):60109,Ze=Ge?Symbol.for("react.context"):60110,et=Ge?Symbol.for("react.concurrent_mode"):60111,tt=Ge?Symbol.for("react.forward_ref"):60112,nt=Ge?Symbol.for("react.suspense"):60113,rt=Ge?Symbol.for("react.memo"):60115,it=Ge?Symbol.for("react.lazy"):60116,ot="function"==typeof Symbol&&Symbol.iterator;function at(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ot&&e[ot]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case et:return"ConcurrentMode";case Ye:return"Fragment";case Qe:return"Portal";case Je:return"Profiler";case Ke:return"StrictMode";case nt:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case Ze:return"Context.Consumer";case Xe:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case rt:return st(e.type);case it:if(e=1===e._status?e._result:null)return st(e)}return null}function ct(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=st(e.type);n=null,r&&(n=st(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(He,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var ut=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lt=Object.prototype.hasOwnProperty,dt={},pt={};function ft(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new ft(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new ft(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new ft(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new ft(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new ft(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new ft(e,3,!0,e,null)}),["capture","download"].forEach(function(e){ht[e]=new ft(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){ht[e]=new ft(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){ht[e]=new ft(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function gt(e){return e[1].toUpperCase()}function vt(e,t,n,r){var i=ht.hasOwnProperty(t)?ht[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!lt.call(pt,e)||!lt.call(dt,e)&&(ut.test(e)?pt[e]=!0:(dt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function bt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function yt(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function wt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=bt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xt(e,t){null!=(t=t.checked)&&vt(e,"checked",t,!1)}function St(e,t){xt(e,t);var n=bt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?kt(e,t.type,n):t.hasOwnProperty("defaultValue")&&kt(e,t.type,bt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function _t(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function kt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,gt);ht[t]=new ft(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,gt);ht[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,gt);ht[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new ft(e,1,!1,e.toLowerCase(),null)});var Ct={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Et(e,t,n){return(e=ce.getPooled(Ct.change,e,t,n)).type="change",Ae(n),W(e),e}var Tt=null,Pt=null;function Rt(e){j(e)}function At(e){if(Ve(L(e)))return e}function jt(e,t){if("change"===e)return t}var Ot=!1;function It(){Tt&&(Tt.detachEvent("onpropertychange",Mt),Pt=Tt=null)}function Mt(e){"value"===e.propertyName&&At(Pt)&&Ne(Rt,e=Et(Pt,e,Ue(e)))}function Dt(e,t,n){"focus"===e?(It(),Pt=n,(Tt=t).attachEvent("onpropertychange",Mt)):"blur"===e&&It()}function Nt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return At(Pt)}function Lt(e,t){if("click"===e)return At(t)}function Ft(e,t){if("input"===e||"change"===e)return At(t)}H&&(Ot=Be("input")&&(!document.documentMode||9<document.documentMode));var Ut={eventTypes:Ct,_isInputEventSupported:Ot,extractEvents:function(e,t,n,r){var i=t?L(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=jt:Fe(i)?Ot?o=Ft:(o=Nt,a=Dt):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Lt),o&&(o=o(e,t)))return Et(o,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&kt(i,"number",i.value)}},Bt=ce.extend({view:null,detail:null}),qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=qt[e])&&!!t[e]}function Vt(){return zt}var Wt=0,Ht=0,Gt=!1,$t=!1,Qt=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Vt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Wt;return Wt=e.screenX,Gt?"mousemove"===e.type?e.screenX-t:0:(Gt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ht;return Ht=e.screenY,$t?"mousemove"===e.type?e.screenY-t:0:($t=!0,0)}}),Yt=Qt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Kt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Jt={eventTypes:Kt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?D(t):null):o=null,o===t)return null;var a=void 0,s=void 0,c=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(a=Qt,s=Kt.mouseLeave,c=Kt.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Yt,s=Kt.pointerLeave,c=Kt.pointerEnter,u="pointer");var l=null==o?i:L(o);if(i=null==t?i:L(t),(e=a.getPooled(s,o,n,r)).type=u+"leave",e.target=l,e.relatedTarget=i,(n=a.getPooled(c,t,n,r)).type=u+"enter",n.target=i,n.relatedTarget=l,r=t,o&&r)e:{for(i=r,u=0,a=t=o;a;a=U(a))u++;for(a=0,c=i;c;c=U(c))a++;for(;0<u-a;)t=U(t),u--;for(;0<a-u;)i=U(i),a--;for(;u--;){if(t===i||t===i.alternate)break e;t=U(t),i=U(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(null===(u=o.alternate)||u!==i);)t.push(o),o=U(o);for(o=[];r&&r!==i&&(null===(u=r.alternate)||u!==i);)o.push(r),r=U(r);for(r=0;r<t.length;r++)z(t[r],"bubbled",e);for(r=o.length;0<r--;)z(o[r],"captured",n);return[e,n]}};function Xt(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var Zt=Object.prototype.hasOwnProperty;function en(e,t){if(Xt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Zt.call(t,n[r])||!Xt(e[n[r]],t[n[r]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&a("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&a("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var s=i.child;s;){if(s===n)return nn(i),e;if(s===r)return nn(i),t;s=s.sibling}a("188")}if(n.return!==r.return)n=i,r=o;else{s=!1;for(var c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}s||a("189")}}n.alternate!==r&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var on=ce.extend({animationName:null,elapsedTime:null,pseudoElement:null}),an=ce.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sn=Bt.extend({relatedTarget:null});function cn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=Bt.extend({key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=cn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ln[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Vt,charCode:function(e){return"keypress"===e.type?cn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?cn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),pn=Qt.extend({dataTransfer:null}),fn=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Vt}),hn=ce.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=Qt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),gn=[["abort","abort"],[J,"animationEnd"],[X,"animationIteration"],[Z,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],vn={},bn={};function yn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},vn[e]=t,bn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){yn(e,!0)}),gn.forEach(function(e){yn(e,!1)});var wn={eventTypes:vn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=bn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=bn[e];if(!i)return null;switch(e){case"keypress":if(0===cn(n))return null;case"keydown":case"keyup":e=dn;break;case"blur":case"focus":e=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Qt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=fn;break;case J:case X:case Z:e=on;break;case ee:e=hn;break;case"scroll":e=Bt;break;case"wheel":e=mn;break;case"copy":case"cut":case"paste":e=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Yt;break;default:e=ce}return W(t=e.getPooled(i,t,n,r)),t}},xn=wn.isInteractiveTopLevelEventType,Sn=[];function _n(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=D(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Ue(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<v.length;s++){var c=v[s];c&&(c=c.extractEvents(r,t,o,i))&&(a=C(a,c))}j(a)}}var kn=!0;function Cn(e,t){if(!t)return null;var n=(xn(e)?Tn:Pn).bind(null,e);t.addEventListener(e,n,!1)}function En(e,t){if(!t)return null;var n=(xn(e)?Tn:Pn).bind(null,e);t.addEventListener(e,n,!0)}function Tn(e,t){Ie(Pn,e,t)}function Pn(e,t){if(kn){var n=Ue(t);if(null===(n=D(n))||"number"!=typeof n.tag||2===tn(n)||(n=null),Sn.length){var r=Sn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Ne(_n,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Sn.length&&Sn.push(e)}}}var Rn={},An=0,jn="_reactListenersID"+(""+Math.random()).slice(2);function On(e){return Object.prototype.hasOwnProperty.call(e,jn)||(e[jn]=An++,Rn[e[jn]]={}),Rn[e[jn]]}function In(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Mn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dn(e,t){var n,r=Mn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mn(r)}}function Nn(){for(var e=window,t=In();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=In((e=t.contentWindow).document)}return t}function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Fn(e){var t=Nn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&Ln(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Dn(n,o);var a=Dn(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Un=H&&"documentMode"in document&&11>=document.documentMode,Bn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qn=null,zn=null,Vn=null,Wn=!1;function Hn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wn||null==qn||qn!==In(n)?null:("selectionStart"in(n=qn)&&Ln(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Vn&&en(Vn,n)?null:(Vn=n,(e=ce.getPooled(Bn.select,zn,e,t)).type="select",e.target=qn,W(e),e))}var Gn={eventTypes:Bn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=On(o),i=w.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?L(t):window,e){case"focus":(Fe(o)||"true"===o.contentEditable)&&(qn=o,zn=t,Vn=null);break;case"blur":Vn=zn=qn=null;break;case"mousedown":Wn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wn=!1,Hn(n,r);case"selectionchange":if(Un)break;case"keydown":case"keyup":return Hn(n,r)}return null}};function $n(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Qn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Yn(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:bt(n)}}function Jn(e,t){var n=bt(t.value),r=bt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Xn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}R.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x=F,S=N,_=L,R.injectEventPluginsByName({SimpleEventPlugin:wn,EnterLeaveEventPlugin:Jt,ChangeEventPlugin:Ut,SelectEventPlugin:Gn,BeforeInputEventPlugin:Ce});var Zn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function er(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?er(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var nr,rr=void 0,ir=(nr=function(e,t){if(e.namespaceURI!==Zn.svg||"innerHTML"in e)e.innerHTML=t;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=rr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return nr(e,t)})}:nr);function or(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ar={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sr=["Webkit","ms","Moz","O"];function cr(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ar.hasOwnProperty(e)&&ar[e]?(""+t).trim():t+"px"}function ur(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=cr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ar).forEach(function(e){sr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ar[t]=ar[e]})});var lr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dr(e,t){t&&(lr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!=typeof t.style&&a("62",""))}function pr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function fr(e,t){var n=On(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=w[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":En("scroll",e);break;case"focus":case"blur":En("focus",e),En("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Be(i)&&En(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(i)&&Cn(i,e)}n[i]=!0}}}function hr(){}var mr=null,gr=null;function vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yr="function"==typeof setTimeout?setTimeout:void 0,wr="function"==typeof clearTimeout?clearTimeout:void 0,xr=o.unstable_scheduleCallback,Sr=o.unstable_cancelCallback;function _r(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function kr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Cr=[],Er=-1;function Tr(e){0>Er||(e.current=Cr[Er],Cr[Er]=null,Er--)}function Pr(e,t){Cr[++Er]=e.current,e.current=t}var Rr={},Ar={current:Rr},jr={current:!1},Or=Rr;function Ir(e,t){var n=e.type.contextTypes;if(!n)return Rr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mr(e){return null!=(e=e.childContextTypes)}function Dr(e){Tr(jr),Tr(Ar)}function Nr(e){Tr(jr),Tr(Ar)}function Lr(e,t,n){Ar.current!==Rr&&a("168"),Pr(Ar,t),Pr(jr,n)}function Fr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in e||a("108",st(t)||"Unknown",o);return i({},n,r)}function Ur(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Rr,Or=Ar.current,Pr(Ar,t),Pr(jr,jr.current),!0}function Br(e,t,n){var r=e.stateNode;r||a("169"),n?(t=Fr(e,t,Or),r.__reactInternalMemoizedMergedChildContext=t,Tr(jr),Tr(Ar),Pr(Ar,t)):Tr(jr),Pr(jr,n)}var qr=null,zr=null;function Vr(e){return function(t){try{return e(t)}catch(e){}}}function Wr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Hr(e,t,n,r){return new Wr(e,t,n,r)}function Gr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $r(e,t){var n=e.alternate;return null===n?((n=Hr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qr(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Gr(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Ye:return Yr(n.children,i,o,t);case et:return Kr(n,3|i,o,t);case Ke:return Kr(n,2|i,o,t);case Je:return(e=Hr(12,n,t,4|i)).elementType=Je,e.type=Je,e.expirationTime=o,e;case nt:return(e=Hr(13,n,t,i)).elementType=nt,e.type=nt,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Xe:s=10;break e;case Ze:s=9;break e;case tt:s=11;break e;case rt:s=14;break e;case it:s=16,r=null;break e}a("130",null==e?e:typeof e,"")}return(t=Hr(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Yr(e,t,n,r){return(e=Hr(7,e,r,t)).expirationTime=n,e}function Kr(e,t,n,r){return e=Hr(8,e,r,t),t=0==(1&t)?Ke:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function Jr(e,t,n){return(e=Hr(6,e,null,t)).expirationTime=n,e}function Xr(e,t,n){return(t=Hr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zr(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),ni(t,e)}function ei(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),ni(t,e)}function ti(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function ni(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,o=t.latestPingedTime;0===(i=0!==i?i:o)&&(0===e||r<e)&&(i=r),0!==(e=i)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function ri(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ii=(new r.Component).refs;function oi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ss(),i=Ko(r=Ya(r,e));i.payload=t,null!=n&&(i.callback=n),Va(),Xo(e,i),Xa(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ss(),i=Ko(r=Ya(r,e));i.tag=Wo,i.payload=t,null!=n&&(i.callback=n),Va(),Xo(e,i),Xa(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ss(),r=Ko(n=Ya(n,e));r.tag=Ho,null!=t&&(r.callback=t),Va(),Xo(e,r),Xa(e,n)}};function si(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,r)||!en(i,o))}function ci(e,t,n){var r=!1,i=Rr,o=t.contextType;return"object"==typeof o&&null!==o?o=zo(o):(i=Mr(t)?Or:Ar.current,o=(r=null!=(r=t.contextTypes))?Ir(e,i):Rr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ui(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function li(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ii;var o=t.contextType;"object"==typeof o&&null!==o?i.context=zo(o):(o=Mr(t)?Or:Ar.current,i.context=Ir(e,o)),null!==(o=e.updateQueue)&&(na(e,o,n,i,r),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(oi(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ai.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(na(e,o,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var di=Array.isArray;function pi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&a("309"),r=n.stateNode),r||a("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ii&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!=typeof e&&a("284"),n._owner||a("290",e)}return e}function fi(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function hi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=$r(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Jr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=pi(e,t,n),r.return=e,r):((r=Qr(n.type,n.key,n.props,null,e.mode,r)).ref=pi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Yr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Jr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case $e:return(n=Qr(t.type,t.key,t.props,null,e.mode,n)).ref=pi(e,null,t),n.return=e,n;case Qe:return(t=Xr(t,e.mode,n)).return=e,t}if(di(t)||at(t))return(t=Yr(t,e.mode,n,null)).return=e,t;fi(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case $e:return n.key===i?n.type===Ye?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case Qe:return n.key===i?l(e,t,n,r):null}if(di(n)||at(n))return null!==i?null:d(e,t,n,r,null);fi(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case $e:return e=e.get(null===r.key?n:r.key)||null,r.type===Ye?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case Qe:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(di(r)||at(r))return d(t,e=e.get(n)||null,r,i,null);fi(t,r)}return null}function m(i,a,s,c){for(var u=null,l=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],c);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,m),null===l?u=v:l.sibling=v,l=v,d=g}if(m===s.length)return n(i,d),u;if(null===d){for(;m<s.length;m++)(d=p(i,s[m],c))&&(a=o(d,a,m),null===l?u=d:l.sibling=d,l=d);return u}for(d=r(i,d);m<s.length;m++)(g=h(d,i,m,s[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===l?u=g:l.sibling=g,l=g);return e&&d.forEach(function(e){return t(i,e)}),u}function g(i,s,c,u){var l=at(c);"function"!=typeof l&&a("150"),null==(c=l.call(c))&&a("151");for(var d=l=null,m=s,g=s=0,v=null,b=c.next();null!==m&&!b.done;g++,b=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=f(i,m,b.value,u);if(null===y){m||(m=v);break}e&&m&&null===y.alternate&&t(i,m),s=o(y,s,g),null===d?l=y:d.sibling=y,d=y,m=v}if(b.done)return n(i,m),l;if(null===m){for(;!b.done;g++,b=c.next())null!==(b=p(i,b.value,u))&&(s=o(b,s,g),null===d?l=b:d.sibling=b,d=b);return l}for(m=r(i,m);!b.done;g++,b=c.next())null!==(b=h(m,i,g,b.value,u))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),s=o(b,s,g),null===d?l=b:d.sibling=b,d=b);return e&&m.forEach(function(e){return t(i,e)}),l}return function(e,r,o,c){var u="object"==typeof o&&null!==o&&o.type===Ye&&null===o.key;u&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case $e:e:{for(l=o.key,u=r;null!==u;){if(u.key===l){if(7===u.tag?o.type===Ye:u.elementType===o.type){n(e,u.sibling),(r=i(u,o.type===Ye?o.props.children:o.props)).ref=pi(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===Ye?((r=Yr(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Qr(o.type,o.key,o.props,null,e.mode,c)).ref=pi(e,r,o),c.return=e,e=c)}return s(e);case Qe:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xr(o,e.mode,c)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Jr(o,e.mode,c)).return=e,e=r),s(e);if(di(o))return m(e,r,o,c);if(at(o))return g(e,r,o,c);if(l&&fi(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:a("152",(c=e.type).displayName||c.name||"Component")}return n(e,r)}}var mi=hi(!0),gi=hi(!1),vi={},bi={current:vi},yi={current:vi},wi={current:vi};function xi(e){return e===vi&&a("174"),e}function Si(e,t){Pr(wi,t),Pr(yi,e),Pr(bi,vi);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tr(null,"");break;default:t=tr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Tr(bi),Pr(bi,t)}function _i(e){Tr(bi),Tr(yi),Tr(wi)}function ki(e){xi(wi.current);var t=xi(bi.current),n=tr(t,e.type);t!==n&&(Pr(yi,e),Pr(bi,n))}function Ci(e){yi.current===e&&(Tr(bi),Tr(yi))}var Ei=0,Ti=2,Pi=4,Ri=8,Ai=16,ji=32,Oi=64,Ii=128,Mi=We.ReactCurrentDispatcher,Di=0,Ni=null,Li=null,Fi=null,Ui=null,Bi=null,qi=null,zi=0,Vi=null,Wi=0,Hi=!1,Gi=null,$i=0;function Qi(){a("321")}function Yi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function Ki(e,t,n,r,i,o){if(Di=o,Ni=t,Fi=null!==e?e.memoizedState:null,Mi.current=null===Fi?uo:lo,t=n(r,i),Hi){do{Hi=!1,$i+=1,Fi=null!==e?e.memoizedState:null,qi=Ui,Vi=Bi=Li=null,Mi.current=lo,t=n(r,i)}while(Hi);Gi=null,$i=0}return Mi.current=co,(e=Ni).memoizedState=Ui,e.expirationTime=zi,e.updateQueue=Vi,e.effectTag|=Wi,e=null!==Li&&null!==Li.next,Di=0,qi=Bi=Ui=Fi=Li=Ni=null,zi=0,Vi=null,Wi=0,e&&a("300"),t}function Ji(){Mi.current=co,Di=0,qi=Bi=Ui=Fi=Li=Ni=null,zi=0,Vi=null,Wi=0,Hi=!1,Gi=null,$i=0}function Xi(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Bi?Ui=Bi=e:Bi=Bi.next=e,Bi}function Zi(){if(null!==qi)qi=(Bi=qi).next,Fi=null!==(Li=Fi)?Li.next:null;else{null===Fi&&a("310");var e={memoizedState:(Li=Fi).memoizedState,baseState:Li.baseState,queue:Li.queue,baseUpdate:Li.baseUpdate,next:null};Bi=null===Bi?Ui=e:Bi.next=e,Fi=Li.next}return Bi}function eo(e,t){return"function"==typeof t?t(e):t}function to(e){var t=Zi(),n=t.queue;if(null===n&&a("311"),n.lastRenderedReducer=e,0<$i){var r=n.dispatch;if(null!==Gi){var i=Gi.get(n);if(void 0!==i){Gi.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return Xt(o,t.memoizedState)||(So=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var c=i=null,u=r,l=!1;do{var d=u.expirationTime;d<Di?(l||(l=!0,c=s,i=o),d>zi&&(zi=d)):o=u.eagerReducer===e?u.eagerState:e(o,u.action),s=u,u=u.next}while(null!==u&&u!==r);l||(c=s,i=o),Xt(o,t.memoizedState)||(So=!0),t.memoizedState=o,t.baseUpdate=c,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function no(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Vi?(Vi={lastEffect:null}).lastEffect=e.next=e:null===(t=Vi.lastEffect)?Vi.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Vi.lastEffect=e),e}function ro(e,t,n,r){var i=Xi();Wi|=e,i.memoizedState=no(t,n,void 0,void 0===r?null:r)}function io(e,t,n,r){var i=Zi();r=void 0===r?null:r;var o=void 0;if(null!==Li){var a=Li.memoizedState;if(o=a.destroy,null!==r&&Yi(r,a.deps))return void no(Ei,n,o,r)}Wi|=e,i.memoizedState=no(t,n,o,r)}function oo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ao(){}function so(e,t,n){25>$i||a("301");var r=e.alternate;if(e===Ni||null!==r&&r===Ni)if(Hi=!0,e={expirationTime:Di,action:n,eagerReducer:null,eagerState:null,next:null},null===Gi&&(Gi=new Map),void 0===(n=Gi.get(t)))Gi.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Va();var i=Ss(),o={expirationTime:i=Ya(i,e),action:n,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)o.next=o;else{var c=s.next;null!==c&&(o.next=c),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var u=t.lastRenderedState,l=r(u,n);if(o.eagerReducer=r,o.eagerState=l,Xt(l,u))return}catch(e){}Xa(e,i)}}var co={readContext:zo,useCallback:Qi,useContext:Qi,useEffect:Qi,useImperativeHandle:Qi,useLayoutEffect:Qi,useMemo:Qi,useReducer:Qi,useRef:Qi,useState:Qi,useDebugValue:Qi},uo={readContext:zo,useCallback:function(e,t){return Xi().memoizedState=[e,void 0===t?null:t],e},useContext:zo,useEffect:function(e,t){return ro(516,Ii|Oi,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ro(4,Pi|ji,oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ro(4,Pi|ji,e,t)},useMemo:function(e,t){var n=Xi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=so.bind(null,Ni,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Xi().memoizedState=e},useState:function(e){var t=Xi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e}).dispatch=so.bind(null,Ni,e),[t.memoizedState,e]},useDebugValue:ao},lo={readContext:zo,useCallback:function(e,t){var n=Zi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:zo,useEffect:function(e,t){return io(516,Ii|Oi,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,io(4,Pi|ji,oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return io(4,Pi|ji,e,t)},useMemo:function(e,t){var n=Zi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:to,useRef:function(){return Zi().memoizedState},useState:function(e){return to(eo)},useDebugValue:ao},po=null,fo=null,ho=!1;function mo(e,t){var n=Hr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function go(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function vo(e){if(ho){var t=fo;if(t){var n=t;if(!go(e,t)){if(!(t=_r(n))||!go(e,t))return e.effectTag|=2,ho=!1,void(po=e);mo(po,n)}po=e,fo=kr(t)}else e.effectTag|=2,ho=!1,po=e}}function bo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;po=e}function yo(e){if(e!==po)return!1;if(!ho)return bo(e),ho=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!br(t,e.memoizedProps))for(t=fo;t;)mo(e,t),t=_r(t);return bo(e),fo=po?_r(e.stateNode):null,!0}function wo(){fo=po=null,ho=!1}var xo=We.ReactCurrentOwner,So=!1;function _o(e,t,n,r){t.child=null===e?gi(t,null,n,r):mi(t,e.child,n,r)}function ko(e,t,n,r,i){n=n.render;var o=t.ref;return qo(t,i),r=Ki(e,t,n,r,o,i),null===e||So?(t.effectTag|=1,_o(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Io(e,t,i))}function Co(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Gr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Qr(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eo(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:en)(i,r)&&e.ref===t.ref)?Io(e,t,o):(t.effectTag|=1,(e=$r(a,r)).ref=t.ref,e.return=t,t.child=e)}function Eo(e,t,n,r,i,o){return null!==e&&en(e.memoizedProps,r)&&e.ref===t.ref&&(So=!1,i<o)?Io(e,t,o):Po(e,t,n,r,o)}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Po(e,t,n,r,i){var o=Mr(n)?Or:Ar.current;return o=Ir(t,o),qo(t,i),n=Ki(e,t,n,r,o,i),null===e||So?(t.effectTag|=1,_o(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Io(e,t,i))}function Ro(e,t,n,r,i){if(Mr(n)){var o=!0;Ur(t)}else o=!1;if(qo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ci(t,n,r),li(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=zo(u):u=Ir(t,u=Mr(n)?Or:Ar.current);var l=n.getDerivedStateFromProps,d="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==u)&&ui(t,a,r,u),$o=!1;var p=t.memoizedState;c=a.state=p;var f=t.updateQueue;null!==f&&(na(t,f,r,a,i),c=t.memoizedState),s!==r||p!==c||jr.current||$o?("function"==typeof l&&(oi(t,n,l,r),c=t.memoizedState),(s=$o||si(t,n,s,r,p,c,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:ri(t.type,s),c=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=zo(u):u=Ir(t,u=Mr(n)?Or:Ar.current),(d="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==u)&&ui(t,a,r,u),$o=!1,c=t.memoizedState,p=a.state=c,null!==(f=t.updateQueue)&&(na(t,f,r,a,i),p=t.memoizedState),s!==r||c!==p||jr.current||$o?("function"==typeof l&&(oi(t,n,l,r),p=t.memoizedState),(l=$o||si(t,n,s,r,c,p,u))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Ao(e,t,n,r,o,i)}function Ao(e,t,n,r,i,o){To(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Br(t,n,!1),Io(e,t,o);r=t.stateNode,xo.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=mi(t,e.child,null,o),t.child=mi(t,null,s,o)):_o(e,t,s,o),t.memoizedState=r.state,i&&Br(t,n,!0),t.child}function jo(e){var t=e.stateNode;t.pendingContext?Lr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lr(0,t.context,!1),Si(e,t.containerInfo)}function Oo(e,t,n){var r=t.mode,i=t.pendingProps,o=t.memoizedState;if(0==(64&t.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,t.effectTag&=-65;if(null===e)if(a){var s=i.fallback;e=Yr(null,r,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Yr(s,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=gi(t,null,i.children,n);else null!==e.memoizedState?(s=(r=e.child).sibling,a?(n=i.fallback,i=$r(r,r.pendingProps),0==(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(i.child=a)),r=i.sibling=$r(s,n,s.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=mi(t,r.child,i.children,n)):(s=e.child,a?(a=i.fallback,(i=Yr(null,r,0,null)).child=s,0==(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),(r=i.sibling=Yr(a,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=mi(t,s,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=o,t.child=n,r}function Io(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(n=$r(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$r(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Mo(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||jr.current)So=!0;else if(r<n){switch(So=!1,t.tag){case 3:jo(t),wo();break;case 5:ki(t);break;case 1:Mr(t.type)&&Ur(t);break;case 4:Si(t,t.stateNode.containerInfo);break;case 10:Uo(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Oo(e,t,n):null!==(t=Io(e,t,n))?t.sibling:null}return Io(e,t,n)}}else So=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=Ir(t,Ar.current);if(qo(t,n),i=Ki(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Ji(),Mr(r)){var o=!0;Ur(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&oi(t,r,s,e),i.updater=ai,t.stateNode=i,i._reactInternalFiber=t,li(t,r,e,n),t=Ao(null,t,r,!0,o,n)}else t.tag=0,_o(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"==typeof e)return Gr(e)?1:0;if(null!=e){if((e=e.$$typeof)===tt)return 11;if(e===rt)return 14}return 2}(e),o=ri(e,o),s=void 0,i){case 0:s=Po(null,t,e,o,n);break;case 1:s=Ro(null,t,e,o,n);break;case 11:s=ko(null,t,e,o,n);break;case 14:s=Co(null,t,e,ri(e.type,o),r,n);break;default:a("306",e,"")}return s;case 0:return r=t.type,i=t.pendingProps,Po(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ro(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 3:return jo(t),null===(r=t.updateQueue)&&a("282"),i=null!==(i=t.memoizedState)?i.element:null,na(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(wo(),t=Io(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(fo=kr(t.stateNode.containerInfo),po=t,i=ho=!0),i?(t.effectTag|=2,t.child=gi(t,null,r,n)):(_o(e,t,r,n),wo()),t=t.child),t;case 5:return ki(t),null===e&&vo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,br(r,i)?s=null:null!==o&&br(r,o)&&(t.effectTag|=16),To(e,t),1!==n&&1&t.mode&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(_o(e,t,s,n),t=t.child),t;case 6:return null===e&&vo(t),null;case 13:return Oo(e,t,n);case 4:return Si(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=mi(t,null,r,n):_o(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ko(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,Uo(t,o=i.value),null!==s){var c=s.value;if(0===(o=Xt(c,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(s.children===i.children&&!jr.current){t=Io(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.contextDependencies;if(null!==u){s=c.child;for(var l=u.first;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===c.tag&&((l=Ko(n)).tag=Ho,Xo(c,l)),c.expirationTime<n&&(c.expirationTime=n),null!==(l=c.alternate)&&l.expirationTime<n&&(l.expirationTime=n),l=n;for(var d=c.return;null!==d;){var p=d.alternate;if(d.childExpirationTime<l)d.childExpirationTime=l,null!==p&&p.childExpirationTime<l&&(p.childExpirationTime=l);else{if(!(null!==p&&p.childExpirationTime<l))break;p.childExpirationTime=l}d=d.return}u.expirationTime<n&&(u.expirationTime=n);break}l=l.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}}_o(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,qo(t,n),r=r(i=zo(i,o.unstable_observedBits)),t.effectTag|=1,_o(e,t,r,n),t.child;case 14:return o=ri(i=t.type,t.pendingProps),Co(e,t,i,o=ri(i.type,o),r,n);case 15:return Eo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ri(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Mr(r)?(e=!0,Ur(t)):e=!1,qo(t,n),ci(t,r,i),li(t,r,i,n),Ao(null,t,r,!0,e,n)}a("156")}var Do={current:null},No=null,Lo=null,Fo=null;function Uo(e,t){var n=e.type._context;Pr(Do,n._currentValue),n._currentValue=t}function Bo(e){var t=Do.current;Tr(Do),e.type._context._currentValue=t}function qo(e,t){No=e,Fo=Lo=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(So=!0),e.contextDependencies=null}function zo(e,t){return Fo!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(Fo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Lo?(null===No&&a("308"),Lo=t,No.contextDependencies={first:t,expirationTime:0}):Lo=Lo.next=t),e._currentValue}var Vo=0,Wo=1,Ho=2,Go=3,$o=!1;function Qo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Yo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ko(e){return{expirationTime:e,tag:Vo,payload:null,callback:null,next:null,nextEffect:null}}function Jo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Xo(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=Qo(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=Qo(e.memoizedState),i=n.updateQueue=Qo(n.memoizedState)):r=e.updateQueue=Yo(i):null===i&&(i=n.updateQueue=Yo(r));null===i||r===i?Jo(r,t):null===r.lastUpdate||null===i.lastUpdate?(Jo(r,t),Jo(i,t)):(Jo(r,t),i.lastUpdate=t)}function Zo(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Qo(e.memoizedState):ea(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function ea(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Yo(t)),t}function ta(e,t,n,r,o,a){switch(n.tag){case Wo:return"function"==typeof(e=n.payload)?e.call(a,r,o):e;case Go:e.effectTag=-2049&e.effectTag|64;case Vo:if(null==(o="function"==typeof(e=n.payload)?e.call(a,r,o):e))break;return i({},r,o);case Ho:$o=!0}return r}function na(e,t,n,r,i){$o=!1;for(var o=(t=ea(e,t)).baseState,a=null,s=0,c=t.firstUpdate,u=o;null!==c;){var l=c.expirationTime;l<i?(null===a&&(a=c,o=u),s<l&&(s=l)):(u=ta(e,0,c,u,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(l=null,c=t.firstCapturedUpdate;null!==c;){var d=c.expirationTime;d<i?(null===l&&(l=c,null===a&&(o=u)),s<d&&(s=d)):(u=ta(e,0,c,u,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(o=u),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=l,e.expirationTime=s,e.memoizedState=u}function ra(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ia(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ia(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ia(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&a("191",n),n.call(r)}e=e.nextEffect}}function oa(e,t){return{value:e,source:t,stack:ct(t)}}function aa(e){e.effectTag|=4}var sa=void 0,ca=void 0,ua=void 0,la=void 0;sa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ca=function(){},ua=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s=t.stateNode;switch(xi(bi.current),e=null,n){case"input":a=yt(s,a),r=yt(s,r),e=[];break;case"option":a=$n(s,a),r=$n(s,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Yn(s,a),r=Yn(s,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(s.onclick=hr)}dr(n,r),s=n=void 0;var c=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var u=a[n];for(s in u)u.hasOwnProperty(s)&&(c||(c={}),c[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(y.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var l=r[n];if(u=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&l!==u&&(null!=l||null!=u))if("style"===n)if(u){for(s in u)!u.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(c||(c={}),c[s]="");for(s in l)l.hasOwnProperty(s)&&u[s]!==l[s]&&(c||(c={}),c[s]=l[s])}else c||(e||(e=[]),e.push(n,c)),c=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(e=e||[]).push(n,""+l)):"children"===n?u===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(y.hasOwnProperty(n)?(null!=l&&fr(o,n),e||u===l||(e=[])):(e=e||[]).push(n,l))}c&&(e=e||[]).push("style",c),o=e,(t.updateQueue=o)&&aa(t)}},la=function(e,t,n,r){n!==r&&aa(t)};var da="function"==typeof WeakSet?WeakSet:Set;function pa(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ct(n)),null!==n&&st(n.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function fa(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Qa(e,t)}else t.current=null}function ha(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==Ei){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&t)!==Ei&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function ma(e){switch("function"==typeof zr&&zr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var i=e;try{r()}catch(e){Qa(i,e)}}n=n.next}while(n!==t)}break;case 1:if(fa(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Qa(e,t)}break;case 5:fa(e);break;case 4:ba(e)}}function ga(e){return 5===e.tag||3===e.tag||4===e.tag}function va(e){e:{for(var t=e.return;null!==t;){if(ga(t)){var n=t;break e}t=t.return}a("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:a("161")}16&n.effectTag&&(or(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ga(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=t,s=i.stateNode,c=n;8===o.nodeType?o.parentNode.insertBefore(s,c):o.insertBefore(s,c)}else t.insertBefore(i.stateNode,n);else r?(s=t,c=i.stateNode,8===s.nodeType?(o=s.parentNode).insertBefore(c,s):(o=s).appendChild(c),null!=(s=s._reactRootContainer)||null!==o.onclick||(o.onclick=hr)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function ba(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&a("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,s=o;;)if(ma(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}i?(o=r,s=t.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,i=!0,t.child.return=t,t=t.child;continue}}else if(ma(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function ya(e,t){switch(t.tag){case 0:case 11:case 14:case 15:ha(Pi,Ri,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&function(e,t,n,r,i){e[M]=i,"input"===n&&"radio"===i.type&&null!=i.name&&xt(e,i),pr(n,r),r=pr(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?ur(e,s):"dangerouslySetInnerHTML"===a?ir(e,s):"children"===a?or(e,s):vt(e,a,s,r)}switch(n){case"input":St(e,i);break;case"textarea":Jn(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Qn(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Qn(e,!!i.multiple,i.defaultValue,!0):Qn(e,!!i.multiple,i.multiple?[]:"",!1))}}(n,o,i,e,r)}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=Ss())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=cr("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new da),n.forEach(function(e){var n=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Ya(t=Ss(),e),null!==(e=Ja(e,t))&&(Zr(e,t),0!==(t=e.expirationTime)&&_s(e,t))}.bind(null,t,e);s.has(e)||(s.add(e),e.then(n,n))})}break;case 17:break;default:a("163")}}var wa="function"==typeof WeakMap?WeakMap:Map;function xa(e,t,n){(n=Ko(n)).tag=Go,n.payload={element:null};var r=t.value;return n.callback=function(){Os(r),pa(e,t)},n}function Sa(e,t,n){(n=Ko(n)).tag=Go;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Fa?Fa=new Set([this]):Fa.add(this));var n=t.value,i=t.stack;pa(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function _a(e){switch(e.tag){case 1:Mr(e.type)&&Dr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return _i(),Nr(),0!=(64&(t=e.effectTag))&&a("285"),e.effectTag=-2049&t|64,e;case 5:return Ci(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return _i(),null;case 10:return Bo(e),null;default:return null}}var ka=We.ReactCurrentDispatcher,Ca=We.ReactCurrentOwner,Ea=1073741822,Ta=!1,Pa=null,Ra=null,Aa=0,ja=-1,Oa=!1,Ia=null,Ma=!1,Da=null,Na=null,La=null,Fa=null;function Ua(){if(null!==Pa)for(var e=Pa.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&Dr();break;case 3:_i(),Nr();break;case 5:Ci(t);break;case 4:_i();break;case 10:Bo(t)}e=e.return}Ra=null,Aa=0,ja=-1,Oa=!1,Pa=null}function Ba(){for(;null!==Ia;){var e=Ia.effectTag;if(16&e&&or(Ia.stateNode,""),128&e){var t=Ia.alternate;null!==t&&(null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:va(Ia),Ia.effectTag&=-3;break;case 6:va(Ia),Ia.effectTag&=-3,ya(Ia.alternate,Ia);break;case 4:ya(Ia.alternate,Ia);break;case 8:ba(e=Ia),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Ia=Ia.nextEffect}}function qa(){for(;null!==Ia;){if(256&Ia.effectTag)e:{var e=Ia.alternate,t=Ia;switch(t.tag){case 0:case 11:case 15:ha(Ti,Ei,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ri(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}Ia=Ia.nextEffect}}function za(e,t){for(;null!==Ia;){var n=Ia.effectTag;if(36&n){var r=Ia.alternate,i=Ia,o=t;switch(i.tag){case 0:case 11:case 15:ha(Ai,ji,i);break;case 1:var s=i.stateNode;if(4&i.effectTag)if(null===r)s.componentDidMount();else{var c=i.elementType===i.type?r.memoizedProps:ri(i.type,r.memoizedProps);s.componentDidUpdate(c,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(r=i.updateQueue)&&ra(0,r,s);break;case 3:if(null!==(r=i.updateQueue)){if(s=null,null!==i.child)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}ra(0,r,s)}break;case 5:o=i.stateNode,null===r&&4&i.effectTag&&vr(i.type,i.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}128&n&&(null!==(i=Ia.ref)&&(o=Ia.stateNode,"function"==typeof i?i(o):i.current=o)),512&n&&(Da=e),Ia=Ia.nextEffect}}function Va(){null!==Na&&Sr(Na),null!==La&&La()}function Wa(e,t){Ma=Ta=!0,e.current===t&&a("177");var n=e.pendingCommitExpirationTime;0===n&&a("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,i=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?Zr(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Zr(e,t)):t>n&&Zr(e,t)}ni(0,e)}(e,i>r?i:r),Ca.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,mr=kn,gr=function(){var e=Nn();if(Ln(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,a=-1,s=-1,c=0,u=0,l=e,d=null;t:for(;;){for(var p;l!==t||0!==r&&3!==l.nodeType||(a=o+r),l!==i||0!==n&&3!==l.nodeType||(s=o+n),3===l.nodeType&&(o+=l.nodeValue.length),null!==(p=l.firstChild);)d=l,l=p;for(;;){if(l===e)break t;if(d===t&&++c===r&&(a=o),d===i&&++u===n&&(s=o),null!==(p=l.nextSibling))break;d=(l=d).parentNode}l=p}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),kn=!1,Ia=r;null!==Ia;){i=!1;var s=void 0;try{qa()}catch(e){i=!0,s=e}i&&(null===Ia&&a("178"),Qa(Ia,s),null!==Ia&&(Ia=Ia.nextEffect))}for(Ia=r;null!==Ia;){i=!1,s=void 0;try{Ba()}catch(e){i=!0,s=e}i&&(null===Ia&&a("178"),Qa(Ia,s),null!==Ia&&(Ia=Ia.nextEffect))}for(Fn(gr),gr=null,kn=!!mr,mr=null,e.current=t,Ia=r;null!==Ia;){i=!1,s=void 0;try{za(e,n)}catch(e){i=!0,s=e}i&&(null===Ia&&a("178"),Qa(Ia,s),null!==Ia&&(Ia=Ia.nextEffect))}if(null!==r&&null!==Da){var c=function(e,t){La=Na=Da=null;var n=is;is=!0;do{if(512&t.effectTag){var r=!1,i=void 0;try{var o=t;ha(Ii,Ei,o),ha(Ei,Oi,o)}catch(e){r=!0,i=e}r&&Qa(t,i)}t=t.nextEffect}while(null!==t);is=n,0!==(n=e.expirationTime)&&_s(e,n),ls||is||Ps(1073741823,!1)}.bind(null,e,r);Na=o.unstable_runWithPriority(o.unstable_NormalPriority,function(){return xr(c)}),La=c}Ta=Ma=!1,"function"==typeof qr&&qr(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Fa=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Ha(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(1024&e.effectTag)){Pa=e;e:{var o=t,s=Aa,c=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Mr(t.type)&&Dr();break;case 3:_i(),Nr(),(c=t.stateNode).pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==o&&null!==o.child||(yo(t),t.effectTag&=-3),ca(t);break;case 5:Ci(t);var u=xi(wi.current);if(s=t.type,null!==o&&null!=t.stateNode)ua(o,t,s,c,u),o.ref!==t.ref&&(t.effectTag|=128);else if(c){var l=xi(bi.current);if(yo(t)){o=(c=t).stateNode;var d=c.type,p=c.memoizedProps,f=u;switch(o[I]=c,o[M]=p,s=void 0,u=d){case"iframe":case"object":Cn("load",o);break;case"video":case"audio":for(d=0;d<te.length;d++)Cn(te[d],o);break;case"source":Cn("error",o);break;case"img":case"image":case"link":Cn("error",o),Cn("load",o);break;case"form":Cn("reset",o),Cn("submit",o);break;case"details":Cn("toggle",o);break;case"input":wt(o,p),Cn("invalid",o),fr(f,"onChange");break;case"select":o._wrapperState={wasMultiple:!!p.multiple},Cn("invalid",o),fr(f,"onChange");break;case"textarea":Kn(o,p),Cn("invalid",o),fr(f,"onChange")}for(s in dr(u,p),d=null,p)p.hasOwnProperty(s)&&(l=p[s],"children"===s?"string"==typeof l?o.textContent!==l&&(d=["children",l]):"number"==typeof l&&o.textContent!==""+l&&(d=["children",""+l]):y.hasOwnProperty(s)&&null!=l&&fr(f,s));switch(u){case"input":ze(o),_t(o,p,!0);break;case"textarea":ze(o),Xn(o);break;case"select":case"option":break;default:"function"==typeof p.onClick&&(o.onclick=hr)}s=d,c.updateQueue=s,(c=null!==s)&&aa(t)}else{p=t,f=s,o=c,d=9===u.nodeType?u:u.ownerDocument,l===Zn.html&&(l=er(f)),l===Zn.html?"script"===f?((o=d.createElement("div")).innerHTML="<script><\/script>",d=o.removeChild(o.firstChild)):"string"==typeof o.is?d=d.createElement(f,{is:o.is}):(d=d.createElement(f),"select"===f&&(f=d,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):d=d.createElementNS(l,f),(o=d)[I]=p,o[M]=c,sa(o,t,!1,!1),f=o;var h=u,m=pr(d=s,p=c);switch(d){case"iframe":case"object":Cn("load",f),u=p;break;case"video":case"audio":for(u=0;u<te.length;u++)Cn(te[u],f);u=p;break;case"source":Cn("error",f),u=p;break;case"img":case"image":case"link":Cn("error",f),Cn("load",f),u=p;break;case"form":Cn("reset",f),Cn("submit",f),u=p;break;case"details":Cn("toggle",f),u=p;break;case"input":wt(f,p),u=yt(f,p),Cn("invalid",f),fr(h,"onChange");break;case"option":u=$n(f,p);break;case"select":f._wrapperState={wasMultiple:!!p.multiple},u=i({},p,{value:void 0}),Cn("invalid",f),fr(h,"onChange");break;case"textarea":Kn(f,p),u=Yn(f,p),Cn("invalid",f),fr(h,"onChange");break;default:u=p}dr(d,u),l=void 0;var g=d,v=f,b=u;for(l in b)if(b.hasOwnProperty(l)){var w=b[l];"style"===l?ur(v,w):"dangerouslySetInnerHTML"===l?null!=(w=w?w.__html:void 0)&&ir(v,w):"children"===l?"string"==typeof w?("textarea"!==g||""!==w)&&or(v,w):"number"==typeof w&&or(v,""+w):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(y.hasOwnProperty(l)?null!=w&&fr(h,l):null!=w&&vt(v,l,w,m))}switch(d){case"input":ze(f),_t(f,p,!1);break;case"textarea":ze(f),Xn(f);break;case"option":null!=p.value&&f.setAttribute("value",""+bt(p.value));break;case"select":(u=f).multiple=!!p.multiple,null!=(f=p.value)?Qn(u,!!p.multiple,f,!1):null!=p.defaultValue&&Qn(u,!!p.multiple,p.defaultValue,!0);break;default:"function"==typeof u.onClick&&(f.onclick=hr)}(c=vr(s,c))&&aa(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:o&&null!=t.stateNode?la(o,t,o.memoizedProps,c):("string"!=typeof c&&(null===t.stateNode&&a("166")),o=xi(wi.current),xi(bi.current),yo(t)?(s=(c=t).stateNode,o=c.memoizedProps,s[I]=c,(c=s.nodeValue!==o)&&aa(t)):(s=t,(c=(9===o.nodeType?o:o.ownerDocument).createTextNode(c))[I]=t,s.stateNode=c));break;case 11:break;case 13:if(c=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=s,Pa=t;break e}c=null!==c,s=null!==o&&null!==o.memoizedState,null!==o&&!c&&s&&(null!==(o=o.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=o,o.nextEffect=u):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(c||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:_i(),ca(t);break;case 10:Bo(t);break;case 9:case 14:break;case 17:Mr(t.type)&&Dr();break;case 18:break;default:a("156")}Pa=null}if(t=e,1===Aa||1!==t.childExpirationTime){for(c=0,s=t.child;null!==s;)(o=s.expirationTime)>c&&(c=o),(u=s.childExpirationTime)>c&&(c=u),s=s.sibling;t.childExpirationTime=c}if(null!==Pa)return Pa;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=_a(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Ga(e){var t=Mo(e.alternate,e,Aa);return e.memoizedProps=e.pendingProps,null===t&&(t=Ha(e)),Ca.current=null,t}function $a(e,t){Ta&&a("243"),Va(),Ta=!0;var n=ka.current;ka.current=co;var r=e.nextExpirationTimeToWorkOn;r===Aa&&e===Ra&&null!==Pa||(Ua(),Aa=r,Pa=$r((Ra=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==Pa&&!Es();)Pa=Ga(Pa);else for(;null!==Pa;)Pa=Ga(Pa)}catch(t){if(Fo=Lo=No=null,Ji(),null===Pa)i=!0,Os(t);else{null===Pa&&a("271");var o=Pa,s=o.return;if(null!==s){e:{var c=e,u=s,l=o,d=t;if(s=Aa,l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==d&&"object"==typeof d&&"function"==typeof d.then){var p=d;d=u;var f=-1,h=-1;do{if(13===d.tag){var m=d.alternate;if(null!==m&&null!==(m=m.memoizedState)){h=10*(1073741822-m.timedOutAt);break}"number"==typeof(m=d.pendingProps.maxDuration)&&(0>=m?f=0:(-1===f||m<f)&&(f=m))}d=d.return}while(null!==d);d=u;do{if((m=13===d.tag)&&(m=void 0!==d.memoizedProps.fallback&&null===d.memoizedState),m){if(null===(u=d.updateQueue)?((u=new Set).add(p),d.updateQueue=u):u.add(p),0==(1&d.mode)){d.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:((s=Ko(1073741823)).tag=Ho,Xo(l,s))),l.expirationTime=1073741823;break e}u=s;var g=(l=c).pingCache;null===g?(g=l.pingCache=new wa,m=new Set,g.set(p,m)):void 0===(m=g.get(p))&&(m=new Set,g.set(p,m)),m.has(u)||(m.add(u),l=Ka.bind(null,l,p,u),p.then(l,l)),-1===f?c=1073741823:(-1===h&&(h=10*(1073741822-ti(c,s))-5e3),c=h+f),0<=c&&ja<c&&(ja=c),d.effectTag|=2048,d.expirationTime=s;break e}d=d.return}while(null!==d);d=Error((st(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ct(l))}Oa=!0,d=oa(d,l),c=u;do{switch(c.tag){case 3:c.effectTag|=2048,c.expirationTime=s,Zo(c,s=xa(c,d,s));break e;case 1:if(f=d,h=c.type,l=c.stateNode,0==(64&c.effectTag)&&("function"==typeof h.getDerivedStateFromError||null!==l&&"function"==typeof l.componentDidCatch&&(null===Fa||!Fa.has(l)))){c.effectTag|=2048,c.expirationTime=s,Zo(c,s=Sa(c,f,s));break e}}c=c.return}while(null!==c)}Pa=Ha(o);continue}i=!0,Os(t)}}break}if(Ta=!1,ka.current=n,Fo=Lo=No=null,Ji(),i)Ra=null,e.finishedWork=null;else if(null!==Pa)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&a("281"),Ra=null,Oa){if(i=e.latestPendingTime,o=e.latestSuspendedTime,s=e.latestPingedTime,0!==i&&i<r||0!==o&&o<r||0!==s&&s<r)return ei(e,r),void xs(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void xs(e,n,r,t,-1)}t&&-1!==ja?(ei(e,r),(t=10*(1073741822-ti(e,r)))<ja&&(ja=t),t=10*(1073741822-Ss()),t=ja-t,xs(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Qa(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fa||!Fa.has(r)))return Xo(n,e=Sa(n,e=oa(t,e),1073741823)),void Xa(n,1073741823);break;case 3:return Xo(n,e=xa(n,e=oa(t,e),1073741823)),void Xa(n,1073741823)}n=n.return}3===e.tag&&(Xo(e,n=xa(e,n=oa(t,e),1073741823)),Xa(e,1073741823))}function Ya(e,t){var n=o.unstable_getCurrentPriorityLevel(),r=void 0;if(0==(1&t.mode))r=1073741823;else if(Ta&&!Ma)r=Aa;else{switch(n){case o.unstable_ImmediatePriority:r=1073741823;break;case o.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case o.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case o.unstable_LowPriority:case o.unstable_IdlePriority:r=1;break;default:a("313")}null!==Ra&&r===Aa&&--r}return n===o.unstable_UserBlockingPriority&&(0===ss||r<ss)&&(ss=r),r}function Ka(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==Ra&&Aa===n?Ra=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),ni(n,e),0!==(n=e.expirationTime)&&_s(e,n)))}function Ja(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function Xa(e,t){null!==(e=Ja(e,t))&&(!Ta&&0!==Aa&&t>Aa&&Ua(),Zr(e,t),Ta&&!Ma&&Ra===e||_s(e,e.expirationTime),vs>gs&&(vs=0,a("185")))}function Za(e,t,n,r,i){return o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){return e(t,n,r,i)})}var es=null,ts=null,ns=0,rs=void 0,is=!1,os=null,as=0,ss=0,cs=!1,us=null,ls=!1,ds=!1,ps=null,fs=o.unstable_now(),hs=1073741822-(fs/10|0),ms=hs,gs=50,vs=0,bs=null;function ys(){hs=1073741822-((o.unstable_now()-fs)/10|0)}function ws(e,t){if(0!==ns){if(t<ns)return;null!==rs&&o.unstable_cancelCallback(rs)}ns=t,e=o.unstable_now()-fs,rs=o.unstable_scheduleCallback(Ts,{timeout:10*(1073741822-t)-e})}function xs(e,t,n,r,i){e.expirationTime=r,0!==i||Es()?0<i&&(e.timeoutHandle=yr(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,ys(),ms=hs,Rs(e,n)}.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function Ss(){return is?ms:(ks(),0!==as&&1!==as||(ys(),ms=hs),ms)}function _s(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ts?(es=ts=e,e.nextScheduledRoot=e):(ts=ts.nextScheduledRoot=e).nextScheduledRoot=es):t>e.expirationTime&&(e.expirationTime=t),is||(ls?ds&&(os=e,as=1073741823,As(e,1073741823,!1)):1073741823===t?Ps(1073741823,!1):ws(e,t))}function ks(){var e=0,t=null;if(null!==ts)for(var n=ts,r=es;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===ts)&&a("244"),r===r.nextScheduledRoot){es=ts=r.nextScheduledRoot=null;break}if(r===es)es=i=r.nextScheduledRoot,ts.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===ts){(ts=n).nextScheduledRoot=es,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>e&&(e=i,t=r),r===ts)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}os=t,as=e}var Cs=!1;function Es(){return!!Cs||!!o.unstable_shouldYield()&&(Cs=!0)}function Ts(){try{if(!Es()&&null!==es){ys();var e=es;do{var t=e.expirationTime;0!==t&&hs<=t&&(e.nextExpirationTimeToWorkOn=hs),e=e.nextScheduledRoot}while(e!==es)}Ps(0,!0)}finally{Cs=!1}}function Ps(e,t){if(ks(),t)for(ys(),ms=hs;null!==os&&0!==as&&e<=as&&!(Cs&&hs>as);)As(os,as,hs>as),ks(),ys(),ms=hs;else for(;null!==os&&0!==as&&e<=as;)As(os,as,!1),ks();if(t&&(ns=0,rs=null),0!==as&&ws(os,as),vs=0,bs=null,null!==ps)for(e=ps,ps=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){cs||(cs=!0,us=e)}}if(cs)throw e=us,us=null,cs=!1,e}function Rs(e,t){is&&a("253"),os=e,as=t,As(e,t,!1),Ps(1073741823,!1)}function As(e,t,n){if(is&&a("245"),is=!0,n){var r=e.finishedWork;null!==r?js(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,wr(r)),$a(e,n),null!==(r=e.finishedWork)&&(Es()?e.finishedWork=r:js(e,r,t)))}else null!==(r=e.finishedWork)?js(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,wr(r)),$a(e,n),null!==(r=e.finishedWork)&&js(e,r,t));is=!1}function js(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===ps?ps=[r]:ps.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===bs?vs++:(bs=e,vs=0),o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){Wa(e,t)})}function Os(e){null===os&&a("246"),os.expirationTime=0,cs||(cs=!0,us=e)}function Is(e,t){var n=ls;ls=!0;try{return e(t)}finally{(ls=n)||is||Ps(1073741823,!1)}}function Ms(e,t){if(ls&&!ds){ds=!0;try{return e(t)}finally{ds=!1}}return e(t)}function Ds(e,t,n){ls||is||0===ss||(Ps(ss,!1),ss=0);var r=ls;ls=!0;try{return o.unstable_runWithPriority(o.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(ls=r)||is||Ps(1073741823,!1)}}function Ns(e,t,n,r,i){var o=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||a("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Mr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===n.tag){var c=n.type;if(Mr(c)){n=Fr(n,c,s);break e}}n=s}else n=Rr;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=Ko(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Va(),Xo(o,i),Xa(o,r),r}function Ls(e,t,n,r){var i=t.current;return Ns(e,t,n,i=Ya(Ss(),i),r)}function Fs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Us(e){var t=1073741822-25*(1+((1073741822-Ss()+500)/25|0));t>=Ea&&(t=Ea-1),this._expirationTime=Ea=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Bs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function qs(e,t,n){e={current:t=Hr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function zs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vs(e,t,n,r,i){var o=n._reactRootContainer;if(o){if("function"==typeof i){var a=i;i=function(){var e=Fs(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new qs(e,!1,t)}(n,r),"function"==typeof i){var s=i;i=function(){var e=Fs(o._internalRoot);s.call(e)}}Ms(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)})}return Fs(o._internalRoot)}function Ws(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return zs(t)||a("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Qe,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ee=function(e,t,n){switch(t){case"input":if(St(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=F(r);i||a("90"),Ve(r),St(r,i)}}}break;case"textarea":Jn(e,n);break;case"select":null!=(t=n.value)&&Qn(e,!!n.multiple,t,!1)}},Us.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Bs;return Ns(e,t,null,n,r._onCommit),r},Us.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Us.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&a("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Rs(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Us.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Bs.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Bs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&a("191",n),n()}}},qs.prototype.render=function(e,t){var n=this._internalRoot,r=new Bs;return null!==(t=void 0===t?null:t)&&r.then(t),Ls(e,n,null,r._onCommit),r},qs.prototype.unmount=function(e){var t=this._internalRoot,n=new Bs;return null!==(e=void 0===e?null:e)&&n.then(e),Ls(null,t,null,n._onCommit),n},qs.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Bs;return null!==(n=void 0===n?null:n)&&i.then(n),Ls(t,r,e,i._onCommit),i},qs.prototype.createBatch=function(){var e=new Us(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Oe=Is,Ie=Ds,Me=function(){is||0===ss||(Ps(ss,!1),ss=0)};var Hs={createPortal:Ws,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return zs(t)||a("200"),Vs(null,e,t,!0,n)},render:function(e,t,n){return zs(t)||a("200"),Vs(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return zs(n)||a("200"),(null==e||void 0===e._reactInternalFiber)&&a("38"),Vs(e,t,n,!1,r)},unmountComponentAtNode:function(e){return zs(e)||a("40"),!!e._reactRootContainer&&(Ms(function(){Vs(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ws.apply(void 0,arguments)},unstable_batchedUpdates:Is,unstable_interactiveUpdates:Ds,flushSync:function(e,t){is&&a("187");var n=ls;ls=!0;try{return Za(e,t)}finally{ls=n,Ps(1073741823,!1)}},unstable_createRoot:function(e,t){return zs(e)||a("299","unstable_createRoot"),new qs(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=ls;ls=!0;try{Za(e)}finally{(ls=t)||is||Ps(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[N,L,F,R.injectEventPluginsByName,b,W,function(e){E(e,V)},Ae,je,Pn,j]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);qr=Vr(function(e){return t.onCommitFiberRoot(n,e)}),zr=Vr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}})(i({},e,{overrideProps:null,currentDispatcherRef:We.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:D,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var Gs={default:Hs},$s=Gs&&Hs||Gs;e.exports=$s.default||$s},function(e,t,n){"use strict";e.exports=n(58)},function(e,t,n){"use strict";(function(e){
/** @license React v0.13.6
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(t,"__esModule",{value:!0});var n=null,r=!1,i=3,o=-1,a=-1,s=!1,c=!1;function u(){if(!s){var e=n.expirationTime;c?_():c=!0,S(p,e)}}function l(){var e=n,t=n.next;if(n===t)n=null;else{var r=n.previous;n=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var o=i,s=a;i=e,a=t;try{var c=r()}finally{i=o,a=s}if("function"==typeof c)if(c={callback:c,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=c.next=c.previous=c;else{r=null,e=n;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==n);null===r?r=n:r===n&&(n=c,u()),(t=r.previous).next=r.previous=c,c.next=r,c.previous=t}}function d(){if(-1===o&&null!==n&&1===n.priorityLevel){s=!0;try{do{l()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?u():c=!1}}}function p(e){s=!0;var i=r;r=e;try{if(e)for(;null!==n;){var o=t.unstable_now();if(!(n.expirationTime<=o))break;do{l()}while(null!==n&&n.expirationTime<=o)}else if(null!==n)do{l()}while(null!==n&&!k())}finally{s=!1,r=i,null!==n?u():c=!1,d()}}var f,h,m=Date,g="function"==typeof setTimeout?setTimeout:void 0,v="function"==typeof clearTimeout?clearTimeout:void 0,b="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,y="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function w(e){f=b(function(t){v(h),e(t)}),h=g(function(){y(f),e(t.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var x=performance;t.unstable_now=function(){return x.now()}}else t.unstable_now=function(){return m.now()};var S,_,k,C=null;if("undefined"!=typeof window?C=window:void 0!==e&&(C=e),C&&C._schedMock){var E=C._schedMock;S=E[0],_=E[1],k=E[2],t.unstable_now=E[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var T=null,P=function(e){if(null!==T)try{T(e)}finally{T=null}};S=function(e){null!==T?setTimeout(S,0,e):(T=e,setTimeout(P,0,!1))},_=function(){T=null},k=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof b&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var R=null,A=!1,j=-1,O=!1,I=!1,M=0,D=33,N=33;k=function(){return M<=t.unstable_now()};var L=new MessageChannel,F=L.port2;L.port1.onmessage=function(){A=!1;var e=R,n=j;R=null,j=-1;var r=t.unstable_now(),i=!1;if(0>=M-r){if(!(-1!==n&&n<=r))return O||(O=!0,w(U)),R=e,void(j=n);i=!0}if(null!==e){I=!0;try{e(i)}finally{I=!1}}};var U=function(e){if(null!==R){w(U);var t=e-M+N;t<N&&D<N?(8>t&&(t=8),N=t<D?D:t):D=t,M=e+N,A||(A=!0,F.postMessage(void 0))}else O=!1};S=function(e,t){R=e,j=t,I||0>t?F.postMessage(void 0):O||(O=!0,w(U))},_=function(){R=null,A=!1,j=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=i,a=o;i=e,o=t.unstable_now();try{return n()}finally{i=r,o=a,d()}},t.unstable_next=function(e){switch(i){case 1:case 2:case 3:var n=3;break;default:n=i}var r=i,a=o;i=n,o=t.unstable_now();try{return e()}finally{i=r,o=a,d()}},t.unstable_scheduleCallback=function(e,r){var a=-1!==o?o:t.unstable_now();if("object"==typeof r&&null!==r&&"number"==typeof r.timeout)r=a+r.timeout;else switch(i){case 1:r=a+-1;break;case 2:r=a+250;break;case 5:r=a+1073741823;break;case 4:r=a+1e4;break;default:r=a+5e3}if(e={callback:e,priorityLevel:i,expirationTime:r,next:null,previous:null},null===n)n=e.next=e.previous=e,u();else{a=null;var s=n;do{if(s.expirationTime>r){a=s;break}s=s.next}while(s!==n);null===a?a=n:a===n&&(n=e,u()),(r=a.previous).next=a.previous=e,e.next=a,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=i;return function(){var r=i,a=o;i=n,o=t.unstable_now();try{return e.apply(this,arguments)}finally{i=r,o=a,d()}}},t.unstable_getCurrentPriorityLevel=function(){return i},t.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<a||k())},t.unstable_continueExecution=function(){null!==n&&u()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(4))},function(e,t,n){"use strict";var r=n(60);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case p:case a:case c:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case f:case u:return e;default:return t}}case g:case m:case o:return t}}}function b(e){return v(e)===p}t.typeOf=v,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=u,t.Element=i,t.ForwardRef=f,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===c||e===s||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f)},t.isAsyncMode=function(e){return b(e)||v(e)===d},t.isConcurrentMode=b,t.isContextConsumer=function(e){return v(e)===l},t.isContextProvider=function(e){return v(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return v(e)===f},t.isFragment=function(e){return v(e)===a},t.isLazy=function(e){return v(e)===g},t.isMemo=function(e){return v(e)===m},t.isPortal=function(e){return v(e)===o},t.isProfiler=function(e){return v(e)===c},t.isStrictMode=function(e){return v(e)===s},t.isSuspense=function(e){return v(e)===h}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){(function(e,n,r,i){(function(t){"use strict";function o(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=e[t+i];return r}var a=function(e){var t=o(arguments,1);return function(){var n=o(arguments);return e.apply(null,t.concat(n))}},s=function(e){return function(){var t=o(arguments),n=t.pop();e.call(this,t,n)}};function c(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var u="function"==typeof e&&e,l="object"==typeof n&&"function"==typeof n.nextTick;function d(e){setTimeout(e,0)}function p(e){return function(t){var n=o(arguments,1);e(function(){t.apply(null,n)})}}var f=p(u?e:l?n.nextTick:d);function h(e){return s(function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}c(r)&&"function"==typeof r.then?r.then(function(e){m(n,null,e)},function(e){m(n,e.message?e:new Error(e))}):n(null,r)})}function m(e,t,n){try{e(t,n)}catch(e){f(g,e)}}function g(e){throw e}var v="function"==typeof Symbol;function b(e){return v&&"AsyncFunction"===e[Symbol.toStringTag]}function y(e){return b(e)?h(e):e}function w(e){return function(t){var n=o(arguments,1),r=s(function(n,r){var i=this;return e(t,function(e,t){y(e).apply(i,n.concat(t))},r)});return n.length?r.apply(this,n):r}}var x="object"==typeof r&&r&&r.Object===Object&&r,S="object"==typeof self&&self&&self.Object===Object&&self,_=x||S||Function("return this")(),k=_.Symbol,C=Object.prototype,E=C.hasOwnProperty,T=C.toString,P=k?k.toStringTag:void 0,R=Object.prototype.toString,A="[object Null]",j="[object Undefined]",O=k?k.toStringTag:void 0;function I(e){return null==e?void 0===e?j:A:O&&O in Object(e)?function(e){var t=E.call(e,P),n=e[P];try{e[P]=void 0;var r=!0}catch(e){}var i=T.call(e);return r&&(t?e[P]=n:delete e[P]),i}(e):function(e){return R.call(e)}(e)}var M="[object AsyncFunction]",D="[object Function]",N="[object GeneratorFunction]",L="[object Proxy]",F=9007199254740991;function U(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=F}function B(e){return null!=e&&U(e.length)&&!function(e){if(!c(e))return!1;var t=I(e);return t==D||t==N||t==M||t==L}(e)}var q={};function z(){}function V(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}var W="function"==typeof Symbol&&Symbol.iterator,H=function(e){return W&&e[W]&&e[W]()};function G(e){return null!=e&&"object"==typeof e}var $="[object Arguments]";function Q(e){return G(e)&&I(e)==$}var Y=Object.prototype,K=Y.hasOwnProperty,J=Y.propertyIsEnumerable,X=Q(function(){return arguments}())?Q:function(e){return G(e)&&K.call(e,"callee")&&!J.call(e,"callee")},Z=Array.isArray,ee="object"==typeof t&&t&&!t.nodeType&&t,te=ee&&"object"==typeof i&&i&&!i.nodeType&&i,ne=te&&te.exports===ee?_.Buffer:void 0,re=(ne?ne.isBuffer:void 0)||function(){return!1},ie=9007199254740991,oe=/^(?:0|[1-9]\d*)$/;function ae(e,t){var n=typeof e;return!!(t=null==t?ie:t)&&("number"==n||"symbol"!=n&&oe.test(e))&&e>-1&&e%1==0&&e<t}var se={};se["[object Float32Array]"]=se["[object Float64Array]"]=se["[object Int8Array]"]=se["[object Int16Array]"]=se["[object Int32Array]"]=se["[object Uint8Array]"]=se["[object Uint8ClampedArray]"]=se["[object Uint16Array]"]=se["[object Uint32Array]"]=!0,se["[object Arguments]"]=se["[object Array]"]=se["[object ArrayBuffer]"]=se["[object Boolean]"]=se["[object DataView]"]=se["[object Date]"]=se["[object Error]"]=se["[object Function]"]=se["[object Map]"]=se["[object Number]"]=se["[object Object]"]=se["[object RegExp]"]=se["[object Set]"]=se["[object String]"]=se["[object WeakMap]"]=!1;var ce,ue="object"==typeof t&&t&&!t.nodeType&&t,le=ue&&"object"==typeof i&&i&&!i.nodeType&&i,de=le&&le.exports===ue&&x.process,pe=function(){try{var e=le&&le.require&&le.require("util").types;return e||de&&de.binding&&de.binding("util")}catch(e){}}(),fe=pe&&pe.isTypedArray,he=fe?(ce=fe,function(e){return ce(e)}):function(e){return G(e)&&U(e.length)&&!!se[I(e)]},me=Object.prototype.hasOwnProperty;function ge(e,t){var n=Z(e),r=!n&&X(e),i=!n&&!r&&re(e),o=!n&&!r&&!i&&he(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!me.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ae(u,c))||s.push(u);return s}var ve=Object.prototype,be=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ye=Object.prototype.hasOwnProperty;function we(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||ve))return be(e);var t,n,r=[];for(var i in Object(e))ye.call(e,i)&&"constructor"!=i&&r.push(i);return r}function xe(e){return B(e)?ge(e):we(e)}function Se(e){if(B(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t,n,r,i,o=H(e);return o?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(o):(n=xe(t=e),r=-1,i=n.length,function(){var e=n[++r];return r<i?{value:t[e],key:e}:null})}function _e(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function ke(e){return function(t,n,r){if(r=V(r||z),e<=0||!t)return r(null);var i=Se(t),o=!1,a=0,s=!1;function c(e,t){if(a-=1,e)o=!0,r(e);else{if(t===q||o&&a<=0)return o=!0,r(null);s||u()}}function u(){for(s=!0;a<e&&!o;){var t=i();if(null===t)return o=!0,void(a<=0&&r(null));a+=1,n(t.value,t.key,_e(c))}s=!1}u()}}function Ce(e,t,n,r){ke(t)(e,y(n),r)}function Ee(e,t){return function(n,r,i){return e(n,t,r,i)}}function Te(e,t,n){n=V(n||z);var r=0,i=0,o=e.length;function a(e,t){e?n(e):++i!==o&&t!==q||n(null)}for(0===o&&n(null);r<o;r++)t(e[r],r,_e(a))}var Pe=Ee(Ce,1/0),Re=function(e,t,n){(B(e)?Te:Pe)(e,y(t),n)};function Ae(e){return function(t,n,r){return e(Re,t,y(n),r)}}function je(e,t,n,r){r=r||z,t=t||[];var i=[],o=0,a=y(n);e(t,function(e,t,n){var r=o++;a(e,function(e,t){i[r]=t,n(e)})},function(e){r(e,i)})}var Oe=Ae(je),Ie=w(Oe);function Me(e){return function(t,n,r,i){return e(ke(n),t,y(r),i)}}var De=Me(je),Ne=Ee(De,1),Le=w(Ne);function Fe(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}var Ue,Be=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[Ue?a:++r];if(!1===t(i[s],s,i))break}return e};function qe(e,t){return e&&Be(e,t,xe)}function ze(e){return e!=e}function Ve(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,ze,n)}var We=function(e,t,n){"function"==typeof t&&(n=t,t=null),n=V(n||z);var r=xe(e).length;if(!r)return n(null);t||(t=r);var i={},a=0,s=!1,c=Object.create(null),u=[],l=[],d={};function p(e,t){u.push(function(){!function(e,t){if(s)return;var r=_e(function(t,r){if(a--,arguments.length>2&&(r=o(arguments,1)),t){var u={};qe(i,function(e,t){u[t]=e}),u[e]=r,s=!0,c=Object.create(null),n(t,u)}else i[e]=r,Fe(c[e]||[],function(e){e()}),f()});a++;var u=y(t[t.length-1]);t.length>1?u(i,r):u(r)}(e,t)})}function f(){if(0===u.length&&0===a)return n(null,i);for(;u.length&&a<t;){u.shift()()}}function h(t){var n=[];return qe(e,function(e,r){Z(e)&&Ve(e,t,0)>=0&&n.push(r)}),n}qe(e,function(t,n){if(!Z(t))return p(n,[t]),void l.push(n);var r=t.slice(0,t.length-1),i=r.length;if(0===i)return p(n,t),void l.push(n);d[n]=i,Fe(r,function(o){if(!e[o])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+o+"` in "+r.join(", "));!function(e,t){var n=c[e];n||(n=c[e]=[]);n.push(t)}(o,function(){0===--i&&p(n,t)})})}),function(){var e,t=0;for(;l.length;)e=l.pop(),t++,Fe(h(e),function(e){0==--d[e]&&l.push(e)});if(t!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),f()};function He(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Ge="[object Symbol]",$e=1/0,Qe=k?k.prototype:void 0,Ye=Qe?Qe.toString:void 0;function Ke(e){if("string"==typeof e)return e;if(Z(e))return He(e,Ke)+"";if(function(e){return"symbol"==typeof e||G(e)&&I(e)==Ge}(e))return Ye?Ye.call(e):"";var t=e+"";return"0"==t&&1/e==-$e?"-0":t}function Je(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}(e,t,n)}var Xe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Ze="[\\ud800-\\udfff]",et="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",tt="\\ud83c[\\udffb-\\udfff]",nt="[^\\ud800-\\udfff]",rt="(?:\\ud83c[\\udde6-\\uddff]){2}",it="[\\ud800-\\udbff][\\udc00-\\udfff]",ot="(?:"+et+"|"+tt+")"+"?",at="[\\ufe0e\\ufe0f]?"+ot+("(?:\\u200d(?:"+[nt,rt,it].join("|")+")[\\ufe0e\\ufe0f]?"+ot+")*"),st="(?:"+[nt+et+"?",et,rt,it,Ze].join("|")+")",ct=RegExp(tt+"(?="+tt+")|"+st+at,"g");function ut(e){return function(e){return Xe.test(e)}(e)?function(e){return e.match(ct)||[]}(e):function(e){return e.split("")}(e)}var lt=/^\s+|\s+$/g;function dt(e,t,n){var r;if((e=null==(r=e)?"":Ke(r))&&(n||void 0===t))return e.replace(lt,"");if(!e||!(t=Ke(t)))return e;var i=ut(e),o=ut(t);return Je(i,function(e,t){for(var n=-1,r=e.length;++n<r&&Ve(t,e[n],0)>-1;);return n}(i,o),function(e,t){for(var n=e.length;n--&&Ve(t,e[n],0)>-1;);return n}(i,o)+1).join("")}var pt=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,ft=/,/,ht=/(=.+)?(\s*)$/,mt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function gt(e,t){var n={};qe(e,function(e,t){var r,i,o=b(e),a=!o&&1===e.length||o&&0===e.length;if(Z(e))r=e.slice(0,-1),e=e[e.length-1],n[t]=r.concat(r.length>0?s:e);else if(a)n[t]=e;else{if(r=i=(i=(i=(i=(i=e).toString().replace(mt,"")).match(pt)[2].replace(" ",""))?i.split(ft):[]).map(function(e){return dt(e.replace(ht,""))}),0===e.length&&!o&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");o||r.pop(),n[t]=r.concat(s)}function s(t,n){var i=He(r,function(e){return t[e]});i.push(n),y(e).apply(null,i)}}),We(n,t)}function vt(){this.head=this.tail=null,this.length=0}function bt(e,t){e.length=1,e.head=e.tail=t}function yt(e,t,n){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=y(e),i=0,o=[],a=!1;function s(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(l.started=!0,Z(e)||(e=[e]),0===e.length&&l.idle())return f(function(){l.drain()});for(var r=0,i=e.length;r<i;r++){var o={data:e[r],callback:n||z};t?l._tasks.unshift(o):l._tasks.push(o)}a||(a=!0,f(function(){a=!1,l.process()}))}function c(e){return function(t){i-=1;for(var n=0,r=e.length;n<r;n++){var a=e[n],s=Ve(o,a,0);0===s?o.shift():s>0&&o.splice(s,1),a.callback.apply(a,arguments),null!=t&&l.error(t,a.data)}i<=l.concurrency-l.buffer&&l.unsaturated(),l.idle()&&l.drain(),l.process()}}var u=!1,l={_tasks:new vt,concurrency:t,payload:n,saturated:z,unsaturated:z,buffer:t/4,empty:z,drain:z,error:z,started:!1,paused:!1,push:function(e,t){s(e,!1,t)},kill:function(){l.drain=z,l._tasks.empty()},unshift:function(e,t){s(e,!0,t)},remove:function(e){l._tasks.remove(e)},process:function(){if(!u){for(u=!0;!l.paused&&i<l.concurrency&&l._tasks.length;){var e=[],t=[],n=l._tasks.length;l.payload&&(n=Math.min(n,l.payload));for(var a=0;a<n;a++){var s=l._tasks.shift();e.push(s),o.push(s),t.push(s.data)}i+=1,0===l._tasks.length&&l.empty(),i===l.concurrency&&l.saturated();var d=_e(c(e));r(t,d)}u=!1}},length:function(){return l._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return l._tasks.length+i===0},pause:function(){l.paused=!0},resume:function(){!1!==l.paused&&(l.paused=!1,f(l.process))}};return l}function wt(e,t){return yt(e,1,t)}vt.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},vt.prototype.empty=function(){for(;this.head;)this.shift();return this},vt.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},vt.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},vt.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):bt(this,e)},vt.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):bt(this,e)},vt.prototype.shift=function(){return this.head&&this.removeLink(this.head)},vt.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},vt.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,n=0;n<this.length;n++)e[n]=t.data,t=t.next;return e},vt.prototype.remove=function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this};var xt=Ee(Ce,1);function St(e,t,n,r){r=V(r||z);var i=y(n);xt(e,function(e,n,r){i(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})}function _t(){var e=He(arguments,y);return function(){var t=o(arguments),n=this,r=t[t.length-1];"function"==typeof r?t.pop():r=z,St(e,t,function(e,t,r){t.apply(n,e.concat(function(e){var t=o(arguments,1);r(e,t)}))},function(e,t){r.apply(n,[e].concat(t))})}}var kt=function(){return _t.apply(null,o(arguments).reverse())},Ct=Array.prototype.concat,Et=function(e,t,n,r){r=r||z;var i=y(n);De(e,t,function(e,t){i(e,function(e){return e?t(e):t(null,o(arguments,1))})},function(e,t){for(var n=[],i=0;i<t.length;i++)t[i]&&(n=Ct.apply(n,t[i]));return r(e,n)})},Tt=Ee(Et,1/0),Pt=Ee(Et,1),Rt=function(){var e=o(arguments),t=[null].concat(e);return function(){return arguments[arguments.length-1].apply(this,t)}};function At(e){return e}function jt(e,t){return function(n,r,i,o){o=o||z;var a,s=!1;n(r,function(n,r,o){i(n,function(r,i){r?o(r):e(i)&&!a?(s=!0,a=t(!0,n),o(null,q)):o()})},function(e){e?o(e):o(null,s?a:t(!1))})}}function Ot(e,t){return t}var It=Ae(jt(At,Ot)),Mt=Me(jt(At,Ot)),Dt=Ee(Mt,1);function Nt(e){return function(t){var n=o(arguments,1);n.push(function(t){var n=o(arguments,1);"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&Fe(n,function(t){console[e](t)}))}),y(t).apply(null,n)}}var Lt=Nt("dir");function Ft(e,t,n){n=_e(n||z);var r=y(e),i=y(t);function a(e){if(e)return n(e);var t=o(arguments,1);t.push(s),i.apply(this,t)}function s(e,t){return e?n(e):t?void r(a):n(null)}s(null,!0)}function Ut(e,t,n){n=_e(n||z);var r=y(e),i=function(e){if(e)return n(e);var a=o(arguments,1);if(t.apply(this,a))return r(i);n.apply(null,[null].concat(a))};r(i)}function Bt(e,t,n){Ut(e,function(){return!t.apply(this,arguments)},n)}function qt(e,t,n){n=_e(n||z);var r=y(t),i=y(e);function o(e){if(e)return n(e);i(a)}function a(e,t){return e?n(e):t?void r(o):n(null)}i(a)}function zt(e){return function(t,n,r){return e(t,r)}}function Vt(e,t,n){Re(e,zt(y(t)),n)}function Wt(e,t,n,r){ke(t)(e,zt(y(n)),r)}var Ht=Ee(Wt,1);function Gt(e){return b(e)?e:s(function(t,n){var r=!0;t.push(function(){var e=arguments;r?f(function(){n.apply(null,e)}):n.apply(null,e)}),e.apply(this,t),r=!1})}function $t(e){return!e}var Qt=Ae(jt($t,$t)),Yt=Me(jt($t,$t)),Kt=Ee(Yt,1);function Jt(e){return function(t){return null==t?void 0:t[e]}}function Xt(e,t,n,r){var i=new Array(t.length);e(t,function(e,t,r){n(e,function(e,n){i[t]=!!n,r(e)})},function(e){if(e)return r(e);for(var n=[],o=0;o<t.length;o++)i[o]&&n.push(t[o]);r(null,n)})}function Zt(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(n,o){n?r(n):(o&&i.push({index:t,value:e}),r())})},function(e){e?r(e):r(null,He(i.sort(function(e,t){return e.index-t.index}),Jt("value")))})}function en(e,t,n,r){(B(t)?Xt:Zt)(e,t,y(n),r||z)}var tn=Ae(en),nn=Me(en),rn=Ee(nn,1);function on(e,t){var n=_e(t||z),r=y(Gt(e));!function e(t){if(t)return n(t);r(e)}()}var an=function(e,t,n,r){r=r||z;var i=y(n);De(e,t,function(e,t){i(e,function(n,r){return n?t(n):t(null,{key:r,val:e})})},function(e,t){for(var n={},i=Object.prototype.hasOwnProperty,o=0;o<t.length;o++)if(t[o]){var a=t[o].key,s=t[o].val;i.call(n,a)?n[a].push(s):n[a]=[s]}return r(e,n)})},sn=Ee(an,1/0),cn=Ee(an,1),un=Nt("log");function ln(e,t,n,r){r=V(r||z);var i={},o=y(n);Ce(e,t,function(e,t,n){o(e,t,function(e,r){if(e)return n(e);i[t]=r,n()})},function(e){r(e,i)})}var dn=Ee(ln,1/0),pn=Ee(ln,1);function fn(e,t){return t in e}function hn(e,t){var n=Object.create(null),r=Object.create(null);t=t||At;var i=y(e),a=s(function(e,a){var s=t.apply(null,e);fn(n,s)?f(function(){a.apply(null,n[s])}):fn(r,s)?r[s].push(a):(r[s]=[a],i.apply(null,e.concat(function(){var e=o(arguments);n[s]=e;var t=r[s];delete r[s];for(var i=0,a=t.length;i<a;i++)t[i].apply(null,e)})))});return a.memo=n,a.unmemoized=e,a}var mn=p(l?n.nextTick:u?e:d);function gn(e,t,n){n=n||z;var r=B(t)?[]:{};e(t,function(e,t,n){y(e)(function(e,i){arguments.length>2&&(i=o(arguments,1)),r[t]=i,n(e)})},function(e){n(e,r)})}function vn(e,t){gn(Re,e,t)}function bn(e,t,n){gn(ke(t),e,n)}var yn=function(e,t){var n=y(e);return yt(function(e,t){n(e[0],t)},t,1)},wn=function(e,t){var n=yn(e,t);return n.push=function(e,t,r){if(null==r&&(r=z),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,Z(e)||(e=[e]),0===e.length)return f(function(){n.drain()});t=t||0;for(var i=n._tasks.head;i&&t>=i.priority;)i=i.next;for(var o=0,a=e.length;o<a;o++){var s={data:e[o],priority:t,callback:r};i?n._tasks.insertBefore(i,s):n._tasks.push(s)}f(n.process)},delete n.unshift,n};function xn(e,t){if(t=V(t||z),!Z(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)y(e[n])(t)}function Sn(e,t,n,r){St(o(e).reverse(),t,n,r)}function _n(e){var t=y(e);return s(function(e,n){return e.push(function(e,t){var r;e?n(null,{error:e}):(r=arguments.length<=2?t:o(arguments,1),n(null,{value:r}))}),t.apply(this,e)})}function kn(e){var t;return Z(e)?t=He(e,_n):(t={},qe(e,function(e,n){t[n]=_n.call(this,e)})),t}function Cn(e,t,n,r){en(e,t,function(e,t){n(e,function(e,n){t(e,!n)})},r)}var En=Ae(Cn),Tn=Me(Cn),Pn=Ee(Tn,1);function Rn(e){return function(){return e}}function An(e,t,n){var r=5,i=0,o={times:r,intervalFunc:Rn(i)};if(arguments.length<3&&"function"==typeof e?(n=t||z,t=e):(!function(e,t){if("object"==typeof t)e.times=+t.times||r,e.intervalFunc="function"==typeof t.interval?t.interval:Rn(+t.interval||i),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||r}}(o,e),n=n||z),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var a=y(t),s=1;!function e(){a(function(t){t&&s++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(t))?setTimeout(e,o.intervalFunc(s)):n.apply(null,arguments)})}()}var jn=function(e,t){t||(t=e,e=null);var n=y(t);return s(function(t,r){function i(e){n.apply(null,t.concat(e))}e?An(e,i,r):An(i,r)})};function On(e,t){gn(xt,e,t)}var In=Ae(jt(Boolean,At)),Mn=Me(jt(Boolean,At)),Dn=Ee(Mn,1);function Nn(e,t,n){var r=y(t);function i(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}Oe(e,function(e,t){r(e,function(n,r){if(n)return t(n);t(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);n(null,He(t.sort(i),Jt("value")))})}function Ln(e,t,n){var r=y(e);return s(function(i,o){var a,s=!1;i.push(function(){s||(o.apply(null,arguments),clearTimeout(a))}),a=setTimeout(function(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),s=!0,o(r)},t),r.apply(null,i)})}var Fn=Math.ceil,Un=Math.max;function Bn(e,t,n,r){var i=y(n);De(function(e,t,n,r){for(var i=-1,o=Un(Fn((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}(0,e,1),t,i,r)}var qn=Ee(Bn,1/0),zn=Ee(Bn,1);function Vn(e,t,n,r){arguments.length<=3&&(r=n,n=t,t=Z(e)?[]:{}),r=V(r||z);var i=y(n);Re(e,function(e,n,r){i(t,e,n,r)},function(e){r(e,t)})}function Wn(e,t){var n,r=null;t=t||z,Ht(e,function(e,t){y(e)(function(e,i){n=arguments.length>2?o(arguments,1):i,r=e,t(!e)})},function(){t(r,n)})}function Hn(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function Gn(e,t,n){n=_e(n||z);var r=y(t);if(!e())return n(null);var i=function(t){if(t)return n(t);if(e())return r(i);var a=o(arguments,1);n.apply(null,[null].concat(a))};r(i)}function $n(e,t,n){Gn(function(){return!e.apply(this,arguments)},t,n)}var Qn=function(e,t){if(t=V(t||z),!Z(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function r(t){var r=y(e[n++]);t.push(_e(i)),r.apply(null,t)}function i(i){if(i||n===e.length)return t.apply(null,arguments);r(o(arguments,1))}r([])},Yn={apply:a,applyEach:Ie,applyEachSeries:Le,asyncify:h,auto:We,autoInject:gt,cargo:wt,compose:kt,concat:Tt,concatLimit:Et,concatSeries:Pt,constant:Rt,detect:It,detectLimit:Mt,detectSeries:Dt,dir:Lt,doDuring:Ft,doUntil:Bt,doWhilst:Ut,during:qt,each:Vt,eachLimit:Wt,eachOf:Re,eachOfLimit:Ce,eachOfSeries:xt,eachSeries:Ht,ensureAsync:Gt,every:Qt,everyLimit:Yt,everySeries:Kt,filter:tn,filterLimit:nn,filterSeries:rn,forever:on,groupBy:sn,groupByLimit:an,groupBySeries:cn,log:un,map:Oe,mapLimit:De,mapSeries:Ne,mapValues:dn,mapValuesLimit:ln,mapValuesSeries:pn,memoize:hn,nextTick:mn,parallel:vn,parallelLimit:bn,priorityQueue:wn,queue:yn,race:xn,reduce:St,reduceRight:Sn,reflect:_n,reflectAll:kn,reject:En,rejectLimit:Tn,rejectSeries:Pn,retry:An,retryable:jn,seq:_t,series:On,setImmediate:f,some:In,someLimit:Mn,someSeries:Dn,sortBy:Nn,timeout:Ln,times:qn,timesLimit:Bn,timesSeries:zn,transform:Vn,tryEach:Wn,unmemoize:Hn,until:$n,waterfall:Qn,whilst:Gn,all:Qt,allLimit:Yt,allSeries:Kt,any:In,anyLimit:Mn,anySeries:Dn,find:It,findLimit:Mt,findSeries:Dt,forEach:Vt,forEachSeries:Ht,forEachLimit:Wt,forEachOf:Re,forEachOfSeries:xt,forEachOfLimit:Ce,inject:St,foldl:St,foldr:Sn,select:tn,selectLimit:nn,selectSeries:rn,wrapSync:h};t.default=Yn,t.apply=a,t.applyEach=Ie,t.applyEachSeries=Le,t.asyncify=h,t.auto=We,t.autoInject=gt,t.cargo=wt,t.compose=kt,t.concat=Tt,t.concatLimit=Et,t.concatSeries=Pt,t.constant=Rt,t.detect=It,t.detectLimit=Mt,t.detectSeries=Dt,t.dir=Lt,t.doDuring=Ft,t.doUntil=Bt,t.doWhilst=Ut,t.during=qt,t.each=Vt,t.eachLimit=Wt,t.eachOf=Re,t.eachOfLimit=Ce,t.eachOfSeries=xt,t.eachSeries=Ht,t.ensureAsync=Gt,t.every=Qt,t.everyLimit=Yt,t.everySeries=Kt,t.filter=tn,t.filterLimit=nn,t.filterSeries=rn,t.forever=on,t.groupBy=sn,t.groupByLimit=an,t.groupBySeries=cn,t.log=un,t.map=Oe,t.mapLimit=De,t.mapSeries=Ne,t.mapValues=dn,t.mapValuesLimit=ln,t.mapValuesSeries=pn,t.memoize=hn,t.nextTick=mn,t.parallel=vn,t.parallelLimit=bn,t.priorityQueue=wn,t.queue=yn,t.race=xn,t.reduce=St,t.reduceRight=Sn,t.reflect=_n,t.reflectAll=kn,t.reject=En,t.rejectLimit=Tn,t.rejectSeries=Pn,t.retry=An,t.retryable=jn,t.seq=_t,t.series=On,t.setImmediate=f,t.some=In,t.someLimit=Mn,t.someSeries=Dn,t.sortBy=Nn,t.timeout=Ln,t.times=qn,t.timesLimit=Bn,t.timesSeries=zn,t.transform=Vn,t.tryEach=Wn,t.unmemoize=Hn,t.until=$n,t.waterfall=Qn,t.whilst=Gn,t.all=Qt,t.allLimit=Yt,t.allSeries=Kt,t.any=In,t.anyLimit=Mn,t.anySeries=Dn,t.find=It,t.findLimit=Mt,t.findSeries=Dt,t.forEach=Vt,t.forEachSeries=Ht,t.forEachLimit=Wt,t.forEachOf=Re,t.forEachOfSeries=xt,t.forEachOfLimit=Ce,t.inject=St,t.foldl=St,t.foldr=Sn,t.select=tn,t.selectLimit=nn,t.selectSeries=rn,t.wrapSync=h,Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(this,n(64).setImmediate,n(5),n(4),n(29)(e))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(65),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(4))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,c=1,u={},l=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){h(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[c]=i,r(c),c++},p.clearImmediate=f}function f(e){delete u[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{f(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(4),n(5))},function(e,t,n){var r,i,o=n(31),a=n(32),s=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],d=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==p){var f=o();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=i=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:c+1,g=h-s+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=m,i=p;var v=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;l[u++]=v>>>24&255,l[u++]=v>>>16&255,l[u++]=v>>>8&255,l[u++]=255&v;var b=h/4294967296*1e4&268435455;l[u++]=b>>>8&255,l[u++]=255&b,l[u++]=b>>>24&15|16,l[u++]=b>>>16&255,l[u++]=p>>>8|128,l[u++]=255&p;for(var y=0;y<6;++y)l[u+y]=d[y];return t||a(l)}},function(e,t,n){var r=n(31),i=n(32);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=u(e),r=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),c=0,l=a>0?r-4:r,d=0;d<l;d+=4)t=i[e.charCodeAt(d)]<<18|i[e.charCodeAt(d+1)]<<12|i[e.charCodeAt(d+2)]<<6|i[e.charCodeAt(d+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;2===a&&(t=i[e.charCodeAt(d)]<<2|i[e.charCodeAt(d+1)]>>4,s[c++]=255&t);1===a&&(t=i[e.charCodeAt(d)]<<10|i[e.charCodeAt(d+1)]<<4|i[e.charCodeAt(d+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?i-1:0,p=n?-1:1,f=e[t+d];for(d+=p,o=f&(1<<-l)-1,f>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=p,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=p,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+f]=255&a,f+=h,a/=256,u-=8);e[n+f-h]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(2).__importStar(n(16)),i=r.find,o=r.createElement,a=t.field=function(e,t){return function(){const n=Array.prototype.slice.call(arguments);return{get:function(){return e.apply(null,[this.xml].concat(n))},set:function(e){t.apply(null,[this.xml].concat(n).concat([e]))}}}};t.boolAttribute=a(r.getBoolAttribute,r.setBoolAttribute),t.subAttribute=a(r.getSubAttribute,r.setSubAttribute),t.boolSubAttribute=a(r.getSubBoolAttribute,r.setSubBoolAttribute),t.text=a(r.getText,r.setText),t.subText=a(r.getSubText,r.setSubText),t.textSub=t.subText,t.multiTextSub=t.multiSubText=a(r.getMultiSubText,r.setMultiSubText),t.multiSubAttribute=a(r.getMultiSubAttribute,r.setMultiSubAttribute),t.subLangText=a(r.getSubLangText,r.setSubLangText),t.langTextSub=t.subLangText,t.boolSub=a(r.getBoolSub,r.setBoolSub),t.langAttribute=a(function(e){return e.getAttributeNS(r.XML_NS,"lang")||""},function(e,t){e.setAttributeNS(r.XML_NS,"lang",t)}),t.b64Text=a(function(t){return t.textContent&&"="!==t.textContent?e.from(t.textContent,"base64"):""},function(t,n){if("string"==typeof n){const r=e.from(n).toString("base64");t.textContent=r||"="}else t.textContent=""}),t.dateAttribute=function(e,t){return{get:function(){const n=r.getAttribute(this.xml,e);return n?new Date(n):t?new Date(Date.now()):void 0},set:function(t){t&&("string"!=typeof t&&(t=t.toISOString()),r.setAttribute(this.xml,e,t))}}},t.dateSub=function(e,t,n){return{get:function(){const i=r.getSubText(this.xml,e,t);return i?new Date(i):n?new Date(Date.now()):void 0},set:function(n){n&&("string"!=typeof n&&(n=n.toISOString()),r.setSubText(this.xml,e,t,n))}}},t.dateSubAttribute=function(e,t,n,i){return{get:function(){const o=r.getSubAttribute(this.xml,e,t,n);return o?new Date(o):i?new Date(Date.now()):void 0},set:function(i){i&&("string"!=typeof i&&(i=i.toISOString()),r.setSubAttribute(this.xml,e,t,n,i))}}},t.numberAttribute=function(e,t,n){return{get:function(){const i=t?parseFloat:parseInt,o=r.getAttribute(this.xml,e,"");if(!o)return n;const a=i(o,10);return isNaN(a)?n:a},set:function(t){r.setAttribute(this.xml,e,t.toString())}}},t.numberSub=function(e,t,n,i){return{get:function(){const o=n?parseFloat:parseInt,a=r.getSubText(this.xml,e,t,"");if(!a)return i;const s=o(a,10);return isNaN(s)?i:s},set:function(n){r.setSubText(this.xml,e,t,n.toString())}}},t.numberSubAttribute=function(e,t,n,i,o){return{get:function(){const a=i?parseFloat:parseInt,s=r.getSubAttribute(this.xml,e,t,n,"");if(!s)return o;const c=a(s,10);return isNaN(c)?o:c},set:function(i){r.setSubAttribute(this.xml,e,t,n,i.toString())}}},t.attribute=function(e,t){return{get:function(){return r.getAttribute(this.xml,e,t)},set:function(t){r.setAttribute(this.xml,e,t)}}},t.attributeNS=function(e,t,n){return{get:function(){return r.getAttributeNS(this.xml,e,t,n)},set:function(n){r.setAttributeNS(this.xml,e,t,n)}}},t.extension=function(e){return{get:function(){const t=this,n=e.prototype._name;if(!this._extensions[n]){const r=i(this.xml,e.prototype._NS,e.prototype._EL);r.length?this._extensions[n]=new e(null,r[0],t):(this._extensions[n]=new e({},null,t),this.xml.appendChild(this._extensions[n].xml)),this._extensions[n].parent=this}return this._extensions[n]},set:function(t){if(t){const n=this[e.prototype._name];!0===t&&(t={}),Object.assign(n,t)}}}},t.multiExtension=function(e){return{get:function(){const t=this,n=i(this.xml,e.prototype._NS,e.prototype._EL),r=[];for(let i=0,o=n.length;i<o;i++)r.push(new e({},n[i],t));return r},set:function(t){t=t||[];const n=this,r=i(this.xml,e.prototype._NS,e.prototype._EL);let o,a;for(o=0,a=r.length;o<a;o++)n.xml.removeChild(r[o]);for(o=0,a=t.length;o<a;o++){const r=new e(t[o],null,n);n.xml.appendChild(r.xml)}}}},t.enumSub=function(e,t){return{get:function(){const n=this,r=[];return t.forEach(function(t){const o=i(n.xml,e,t);o.length&&r.push(o[0].nodeName)}),r[0]||""},set:function(n){const r=this;let a=!1;if(t.forEach(function(t){const o=i(r.xml,e,t);o.length&&(t===n?a=!0:r.xml.removeChild(o[0]))}),n&&!a){const t=o(e,n);this.xml.appendChild(t)}}}},t.subExtension=function(e,t,n,r){return{get:function(){if(!this._extensions[e]){let a=i(this.xml,t,n);a.length?a=a[0]:(a=o(t,n,this._NS),this.xml.appendChild(a));const s=i(a,r.prototype._NS,r.prototype._EL);s.length?this._extensions[e]=new r(null,s[0],{xml:a}):(this._extensions[e]=new r({},null,{xml:a}),a.appendChild(this._extensions[e].xml)),this._extensions[e].parent=this}return this._extensions[e]},set:function(r){const o=i(this.xml,t,n);if(o.length&&!r&&this.xml.removeChild(o[0]),r){const t=this[e];!0===r&&(r={}),Object.assign(t,r)}}}},t.subMultiExtension=function(e,t,n){return{get:function(){const r=this,o=[];let a=i(this.xml,e,t);return a.length?(a=a[0],i(a,n.prototype._NS,n.prototype._EL).forEach(function(e){o.push(new n({},e,r))}),o):o},set:function(r){const a=this;let s=i(this.xml,e,t);s.length&&a.xml.removeChild(s[0]),r.length&&(s=o(e,t,this._NS),r.forEach(function(t){const r=new n(t,null,{xml:{namespaceURI:e}});s.appendChild(r.xml)}),a.xml.appendChild(s))}}}}).call(this,n(10).Buffer)},function(e,t,n){"use strict";var r=n(73);e.exports=function(e,t){var n;n="function"==typeof t?new t:new r(t);var i=null,o=null;if(n.on("tree",function(e){i=e}),n.on("error",function(e){o=e}),n.write(e),n.end(),o)throw o;return i}},function(e,t,n){"use strict";var r=n(6).EventEmitter,i=n(8),o=n(33),a=n(76),s=function(e){r.call(this);var t,n=this.Parser=e&&e.Parser||this.DefaultParser,i=this.Element=e&&e.Element||this.DefaultElement;this.parser=new n;var o=this;this.parser.on("startElement",function(e,n){var r=new i(e,n);t=t?t.cnode(r):r}),this.parser.on("endElement",function(e){t&&e===t.name&&(t.parent?t=t.parent:o.tree||(o.tree=t,t=void 0))}),this.parser.on("text",function(e){t&&t.t(e)}),this.parser.on("error",function(e){o.error=e,o.emit("error",e)})};i(s,r),s.prototype.DefaultParser=a,s.prototype.DefaultElement=o,s.prototype.write=function(e){this.parser.write(e)},s.prototype.end=function(e){this.parser.end(e),this.error||(this.tree?this.emit("tree",this.tree):this.emit("error",new Error("Incomplete document")))},e.exports=s},function(e,t,n){"use strict";function r(e,t){return e.name===t.name}function i(e,t){var n=e.attrs,r=Object.keys(n),i=r.length;if(i!==Object.keys(t.attrs).length)return!1;for(var o=0,a=i;o<a;o++){var s=r[o],c=n[s];if(null==c||null==t.attrs[s]){if(c!==t.attrs[s])return!1}else if(c.toString()!==t.attrs[s].toString())return!1}return!0}function o(e,t){var n=e.children,r=n.length;if(r!==t.children.length)return!1;for(var i=0,o=r;i<o;i++){var a=n[i];if("string"==typeof a){if(a!==t.children[i])return!1}else if(!a.equals(t.children[i]))return!1}return!0}e.exports.name=r,e.exports.attrs=i,e.exports.children=o,e.exports.equal=function(e,t){return!!r(e,t)&&!!i(e,t)&&!!o(e,t)}},function(e,t,n){"use strict";e.exports=function(e){for(var t=new e.constructor(e.name,e.attrs),n=0;n<e.children.length;n++){var r=e.children[n];t.cnode(r.clone?r.clone():r)}return t}},function(e,t,n){"use strict";var r=n(8),i=n(6).EventEmitter,o=n(34).unescapeXML,a=e.exports=function(){i.call(this);var e,t,n,r,a,s,c,u,l=0,d=0;this._handleTagOpening=function(e,t,n){e?this.emit("endElement",t):(this.emit("startElement",t,n),a&&this.emit("endElement",t))},this.write=function(i){"string"!=typeof i&&(i=i.toString());var p=0;function f(){if("number"==typeof d){var e=i.substring(d,p);return d=void 0,e}}for(e&&(i=e+i,p+=e.length,e=null);p<i.length;p++){if(0===l){var h=i.indexOf("<",p);-1!==h&&p!==h&&(p=h)}else if(8===l){var m=i.indexOf(c,p);-1!==m&&(p=m)}else if(1===l){var g=i.indexOf("--\x3e",p);-1!==g&&(p=g+2)}var v=i.charCodeAt(p);switch(l){case 0:if(60===v){var b=f();b&&this.emit("text",o(b)),l=3,d=p+1,n={}}break;case 9:if(93===v&&"]>"===i.substr(p+1,2)){var y=f();y&&this.emit("text",y),l=1}break;case 3:47===v&&d===p?(d=p+1,r=!0):33===v?"[CDATA["===i.substr(p+1,7)?(d=p+8,l=9):(d=void 0,l=1):63===v?(d=void 0,l=2):(v<=32||47===v||62===v)&&(t=f(),p--,l=4);break;case 1:if(62===v){var w=i.charCodeAt(p-1),x=i.charCodeAt(p-2);(45===w&&45===x||93===w&&93===x)&&(l=0)}break;case 2:if(62===v)63===i.charCodeAt(p-1)&&(l=0);break;case 4:62===v?(this._handleTagOpening(r,t,n),t=void 0,n=void 0,r=void 0,a=void 0,l=0,d=p+1):47===v?a=!0:v>32&&(d=p,l=5);break;case 5:(v<=32||61===v)&&(u=f(),p--,l=6);break;case 6:61===v&&(l=7);break;case 7:34!==v&&39!==v||(s=v,c=34===v?'"':"'",l=8,d=p+1);break;case 8:if(v===s){var S=o(f());n[u]=S,u=void 0,l=4}}}"number"==typeof d&&d<=i.length&&(e=i.slice(d),d=0)}};r(a,i),a.prototype.end=function(e){e&&this.write(e),this.write=function(){}}},function(e,t,n){"use strict";var r=n(8),i=n(33);function o(e,t){i.call(this,e,t),this.nodeType=1,this.nodeName=this.localName}r(o,i),o.prototype._getElement=function(e,t){return new o(e,t)},Object.defineProperty(o.prototype,"localName",{get:function(){return this.getName()}}),Object.defineProperty(o.prototype,"namespaceURI",{get:function(){return this.getNS()}}),Object.defineProperty(o.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(o.prototype,"childNodes",{get:function(){return this.children}}),Object.defineProperty(o.prototype,"textContent",{get:function(){return this.getText()},set:function(e){this.children.push(e)}}),o.prototype.getElementsByTagName=function(e){return this.getChildren(e)},o.prototype.getAttribute=function(e){return this.getAttr(e)},o.prototype.setAttribute=function(e,t){this.attr(e,t)},o.prototype.getAttributeNS=function(e,t){return"http://www.w3.org/XML/1998/namespace"===e?this.getAttr(["xml",t].join(":")):this.getAttr(t,e)},o.prototype.setAttributeNS=function(e,t,n){var r;"http://www.w3.org/XML/1998/namespace"===e?r="xml":r=this.getXmlns()[e]||"";r&&this.attr([r,t].join(":"),n)},o.prototype.removeAttribute=function(e){this.attr(e,null)},o.prototype.removeAttributeNS=function(e,t){var n;"http://www.w3.org/XML/1998/namespace"===e?n="xml":n=this.getXmlns()[e]||"";n&&this.attr([n,t].join(":"),null)},o.prototype.appendChild=function(e){this.cnode(e)},o.prototype.removeChild=function(e){this.remove(e)},o.createElement=function(e,t){var n=new o(e,t);return Array.prototype.slice.call(arguments,2).forEach(function(e){n.appendChild(e)}),n},e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2).__importStar(n(16)),i={constructor:!0,parent:!0,prototype:!0,toJSON:!0,toString:!0,xml:!0};t.default=function(e,t){class n{constructor(n,i,o){const a=this,s=((i||{}).parentNode||(o||{}).xml||{}).namespaceURI;a.xml=i||r.createElement(a._NS,a._EL,s),Object.keys(a._PREFIXES).forEach(function(e){const t=a._PREFIXES[e];a.xml.setAttribute("xmlns:"+e,t)}),a._extensions={};for(let t=0,n=a.xml.childNodes.length;t<n;t++){const n=a.xml.childNodes[t],r=e.getDefinition(n.localName,n.namespaceURI);if(void 0!==r){const e=r.prototype._name;a._extensions[e]=new r(null,n),a._extensions[e].parent=a}}const c=Object.getPrototypeOf(a);for(const e of Object.keys(n||{})){const t=Object.getOwnPropertyDescriptor(c,e);t.set&&t.set.call(a,n[e])}return t.init&&t.init.apply(a,[n]),a}toString(){return this.xml.toString()}toJSON(){let t;const n={};for(t of Object.keys(this._extensions))this._extensions[t].toJSON&&"_"!==t[0]&&(n[t]=this._extensions[t].toJSON());for(t in this){const r=!i[t]&&"_"!==t[0],o=e.getExtensions(this._EL,this._NS)[t];if(r&&!o){const e=this[t];if("function"==typeof e)continue;const r=Object.prototype.toString.call(e);if(r.indexOf("Object")>=0)Object.keys(e).length>0&&(e._isJXT?n[t]=e.toJSON():n[t]=e);else if(r.indexOf("Array")>=0){if(e.length>0){const r=[],i=e.length;for(let t=0;t<i;t++){const n=e[t];void 0!==n&&(n._isJXT?r.push(n.toJSON()):r.push(n))}n[t]=r}}else void 0!==e&&!1!==e&&""!==e&&(n[t]=e)}}return n}}return n.prototype._isJXT=!0,n.prototype._name=t.name,n.prototype._eventname=t.eventName,n.prototype._NS=t.namespace,n.prototype._EL=t.element||t.name,n.prototype._PREFIXES=t.prefixes||{},n.prototype._TAGS=t.tags||[],n}},function(e,t){},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(10).Buffer,o=n(81).inspect,a=o&&o.custom||"inspect";e.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},t.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},t.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},t.clear=function(){this.head=this.tail=null,this.length=0},t.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},t.concat=function(e){if(0===this.length)return i.alloc(0);for(var t,n,r,o=i.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,r=s,i.prototype.copy.call(t,n,r),s+=a.data.length,a=a.next;return o},t.consume=function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n},t.first=function(){return this.head.data},t._getString=function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r},t._getBuffer=function(e){var t=i.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,a),0===(e-=a)){a===o.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++r}return this.length-=r,t},t[a]=function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}({},t,{depth:0,customInspect:!1}))},e}()},function(e,t){},function(e,t,n){"use strict";(function(t){var n=new Set;e.exports.emitExperimentalWarning=t.emitWarning?function(e){if(!n.has(e)){var r=e+" is an experimental feature. This feature could change at any time";n.add(e),t.emitWarning(r,"ExperimentalWarning")}}:function(){}}).call(this,n(5))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(4))},function(e,t,n){var r=n(10),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(17),a=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function f(e,t){return{value:e,done:t}}function h(e){var t=e[a];if(null!==t){var n=e[p].read();null!==n&&(e[l]=null,e[a]=null,e[s]=null,t(f(n,!1)))}}var m=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((i(r={get stream(){return this[p]},next:function(){var e=this,n=this[c];if(null!==n)return Promise.reject(n);if(this[u])return Promise.resolve(f(void 0,!0));if(this[p].destroyed)return new Promise(function(n,r){t.nextTick(function(){e[c]?r(e[c]):n(f(void 0,!0))})});var r,i=this[l];if(i)r=new Promise(function(e,t){return function(n,r){e.then(function(){t[u]?n(f(void 0,!0)):t[d](n,r)},r)}}(i,this));else{var o=this[p].read();if(null!==o)return Promise.resolve(f(o,!1));r=new Promise(this[d])}return this[l]=r,r}},Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var e=this;return new Promise(function(t,n){e[p].destroy(null,function(e){e?n(e):t(f(void 0,!0))})})}),r),m);e.exports=function(e){var n,r=Object.create(g,(i(n={},p,{value:e,writable:!0}),i(n,a,{value:null,writable:!0}),i(n,s,{value:null,writable:!0}),i(n,c,{value:null,writable:!0}),i(n,u,{value:e._readableState.endEmitted,writable:!0}),i(n,d,{value:function(e,t){var n=r[p].read();n?(r[l]=null,r[a]=null,r[s]=null,e(f(n,!1))):(r[a]=e,r[s]=t)},writable:!0}),n));return r[l]=null,o(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[l]=null,r[a]=null,r[s]=null,t(e)),void(r[c]=e)}var n=r[a];null!==n&&(r[l]=null,r[a]=null,r[s]=null,n(f(void 0,!0))),r[u]=!0}),e.on("readable",function(e){t.nextTick(h,e)}.bind(null,r)),r}}).call(this,n(5))},function(e,t,n){"use strict";e.exports=i;var r=n(41);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(8)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r;var i=n(11).codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,d=function(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var p=t.map(function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",function(){s=!0}),void 0===r&&(r=n(17)),r(e,{readable:t,writable:i},function(e){if(e)return o(e);s=!0,o()});var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}(e,o,i>0,function(e){l||(l=e),e&&p.forEach(c),o||(p.forEach(c),d(l))})});return t.reduce(u)}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"shimGetUserMedia",function(){return D}),n.d(r,"shimGetDisplayMedia",function(){return N}),n.d(r,"shimMediaStream",function(){return L}),n.d(r,"shimOnTrack",function(){return F}),n.d(r,"shimGetSendersWithDtmf",function(){return U}),n.d(r,"shimGetStats",function(){return B}),n.d(r,"shimSenderReceiverGetStats",function(){return q}),n.d(r,"shimAddTrackRemoveTrackWithNative",function(){return z}),n.d(r,"shimAddTrackRemoveTrack",function(){return V}),n.d(r,"shimPeerConnection",function(){return W}),n.d(r,"fixNegotiationNeeded",function(){return H});var i={};n.r(i),n.d(i,"shimGetUserMedia",function(){return Q}),n.d(i,"shimGetDisplayMedia",function(){return Y}),n.d(i,"shimPeerConnection",function(){return K}),n.d(i,"shimReplaceTrack",function(){return J});var o={};n.r(o),n.d(o,"shimGetUserMedia",function(){return X}),n.d(o,"shimGetDisplayMedia",function(){return Z}),n.d(o,"shimOnTrack",function(){return ee}),n.d(o,"shimPeerConnection",function(){return te}),n.d(o,"shimSenderGetStats",function(){return ne}),n.d(o,"shimReceiverGetStats",function(){return re}),n.d(o,"shimRemoveStream",function(){return ie}),n.d(o,"shimRTCDataChannel",function(){return oe});var a={};n.r(a),n.d(a,"shimLocalStreamsAPI",function(){return ae}),n.d(a,"shimRemoteStreamsAPI",function(){return se}),n.d(a,"shimCallbacksAPI",function(){return ce}),n.d(a,"shimGetUserMedia",function(){return ue}),n.d(a,"shimConstraints",function(){return le}),n.d(a,"shimRTCIceServerUrls",function(){return de}),n.d(a,"shimTrackEventTransceiver",function(){return pe}),n.d(a,"shimCreateOfferLegacy",function(){return fe});var s={};n.r(s),n.d(s,"shimRTCIceCandidate",function(){return ge}),n.d(s,"shimMaxMessageSize",function(){return ve}),n.d(s,"shimSendThrowTypeError",function(){return be}),n.d(s,"shimConnectionState",function(){return ye}),n.d(s,"removeAllowExtmapMixed",function(){return we});var c=n(19),u=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function d(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function p(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(p)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var i=e,o=t,a=[],s=a,u=!1;function f(){s===a&&(s=a.slice())}function h(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return f(),s.push(e),function(){if(t){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,f();var n=s.indexOf(e);s.splice(n,1)}}}function g(e){if(!d(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return g({type:l.INIT}),(r={dispatch:g,subscribe:m,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,g({type:l.REPLACE})}})[c.a]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[c.a]=function(){return this},e},r}function f(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function h(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:l.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+l.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var c=a[s],u=n[c],l=e[c],d=u(l,t);if(void 0===d){var p=f(c,t);throw new Error(p)}i[c]=d,r=r||d!==l}return r?i:e}}function m(e,t){return function(){return t(e.apply(this,arguments))}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map(function(e){return e(i)});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){g(e,t,n[t])})}return e}({},n,{dispatch:r=v.apply(void 0,o)(n.dispatch)})}}}function y(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var w=y();w.withExtraArgument=y;var x=w;let S=!0,_=!0;function k(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function C(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);const o=e=>{const t=n(e);t&&r(t)};return this._eventMap=this._eventMap||{},this._eventMap[r]=o,i.apply(this,[e,o])};const o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return o.apply(this,arguments);const r=this._eventMap[n];return delete this._eventMap[n],o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function E(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(S=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function T(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(_=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function P(){if("object"==typeof window){if(S)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function R(e,t){_&&console.warn(e+" is deprecated, please use "+t+" instead.")}function A(e){const{navigator:t}=e,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=k(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)n.browser="chrome",n.version=k(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=k(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=k(t.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return n}function j(e){return"[object Object]"===Object.prototype.toString.call(e)}function O(e){return j(e)?Object.keys(e).reduce(function(t,n){const r=j(e[n]),i=r?O(e[n]):e[n],o=r&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,{[n]:i})},{}):e}function I(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;const o=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)}),o.forEach(t=>{e.forEach(n=>{n.type===r&&n.trackId===t.id&&function e(t,n,r){n&&!r.has(n.id)&&(r.set(n.id,n),Object.keys(n).forEach(i=>{i.endsWith("Id")?e(t,t.get(n[i]),r):i.endsWith("Ids")&&n[i].forEach(n=>{e(t,t.get(n),r)})}))}(e,n,i)})}),i}const M=P;function D(e){const t=e&&e.navigator;if(!t.mediaDevices)return;const n=A(e),r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach(n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);const i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"==typeof r.ideal?(e[i("min",n)]=r.ideal,t.optional.push(e),(e={})[i("max",n)]=r.ideal,t.optional.push(e)):(e[i("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach(e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(n.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){let o=e.video.facingMode;o=o&&("object"==typeof o?o:{ideal:o});const a=n.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||a)){let n;if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?n=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(n=["front"]),n)return t.mediaDevices.enumerateDevices().then(t=>{let a=(t=t.filter(e=>"videoinput"===e.kind)).find(e=>n.some(t=>e.label.toLowerCase().includes(t)));return!a&&t.length&&n.includes("back")&&(a=t[t.length-1]),a&&(e.video.deviceId=o.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=r(e.video),M("chrome: "+JSON.stringify(e)),i(e)})}e.video=r(e.video)}return M("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,n,r){i(e,e=>{t.webkitGetUserMedia(e,n,e=>{r&&r(o(e))})})}.bind(t),t.mediaDevices.getUserMedia){const e=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(t){return i(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(o(e))))}}}function N(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(t=>{const r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function L(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function F(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)C(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=(t=>{t.stream.addEventListener("addtrack",n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.track.id):{track:n.track};const i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)}),t.stream.getTracks().forEach(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.id):{track:n};const i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)})}),this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function U(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach(e=>{const t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function B(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,n,r){const i=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof arguments[0]))return t.apply(this,[]);const o=function(e){const t={};return e.result().forEach(e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{n[t]=e.stat(t)}),t[n.id]=n}),t},a=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};if(arguments.length>=2){const e=function(e){i[1](a(o(e)))};return t.apply(this,[e,arguments[0]])}return new Promise((e,n)=>{t.apply(this,[function(t){e(a(o(t)))},n])}).then(n,r)}}function q(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>I(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),C(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>I(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach(n=>{n.track===e&&(t?r=!0:t=n)}),this.getReceivers().forEach(t=>(t.track===e&&(n?r=!0:n=t),t.track===e)),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function z(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),i.apply(this,arguments)}}function V(e){if(!e.RTCPeerConnection)return;const t=A(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return z(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const i=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const i=this._streams[n.id];if(i)i.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=o(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then(e=>o(this,e))}});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=s.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach(n=>{this._streams[n].getTracks().find(t=>e.track===t)&&(t=this._streams[n])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function W(e){const t=A(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),!e.RTCPeerConnection)return;t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}});const n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}function H(e){C(e,"negotiationneeded",e=>{if("stable"===e.target.signalingState)return e})}var G=n(47),$=n.n(G);function Q(e){const t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch(e=>Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString(){return this.name}}}(e)))}}function Y(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function K(e){const t=A(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){const t=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(e){t.set.call(this,e);const n=new Event("enabled");n.enabled=e,this.dispatchEvent(n)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const n=$()(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=function(e,t){let n=!1;return(e=JSON.parse(JSON.stringify(e))).filter(e=>{if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&R("RTCIceServer.url","RTCIceServer.urls");const r="string"==typeof t;return r&&(t=[t]),t=t.filter(e=>{if(0===e.indexOf("stun:"))return!1;const t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n}),delete e.url,e.urls=r?t[0]:t,!!t.length}})}(e.iceServers,t.version),P("ICE servers after filtering:",e.iceServers)),new n(e)},e.RTCPeerConnection.prototype=n.prototype}function J(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}function X(e){const t=A(e),n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){R("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function Z(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function ee(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function te(e){const t=A(e);if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}});const n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,n,o){return i.apply(this,[e||null]).then(e=>{if(t.version<53&&!n)try{e.forEach(e=>{e.type=r[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,n)=>{e.set(n,Object.assign({},t,{type:r[t.type]||t.type}))})}return e}).then(n,o)}}function ne(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function re(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),C(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function ie(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){R("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function oe(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function ae(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(n=>t.call(this,n,e)),e.getVideoTracks().forEach(n=>t.call(this,n,e))},e.RTCPeerConnection.prototype.addTrack=function(e,n){return n&&(this._localStreams?this._localStreams.includes(n)||this._localStreams.push(n):this._localStreams=[n]),t.call(this,e,n)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach(e=>{n.includes(e.track)&&this.removeTrack(e)})})}}function se(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=(e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})}))}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)})}),t.apply(e,arguments)}}}function ce(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};let s=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){const r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=s}function ue(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=(e=>n(le(e)))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function le(e){return e&&void 0!==e.video?Object.assign({},e,{video:O(e.video)}):e}function de(e){const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];!r.hasOwnProperty("urls")&&r.hasOwnProperty("url")?(R("RTCIceServer.url","RTCIceServer.urls"),(r=JSON.parse(JSON.stringify(r))).urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function pe(e){"object"==typeof e&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function fe(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video")}return t.apply(this,arguments)}}var he=n(3),me=n.n(he);function ge(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),r=me.a.parseCandidate(e.candidate),i=Object.assign(n,r);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,C(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function ve(e){if(e.RTCSctpTransport||!e.RTCPeerConnection)return;const t=A(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,function(e){if(!e||!e.sdp)return!1;const t=me.a.splitSections(e.sdp);return t.shift(),t.some(e=>{const t=me.a.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),n=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n}(e),r=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const i=me.a.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r}(arguments[0],e);let i;i=0===n&&0===r?Number.POSITIVE_INFINITY:0===n||0===r?Math.max(n,r):Math.min(n,r);const o={};Object.defineProperty(o,"maxMessageSize",{get:()=>i}),this._sctp=o}return n.apply(this,arguments)}}function be(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},C(e,"datachannel",e=>(t(e.channel,e.target),e))}function ye(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=(e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e}),this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function we(e){if(!e.RTCPeerConnection)return;const t=A(e);if("chrome"===t.browser&&t.version>=71)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n")),n.apply(this,arguments)}}var xe=function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const n=P,c=A(e),u={browserDetails:c,commonShim:s,extractVersion:k,disableLog:E,disableWarnings:T};switch(c.browser){case"chrome":if(!r||!W||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),u;n("adapter.js shimming chrome."),u.browserShim=r,D(e),L(e),W(e),F(e),V(e),U(e),B(e),q(e),H(e),ge(e),ye(e),ve(e),be(e),we(e);break;case"firefox":if(!o||!te||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),u;n("adapter.js shimming firefox."),u.browserShim=o,X(e),te(e),ee(e),ie(e),ne(e),re(e),oe(e),ge(e),ye(e),ve(e),be(e);break;case"edge":if(!i||!K||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),u;n("adapter.js shimming edge."),u.browserShim=i,Q(e),Y(e),K(e),J(e),ve(e),be(e);break;case"safari":if(!a||!t.shimSafari)return n("Safari shim is not included in this adapter release."),u;n("adapter.js shimming safari."),u.browserShim=a,de(e),fe(e),ce(e),ae(e),se(e),pe(e),ue(e),ge(e),ve(e),be(e),we(e);break;default:n("Unsupported browser!")}return u}({window:window}),Se=n(23),_e=n(24),ke=n(6),Ce=n(48),Ee=n(0),Te=n.n(Ee);var Pe=n(9),Re=n.n(Pe),Ae=Te.a.createContext(null);var je=function(e){e()},Oe=function(){return je},Ie=null,Me={notify:function(){}};var De=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=Me,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t,n;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(e=Oe(),t=[],n=[],{clear:function(){n=Ie,t=Ie},notify:function(){var r=t=n;e(function(){for(var e=0;e<r.length;e++)r[e]()})},get:function(){return n},subscribe:function(e){var r=!0;return n===t&&(n=t.slice()),n.push(e),function(){r&&t!==Ie&&(r=!1,n===t&&(n=t.slice()),n.splice(n.indexOf(e),1))}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=Me)},e}(),Ne=function(e){var t,n;function r(t){var n;n=e.call(this,t)||this;var r=t.store;n.notifySubscribers=n.notifySubscribers.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));var i=new De(r);return i.onStateChange=n.notifySubscribers,n.state={store:r,subscription:i},n.previousState=r.getState(),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){this._isMounted=!0,this.state.subscription.trySubscribe(),this.previousState!==this.props.store.getState()&&this.state.subscription.notifyNestedSubs()},i.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this.state.subscription.tryUnsubscribe(),this._isMounted=!1},i.componentDidUpdate=function(e){if(this.props.store!==e.store){this.state.subscription.tryUnsubscribe();var t=new De(this.props.store);t.onStateChange=this.notifySubscribers,this.setState({store:this.props.store,subscription:t})}},i.notifySubscribers=function(){this.state.subscription.notifyNestedSubs()},i.render=function(){var e=this.props.context||Ae;return Te.a.createElement(e.Provider,{value:this.state},this.props.children)},r}(Ee.Component);Ne.propTypes={store:Re.a.shape({subscribe:Re.a.func.isRequired,dispatch:Re.a.func.isRequired,getState:Re.a.func.isRequired}),context:Re.a.object,children:Re.a.any};var Le=Ne;function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ue(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Be=n(18),qe=n.n(Be),ze=n(7),Ve=n.n(ze),We=n(13),He=[],Ge=[null,null];function $e(e,t){var n=e[1];return[t.payload,n+1]}var Qe=function(){return[null,0]},Ye="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?Ee.useLayoutEffect:Ee.useEffect;function Ke(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,i=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,o=n.methodName,a=void 0===o?"connectAdvanced":o,s=n.renderCountProp,c=void 0===s?void 0:s,u=n.shouldHandleStateChanges,l=void 0===u||u,d=n.storeKey,p=void 0===d?"store":d,f=n.withRef,h=void 0!==f&&f,m=n.forwardRef,g=void 0!==m&&m,v=n.context,b=void 0===v?Ae:v,y=Ue(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);Ve()(void 0===c,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),Ve()(!h,"withRef is removed. To access the wrapped instance, use a ref on the connected component");Ve()("store"===p,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var w=b;return function(t){var n=t.displayName||t.name||"Component",r=i(n),o=Fe({},y,{getDisplayName:i,methodName:a,renderCountProp:c,shouldHandleStateChanges:l,storeKey:p,displayName:r,wrappedComponentName:n,WrappedComponent:t}),s=y.pure;var u=s?Ee.useMemo:function(e){return e()};function d(n){var i=Object(Ee.useMemo)(function(){var e=n.forwardedRef,t=Ue(n,["forwardedRef"]);return[n.context,e,t]},[n]),a=i[0],s=i[1],c=i[2],d=Object(Ee.useMemo)(function(){return a&&a.Consumer&&Object(We.isContextConsumer)(Te.a.createElement(a.Consumer,null))?a:w},[a,w]),p=Object(Ee.useContext)(d),f=Boolean(n.store),h=Boolean(p)&&Boolean(p.store);Ve()(f||h,'Could not find "store" in the context of "'+r+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+r+" in connect options.");var m=n.store||p.store,g=Object(Ee.useMemo)(function(){return function(t){return e(t.dispatch,o)}(m)},[m]),v=Object(Ee.useMemo)(function(){if(!l)return Ge;var e=new De(m,f?null:p.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[m,f,p]),b=v[0],y=v[1],x=Object(Ee.useMemo)(function(){return f?p:Fe({},p,{subscription:b})},[f,p,b]),S=Object(Ee.useReducer)($e,He,Qe),_=S[0][0],k=S[1];if(_&&_.error)throw _.error;var C=Object(Ee.useRef)(),E=Object(Ee.useRef)(c),T=Object(Ee.useRef)(),P=Object(Ee.useRef)(!1),R=u(function(){return T.current&&c===E.current?T.current:g(m.getState(),c)},[m,_,c]);Ye(function(){E.current=c,C.current=R,P.current=!1,T.current&&(T.current=null,y())}),Ye(function(){if(l){var e=!1,t=null,n=function(){if(!e){var n,r,i=m.getState();try{n=g(i,E.current)}catch(e){r=e,t=e}r||(t=null),n===C.current?P.current||y():(C.current=n,T.current=n,P.current=!0,k({type:"STORE_UPDATED",payload:{latestStoreState:i,error:r}}))}};b.onStateChange=n,b.trySubscribe(),n();return function(){if(e=!0,b.tryUnsubscribe(),t)throw t}}},[m,b,g]);var A=Object(Ee.useMemo)(function(){return Te.a.createElement(t,Fe({},R,{ref:s}))},[s,t,R]);return Object(Ee.useMemo)(function(){return l?Te.a.createElement(d.Provider,{value:x},A):A},[d,A,x])}var f=s?Te.a.memo(d):d;if(f.WrappedComponent=t,f.displayName=r,g){var h=Te.a.forwardRef(function(e,t){return Te.a.createElement(f,Fe({},e,{forwardedRef:t}))});return h.displayName=r,h.WrappedComponent=t,qe()(h,t)}return qe()(f,t)}}var Je=Object.prototype.hasOwnProperty;function Xe(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Ze(e,t){if(Xe(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Je.call(t,n[i])||!Xe(e[n[i]],t[n[i]]))return!1;return!0}function et(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function tt(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function nt(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=tt(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=tt(i),i=r(t,n)),i},r}}var rt=[function(e){return"function"==typeof e?nt(e):void 0},function(e){return e?void 0:et(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?et(function(t){return function(e,t){if("function"==typeof e)return m(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],a=e[o];"function"==typeof a&&(r[o]=m(a,t))}return r}(e,t)}):void 0}];var it=[function(e){return"function"==typeof e?nt(e):void 0},function(e){return e?void 0:et(function(){return{}})}];function ot(e,t,n){return Fe({},n,e,t)}var at=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var c=e(t,n,s);return a?i&&o(c,r)||(r=c):(a=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return ot}}];function st(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function ct(e,t,n,r,i){var o,a,s,c,u,l=i.areStatesEqual,d=i.areOwnPropsEqual,p=i.areStatePropsEqual,f=!1;function h(i,f){var h,m,g=!d(f,a),v=!l(i,o);return o=i,a=f,g&&v?(s=e(o,a),t.dependsOnOwnProps&&(c=t(r,a)),u=n(s,c,a)):g?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(c=t(r,a)),u=n(s,c,a)):v?(h=e(o,a),m=!p(h,s),s=h,m&&(u=n(s,c,a)),u):u}return function(i,l){return f?h(i,l):(s=e(o=i,a=l),c=t(r,a),u=n(s,c,a),f=!0,u)}}function ut(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Ue(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),c=i(e,o);return(o.pure?ct:st)(a,s,c,e,o)}function lt(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function dt(e,t){return e===t}var pt,ft,ht,mt,gt,vt,bt,yt,wt,xt,St,_t,kt=(ht=(ft=void 0===pt?{}:pt).connectHOC,mt=void 0===ht?Ke:ht,gt=ft.mapStateToPropsFactories,vt=void 0===gt?it:gt,bt=ft.mapDispatchToPropsFactories,yt=void 0===bt?rt:bt,wt=ft.mergePropsFactories,xt=void 0===wt?at:wt,St=ft.selectorFactory,_t=void 0===St?ut:St,function(e,t,n,r){void 0===r&&(r={});var i=r,o=i.pure,a=void 0===o||o,s=i.areStatesEqual,c=void 0===s?dt:s,u=i.areOwnPropsEqual,l=void 0===u?Ze:u,d=i.areStatePropsEqual,p=void 0===d?Ze:d,f=i.areMergedPropsEqual,h=void 0===f?Ze:f,m=Ue(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),g=lt(e,vt,"mapStateToProps"),v=lt(t,yt,"mapDispatchToProps"),b=lt(n,xt,"mergeProps");return mt(_t,Fe({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:g,initMapDispatchToProps:v,initMergeProps:b,pure:a,areStatesEqual:c,areOwnPropsEqual:l,areStatePropsEqual:p,areMergedPropsEqual:h},m))});"undefined"!=typeof window?Ee.useLayoutEffect:Ee.useEffect;var Ct,Et=n(14),Tt=n.n(Et);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function Pt(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})}Ct=Et.unstable_batchedUpdates,je=Ct;const Rt="@andyet/SET_USER_PREFERENCE",At="@andyet/JOIN_ROOM",jt="@andyet/LEAVE_ROOM",Ot="@andyet/LOCK_ROOM",It="@andyet/UNLOCK_ROOM",Mt="@andyet/DESTROY_ROOM",Dt="@andyet/SELF_UPDATED",Nt="@andyet/JOIN_ROOM_FAILED",Lt="@andyet/JOIN_ROOM_SUCCESS",Ft="@andyet/ROOM_LOCKED",Ut="@andyet/ROOM_UNLOCKED",Bt="@andyet/KICK_PEER",qt="@andyet/PEER_ONLINE",zt="@andyet/PEER_OFFLINE",Vt="@andyet/PEER_UPDATED",Wt="@andyet/CHAT_INCOMING",Ht="@andyet/CHAT_OUTGOING",Gt="@andyet/CHAT_STATE_OUTGOING",$t="@andyet/RTT_OUTGOING",Qt="@andyet/ADD_MEDIA",Yt="@andyet/REMOVE_MEDIA",Kt="@andyet/MEDIA_UPDATED",Jt="@andyet/SIGNALING_CLIENT",Xt="@andyet/SIGNALING_CLIENT_SHUTDOWN",Zt="@andyet/CONNECTION_STATE_CHANGE",en="@andyet/RECEIVED_CONFIG",tn="@andyet/RECEIVED_CONFIG_ERROR",nn="@andyet/QUEUE_TELEMETRY",rn="@andyet/TELEMETRY_SUCCESS",on="@andyet/JOIN_CALL",an="@andyet/LEAVE_CALL",sn="@andyt/SET_CALL_PREFERENCE",cn="@andyet/PEER_CONNECTION_UPDATED",un="@andyet/PEER_CONNECTION_ADDED",ln="@andyet/PEER_CONNECTION_REMOVED",dn="@andyet/DEVICES",pn="@andyet/CAMERA_PERMISSION_DENIED",fn="@andyet/MICROPHONE_PERMISSION_DENIED",hn="@andyet/DEVICE_CAPTURE",mn="@andyet/SET_VIDEO_RESOLUTION_TIERS",gn="1.14.4",vn="incoming",bn="outgoing";function yn(e){return e.simplewebrtc.api.config}function wn(e){return e.simplewebrtc.api.token}function xn(e){return e.simplewebrtc.user}function Sn(e){return yn(e).customerData}function _n(e){return e.simplewebrtc.api.configUrl}function kn(e){return e.simplewebrtc.api.signalingClient}function Cn(e){return e.simplewebrtc.api.queuedTelemetry}function En(e){return e.simplewebrtc.api.connectionState}function Tn(e){return e.simplewebrtc.user.displayName}function Pn(e,t){const n=yn(e),r=On(e,t),i=Ln(e,t),o=Vn(e,"audio").filter(e=>e.lastSpokeAt).sort((e,t)=>{return(e.lastSpokeAt?e.lastSpokeAt.valueOf():0)-(t.lastSpokeAt?t.lastSpokeAt.valueOf():0)});return{address:r.selfAddress,affiliation:r.selfAffiliation,chatState:"active",customerData:yn(e).customerData,displayName:Tn(e),id:n.id,joinedCall:i.joined,joinedCallAt:i.joinedAt,joinedRoomAt:r.joinedAt,lastSpokeAt:o.length?o[0].lastSpokeAt:void 0,muted:!1,requestingAttention:!1,requestingMedia:Rn(e,t),role:r.selfRole,roomAddress:t,rtt:"",speaking:er(e,!0),volume:0,volumeLimit:.8}}function Rn(e,t){const n=e.simplewebrtc.user.requestingMedia;if(t){const r=Ln(e,t);if(r)return r.requestingMedia||n}return n}function An(e,t){return e.simplewebrtc.peers[t]}function jn(e){return e.simplewebrtc.rooms}function On(e,t){return e.simplewebrtc.rooms[t]}function In(e,t){for(const n of Object.keys(e.simplewebrtc.rooms))if(e.simplewebrtc.rooms[n].providedName===t)return e.simplewebrtc.rooms[n]}function Mn(e,t){const n=[];for(const r of Object.keys(e.simplewebrtc.peers))e.simplewebrtc.peers[r].roomAddress===t&&n.push(e.simplewebrtc.peers[r]);return n}function Dn(e,t){const n=[];for(const r of Object.keys(e.simplewebrtc.chats)){const i=e.simplewebrtc.chats[r];i.roomAddress===t&&n.push(i)}return n.sort((e,t)=>e.time<t.time?-1:e.time>t.time?1:0)}function Nn(e,t,n=300){const r=[],i=Dn(e,t);let o;for(const a of i){const i=!o||a.senderAddress!==o.senderAddress,s=o?o.chats[o.chats.length-1]:void 0,c=!o||s&&a.displayName&&a.displayName!==s.displayName;let u=!1;if(n&&(u=!o||Number(a.time)>Number(o.chats[0].time)+1e3*n),i||c||u){let n=An(e,a.senderAddress)||{};"outgoing"===a.direction&&(n=Pn(e,t)),o={chats:[a],direction:a.direction,displayName:n.displayName||a.displayName,endTime:a.time,peer:n,senderAddress:a.senderAddress,startTime:a.time},r.push(o)}else o&&(o.chats.push(a),o.endTime=a.time)}return r}function Ln(e,t){return e.simplewebrtc.calls[t]}function Fn(e){return e.simplewebrtc.media}function Un(e,t){return e.simplewebrtc.media[t]}function Bn(e,t){const n=e.simplewebrtc.devices.devices;return t?n.filter(e=>e.kind===t):n}function qn(e){const t=e.simplewebrtc.devices;return{cameraPermissionDenied:t.cameraPermissionDenied,cameraPermissionGranted:t.cameraPermissionGranted,hasAudioOutput:t.hasAudioOutput,hasCamera:t.hasCamera,hasMicrophone:t.hasMicrophone,microphonePermissionDenied:t.microphonePermissionDenied,microphonePermissionGranted:t.microphonePermissionGranted,requestingCameraCapture:t.requestingCameraCapture,requestingCapture:t.requestingCapture,requestingMicrophoneCapture:t.requestingMicrophoneCapture}}function zn(e,t,n){const r=[];for(const i of Object.keys(e.simplewebrtc.media)){const o=e.simplewebrtc.media[i];o.owner===t&&(n&&n!==o.kind||r.push(o))}return r}function Vn(e,t){const n=[];for(const r of Object.keys(e.simplewebrtc.media)){const i=e.simplewebrtc.media[r];"local"===i.source&&(t&&t!==i.kind||n.push(i))}return n.sort((e,t)=>e.createdAt-t.createdAt)}function Wn(e,t){const n=[];for(const r of Object.keys(e.simplewebrtc.media)){const i=e.simplewebrtc.media[r];"remote"===i.source&&(t&&t!==i.kind||n.push(i))}return n}function Hn(e,t){const n=[];for(const r of Object.keys(e.simplewebrtc.media)){const i=e.simplewebrtc.media[r];"local"===i.source&&i.shared&&(t&&t!==i.kind||n.push(i))}return n}function Gn(e){return e.simplewebrtc.user.audioOutputDeviceId}function $n(e){return e.simplewebrtc.user.globalVolumeLimit}function Qn(e){const t=[];for(const n of Object.keys(e.simplewebrtc.calls)){const r=e.simplewebrtc.calls[n],i=On(e,r.roomAddress);r.joined&&i&&i.joined&&t.push(r)}return t}function Yn(e,t){const n=[];for(const r of Object.keys(e.simplewebrtc.peers)){const i=e.simplewebrtc.peers[r];i.roomAddress===t&&i.joinedCall&&n.push(i)}return n}function Kn(e){return e.simplewebrtc.connections}function Jn(e,t){const n=[],r=Kn(e);for(const e of Object.keys(r)){const i=r[e];i.peerAddress===t&&n.push(i)}return n}function Xn(e){let t=0;for(const n of Object.keys(e.simplewebrtc.peers)){"video"===e.simplewebrtc.peers[n].requestingMedia&&(t+=1)}return t}function Zn(e){return!!("RTCPeerConnection"in window)&&!!("mediaDevices"in navigator)}function er(e,t=!0){return Vn(e,"audio").filter(e=>!e.localDisabled&&!e.externalDisabled&&e.speaking&&(!t||e.shared)).length>0}function tr(e,t=!0){return Vn(e,"audio").filter(e=>(e.localDisabled||e.externalDisabled)&&e.speaking&&(!t||e.shared)).length>0}function nr(e){return e.simplewebrtc.api.videoResolutionTiers||[]}var rr=Object.freeze({getAPIConfig:yn,getUserToken:wn,getUser:xn,getUserCustomerData:Sn,getConfigURL:_n,getClient:kn,getQueuedTelemetry:Cn,getConnectionState:En,getUserDisplayName:Tn,getUserDataForRoom:Pn,getDesiredMediaTypes:Rn,getPushToTalkEnabled:function(e){return e.simplewebrtc.user.pushToTalk},getPeerByAddress:An,getRooms:jn,getRoomByAddress:On,getRoomByProvidedName:In,getPeersForRoom:Mn,getChatsForRoom:Dn,getGroupedChatsForRoom:Nn,getLastSentChat:function(e,t){return Dn(e,t).filter(e=>e.direction===bn).slice(-1)[0]},getChatComposers:function(e,t){const n=[];for(const r of Object.keys(e.simplewebrtc.peers)){const i=e.simplewebrtc.peers[r];i.roomAddress===t&&"composing"===i.chatState&&n.push(i)}return n},getCallForRoom:Ln,getMedia:Fn,getMediaTrack:Un,getDeviceForMediaTrack:function(e,t){const n=Un(e,t);if(!n)return;let r;const i=n.track.label,o=`${n.kind}input`;n.track.getSettings&&(r=n.track.getSettings().deviceId);const a=e.simplewebrtc.devices.devices;if(r)for(const e of a)if(e.deviceId===r)return e;for(const e of a)if(i===e.label&&o===e.kind)return e},getDevices:Bn,getDevicePermissions:qn,getMediaForPeer:zn,getLocalMedia:Vn,getRemoteMedia:Wn,getSharedMedia:Hn,getAudioOutputDevice:Gn,getGlobalVolumeLimit:$n,getJoinedCalls:Qn,getPeersForCall:Yn,getActiveSpeakersForCall:function(e,t){const n=[];for(const r of Object.keys(e.simplewebrtc.peers)){const i=e.simplewebrtc.peers[r];i.roomAddress===t&&i.joinedCall&&i.speaking&&n.push(i)}return n},getConnections:Kn,getConnectionsForPeer:Jn,countPeersWantingVideo:Xn,isSupportedBrowser:Zn,userIsSpeaking:er,userIsSpeakingWhileMuted:tr,getVideoResolutionTiers:nr});function ir(e){let t=e.host;t.indexOf(":")>=0&&(t=`[${t}]`);let n=`${e.type}:${t}`;return e.port&&(n+=`:${e.port}`),e.transport&&(n+=`?transport=${e.transport}`),"turn"===e.type||"turns"===e.type?{credential:e.password,urls:[n],username:e.username}:{urls:[n]}}class or{constructor(e){this.jingle=e.jingle,this.dispatch=e.dispatch,this.getState=e.getState,this.updateICEServers(),this.jingle.config.peerConnectionConfig.sdpSemantics="plan-b"}updateICEServers(){this.jingle.resetICEServers();const e=yn(this.getState());for(const t of e.iceServers)this.jingle.addICEServer(ir(t))}updateConnections(){if(!RTCPeerConnection)return;const e=this.getState(),t=Xn(e),n=Qn(e),r=Fn(e),i=Hn(e),o=i.filter(e=>"video"===e.kind).length,a=new Set;for(const e of n)e.joined&&a.add(e.roomAddress);const s=nr(e);let c=s[0];for(let e=0;e<s.length;e++){const n=s[e],r=s[e+1];if(n[0]===t||!r){c=n;break}if(r[0]>t){c=n;break}}if(c){const{width:e,height:t,frameRate:n}=c[1];this.dispatch(Fr(e,t,n))}const u=18e5/(t*o),l=Kn(e);for(const e of Object.keys(l)){const t=l[e],n=this.jingle.sessions[t.id];n&&!a.has(t.roomAddress)&&n.end()}for(const t of n){const n=Yn(e,t.roomAddress);for(const t of n){const n=new Set,o=new Set,a="video"===t.requestingMedia,s="video"===t.requestingMedia||"audio"===t.requestingMedia,c=new Map,l=new Set,d=Jn(e,t.address);for(const e of d)if(e.sendingAudioMediaId&&(c.set(e.sendingAudioMediaId,"audio"),s&&r[e.sendingAudioMediaId]&&r[e.sendingAudioMediaId].shared||(l.add(e.id),e.sendingVideoMediaId&&a&&n.add(e.sendingVideoMediaId))),e.sendingVideoMediaId){const t=this.jingle.sessions[e.id];t&&t.setMaximumBitrate(u),c.set(e.sendingVideoMediaId,"video");const n=r[e.sendingVideoMediaId];(a||n.screenCapture)&&n&&n.shared||(l.add(e.id),e.sendingAudioMediaId&&s&&o.add(e.sendingAudioMediaId))}for(const e of i)c.has(e.id)||("audio"===e.kind&&s&&o.add(e.id),"video"===e.kind&&a&&n.add(e.id),"video"===e.kind&&e.screenCapture&&s&&n.add(e.id));for(const e of l){const t=this.jingle.sessions[e];t&&t.end()}const p=new Map;for(const e of[...o,...n]){const t=r[e];if(t){const e=p.get(t.stream.id)||{};e[t.kind]=t,p.set(t.stream.id,e)}}for(const e of p.values()){const n=this.jingle.createMediaSession(t.address);e.audio&&(n.addTrack(e.audio.track,e.audio.stream),this.dispatch(ni(t.address,n.sid,{sendingAudioMediaId:e.audio.id}))),e.video&&(n.addTrack(e.video.track,e.video.stream),this.dispatch(ni(t.address,n.sid,{sendingVideoMediaId:e.video.id}))),n.start({offerToReceiveAudio:!1,offerToReceiveVideo:!1},()=>{e.video&&n.setMaximumBitrate(u),e.audio&&e.audio.localDisabled&&n.mute(n.role,"audio"),e.video&&e.video.localDisabled&&n.mute(n.role,"video"),e.video&&e.video.screenCapture&&n.send("description-info",{contents:[{application:{applicationType:"rtp",screenCaptures:[{id:e.video.id}]},name:"video"}]})})}}}}plugin(){return()=>{this.jingle.on("incoming",e=>{const t=Ln(this.getState(),e.peerID.split("/")[0]);t&&t.joined?e.accept():e.end(),e.onDescriptionInfo=((t,n)=>{const r=Kn(this.getState());for(const n of t.contents||[])n.application&&n.application.screenCaptures&&n.application.screenCaptures.length&&this.dispatch(Ir(r[e.sid].receivingVideoMediaId,{screenCapture:!0}));n()})}),this.jingle.on("terminated",(e,t)=>{this.dispatch(ti(e.peerID,e.sid)),t.condition&&"success"!==t.condition&&"gone"!==t.condition&&(console.error("Session terminated with error:",e.sid,t),this.dispatch(Ri(e.peerID,{sessionFailed:!0}))),setTimeout(()=>{this.updateConnections()},1e3)}),this.jingle.on("createdSession",e=>{this.dispatch(ei(e.peerID,e.sid)),e.on("peerTrackAdded",(t,n,r)=>{const i=`${e.sid}#${n.id}`;this.dispatch(jr(e.peerID.split("/")[0],e.peerID,i,n,r,!1)),"audio"===n.kind&&this.dispatch(ni(e.peerID,e.sid,{receivingAudioMediaId:i})),"video"===n.kind&&this.dispatch(ni(e.peerID,e.sid,{receivingVideoMediaId:i}))}),e.on("peerTrackRemoved",(t,n)=>{const r=`${e.sid}#${n.id}`;this.dispatch(Or(r))}),e.on("connectionState",()=>{this.dispatch(ni(e.peerID,e.sid,{connectionState:e.connectionState,restarting:e.restartingIce,sessionState:e.state})),"connected"===e.connectionState&&this.dispatch(Ri(e.peerID,{sessionFailed:!1})),("responder"===e.role&&"disconnected"===e.connectionState||"interrupted"===e.connectionState)&&setTimeout(()=>{"disconnected"!==e.connectionState&&"interrupted"!==e.connectionState||e.end("failed-transport")},5e3)}),e.on("sessionState",()=>{this.dispatch(ni(e.peerID,e.sid,{connectionState:e.connectionState,restarting:e.restartingIce,sessionState:e.state}))})}),this.jingle.on("mute",(e,t)=>{const n=Kn(this.getState());if("audio"===t.name)this.dispatch(Ir(n[e.sid].receivingAudioMediaId,{remoteDisabled:!0}));else{if("video"!==t.name)throw new Error("Invalid mute property");this.dispatch(Ir(n[e.sid].receivingVideoMediaId,{remoteDisabled:!0}))}}),this.jingle.on("unmute",(e,t)=>{const n=Kn(this.getState());if("audio"===t.name)this.dispatch(Ir(n[e.sid].receivingAudioMediaId,{remoteDisabled:!1}));else{if("video"!==t.name)throw new Error("Invalid mute property");this.dispatch(Ir(n[e.sid].receivingVideoMediaId,{remoteDisabled:!1}))}})}}notifyPeers(e,t){const n=this.getState(),r=Kn(n);Object.values(kn(n).jingle.sessions).forEach(n=>{const i=r[n.sid];!i||i.sendingAudioMediaId!==e.id&&i.sendingVideoMediaId!==e.id||n[t](n.role,e.kind)})}}const ar="http://andyet.net/xmlns/mmuc",sr="https://talky.io/ns/core",cr="https://talky.io/ns/datachannel";function ur(e,t){const n=t.utils,r=t.define({element:"user",fields:{customerData:{get(){const e=n.getText(this.xml);return e?JSON.parse(e):{}}},roomId:n.attribute("rid"),sessionId:n.attribute("sid"),type:n.attribute("type")},name:"talkyUserInfo",namespace:sr}),i=t.define({element:"mediastream",fields:{audio:n.attribute("audio"),msid:n.attribute("msid"),video:n.attribute("video")},name:"_mediaStream",namespace:ar}),o=t.define({element:"screen",fields:{id:n.attribute("id")},name:"_screenCapture",namespace:sr}),a=t.define({element:"description",fields:{applicationType:{value:"datachannel"}},name:"_datachannel",namespace:cr,tags:["jingle-application"]}),s=t.define({element:"conf",fields:{bridged:n.boolAttribute("bridged"),lastN:n.numberAttribute("last-n"),media:n.attribute("media")},name:"mmuc",namespace:ar}),c=t.define({element:"status",fields:{active:n.boolAttribute("active"),media:n.attribute("media"),mode:n.attribute("mode"),ready:n.boolAttribute("ready"),recordable:n.boolAttribute("recordable"),stamp:n.dateAttribute("stamp")},name:"mmucStatus",namespace:ar}),u=t.define({element:"recording",fields:{active:n.boolAttribute("active"),stamp:n.dateAttribute("stamp"),state:n.attribute("state"),uri:n.attribute("uri")},name:"recording",namespace:ar}),l=t.define({element:"state",fields:{speaking:n.boolAttribute("speaking")},name:"mmuc",namespace:ar}),d=t.define({element:"query",fields:{endMedia:n.boolSub(ar,"end-media"),startRecord:n.boolSub(ar,"start-recording")},name:"mmuc",namespace:ar}),p=t.define({element:"start-media",fields:{media:n.attribute("media")},name:"startMedia",namespace:ar}),f=t.define({element:"end-recording",fields:{uri:n.attribute("uri")},name:"endRecord",namespace:ar});t.extend(c,u),t.extend(d,p),t.extend(d,f),t.withPresence(e=>{t.extend(e,s),t.extend(e,i,"mediaStreams"),t.extend(e,r)}),t.withMessage(e=>{t.extend(e,c),t.extend(e,l)}),t.withIQ(e=>{t.extend(e,d)}),t.withDefinition("content","urn:xmpp:jingle:1",e=>{t.extend(e,a)}),t.withDefinition("description","urn:xmpp:jingle:apps:rtp:1",e=>{t.extend(e,o,"screenCaptures")}),t.withDefinition("jingle","urn:xmpp:jingle:1",e=>{t.extend(e,i,"mediaStreams")})}class lr{constructor(e,t,n){this.logToConsole=localStorage.logxmpp||!1,this.terminating=!1,this.dispatch=e,this.getState=t,this.rttBuffers=new Map,this.xmpp=Object(_e.a)(Object.assign({transport:"websocket"},n)),this.xmpp.useStreamManagement=!1,this.xmpp.sm.allowResume=!1,this.jingle=this.xmpp.jingle,this.xmpp.use(ur),this.mesh=new or(this),this.xmpp.use(this.mesh.plugin()),this.xmpp.on("raw:*",(e,t)=>{this.logToConsole&&console.log(e,t)}),this.xmpp.on("session:started",()=>{this.xmpp.sendPresence(),this.xmpp.enableKeepAlive({interval:90}),this.dispatch(xr("connected"))}),this.xmpp.on("disconnected",()=>{this.terminating||(this.dispatch(xr("disconnected")),setTimeout(()=>{const e=this.getState(),t=_n(e),n=wn(e);this.dispatch(hr(t,n))},1e3+2e3*Math.random()))}),this.xmpp.on("muc:join",e=>Pt(this,void 0,void 0,function*(){const t=e.from.bare,n=this.getState();let r=On(n,t);r&&(yield this.checkLockStatus(t,r.providedPassword),this.dispatch(hi(t,e.from.full,e.talkyUserInfo.roomId,e.muc.role,e.muc.affiliation)),(r=On(n,t))&&r.autoJoinCall&&this.dispatch($r(t,Rn(n,t))))})),this.xmpp.on("muc:failed",e=>{const t=e.from.bare,n=On(this.getState(),t);n&&n.providedPassword&&!n.passwordRequired?this.joinRoom(t,void 0,n.autoJoinCall):this.dispatch(fi(t,"not-authorized"===e.error.condition))}),this.xmpp.on("muc:error",e=>{this.dispatch(fi(e.from.bare,"not-authorized"===e.error.condition))}),this.xmpp.on("muc:available",e=>{const t=e.from.bare,n=e.from.full,r=On(this.getState(),t);if(!r)return;if(e.muc.codes&&e.muc.codes.indexOf("110")>=0)return void this.dispatch(mi(t,n,r.id,e.muc.role,e.muc.affiliation));if(!this.rttBuffers.has(n)){const e=new Se.DisplayBuffer(({text:e})=>{this.dispatch(Ri(n,{rtt:e}))});this.rttBuffers.set(n,e)}const i=e.talkyUserInfo.customerData||{};this.dispatch(Ti(t,n,{affiliation:e.muc.affiliation,customerData:i,displayName:i.displayName||e.nick,id:e.talkyUserInfo.sessionId,joinedCall:!!e.mmuc,requestingMedia:(e.mmuc||{}).media,role:e.muc.role}))}),this.xmpp.on("muc:unavailable",e=>{e.muc.codes&&e.muc.codes.indexOf("110")>=0?this.dispatch(gi(e.from.bare)):(this.rttBuffers.delete(e.from.full),this.dispatch(Pi(e.from.bare,e.from.full)))}),this.xmpp.on("muc:destroyed",e=>{this.dispatch(gi(e.from.bare))}),this.xmpp.on("chat:state",e=>{this.dispatch(Ri(e.from.full,{chatState:e.chatState}))}),this.xmpp.on("attention",e=>{this.dispatch(Ri(e.from.full,{requestingAttention:!0})),setTimeout(()=>{this.dispatch(Ri(e.from.full,{requestingAttention:!1}))},5e3)}),this.xmpp.on("message",e=>{if("groupchat"===e.type){if(e.rtt){const t=this.rttBuffers.get(e.from.full);t&&t.process(e.rtt)}if(e.body){const t=this.rttBuffers.get(e.from.full);t&&t.commit(),this.dispatch(Xr(e.from.bare,e.from.full,{body:e.body,displayName:e.nick,id:e.id,replace:e.replace,time:e.delay?e.delay.stamp:new Date}))}}}),this.xmpp.on("message",e=>this.processMessage(e))}connect(){this.xmpp.connect()}disconnect(){this.terminating=!0,this.dispatch(xr("disconnected")),this.xmpp.disconnect()}joinRoom(e,t,n){const r=this.getState(),i=yn(r),o={joinMuc:{password:t},nick:Tn(r)};this.xmpp.joinRoom(e,i.id,o),!1!==n&&this.dispatch($r(e,Rn(r,e)))}destroyRoom(e){return Pt(this,void 0,void 0,function*(){yield this.xmpp.destroyRoom(e)})}sendRoomPresence(e,t={}){const n=this.getState(),r=Tn(n),i=On(n,e),o=Ln(n,e),a=Rn(n,e);i&&i.joined&&this.xmpp.sendPresence(Object.assign({mmuc:o&&o.joined?{media:a}:void 0,nick:r||!0,to:e},t))}sendAllRoomsPresence(e={}){const t=this.getState(),n=Object.keys(jn(t));for(const t of n)this.sendRoomPresence(t,e)}sendAllCallsSpeakingUpdate(e){const t=Qn(this.getState());for(const n of t)this.xmpp.sendMessage({mmuc:{speaking:e},to:n.roomAddress,type:"groupchat"})}lockRoom(e,t){return Pt(this,void 0,void 0,function*(){const n=On(this.getState(),e);if(n&&n.joined&&"owner"===n.selfAffiliation)try{yield this.xmpp.configureRoom(e,{fields:[{name:"FORM_TYPE",value:"http://jabber.org/protocol/muc#roomconfig"},{name:"muc#roomconfig_whois",type:"text-single",value:"moderators"},{name:"muc#roomconfig_roomsecret",type:"text-single",value:t},{name:"muc#roomconfig_passwordprotectedroom",type:"boolean",value:"1"}]}),this.dispatch(wi(e,t))}catch(e){console.error(e)}})}unlockRoom(e){return Pt(this,void 0,void 0,function*(){const t=On(this.getState(),e);if(t&&t.joined&&"owner"===t.selfAffiliation)try{yield this.xmpp.configureRoom(e,{fields:[{name:"FORM_TYPE",value:"http://jabber.org/protocol/muc#roomconfig"},{name:"muc#roomconfig_whois",type:"text-single",value:"moderators"},{name:"muc#roomconfig_roomsecret",type:"text-single",value:""},{name:"muc#roomconfig_passwordprotectedroom",type:"boolean",value:"1"}]}),this.dispatch(xi(e))}catch(e){console.error(e)}})}fetchRoomConfig(e,t=!1){return Pt(this,void 0,void 0,function*(){const n={},r=On(this.getState(),e);if(!(t||r&&r.joined))throw new Error("Room not joined");const i=(yield this.xmpp.getRoomConfig(e)).mucOwner.form;for(const e of i.fields)"muc#roomconfig_roomsecret"===e.name&&(e.value?n.password=e.value:n.password=void 0);return n})}checkLockStatus(e,t,n){return Pt(this,void 0,void 0,function*(){const r=On(this.getState(),e);if(r)if("owner"!==r.selfAffiliation||n)try{(yield this.xmpp.getDiscoInfo(e)).discoInfo.features.indexOf("muc_passwordprotected")>=0?this.dispatch(wi(e)):this.dispatch(xi(e))}catch(e){console.error(e)}else try{const n=yield this.fetchRoomConfig(e,!0);n.password?this.dispatch(wi(e,n.password)):t?this.dispatch(vi(e,t)):this.dispatch(xi(e))}catch(n){return console.error(n),this.checkLockStatus(e,t,!0)}})}processMessage(e){return Pt(this,void 0,void 0,function*(){const t=e.from.bare,n=On(this.getState(),t);"groupchat"===e.type&&e.mmuc&&n&&n.selfAddress!==e.from.full&&e.mmuc&&this.dispatch(Ri(e.from.full,{speaking:e.mmuc.speaking||!1})),e.muc&&e.muc.codes&&e.muc.codes.indexOf("104")>=0&&(yield this.checkLockStatus(t))})}}let dr;function pr(e,t=!1){return Pt(this,void 0,void 0,function*(){return new Promise((n,r)=>{setTimeout(()=>t?r():n(),e)})})}function fr(e,t,n=10,r=1e3,i=1e4){return Pt(this,void 0,void 0,function*(){let o,a=0;for(;a<=n;)try{const n=yield Promise.race([fetch(e,{body:JSON.stringify({clientVersion:gn,token:t}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"}),pr(i,!0)]);if(!n.ok)throw new Error("SimpleWebRTC configuration request failed: "+n.status);const s=yield n.json();return t&&!s.customerData&&console.error("ESWRTC_003. View more information at https://docs.simplewebrtc.com"),s}catch(e){o=e,a+=1,yield pr(r)}if(o)throw console.error("ESWRTC_001. View more information at https://docs.simplewebrtc.com"),o})}function hr(e,t){return(n,r)=>Pt(this,void 0,void 0,function*(){let i;n(xr("connecting"));try{i=yield fr(e,t),n(gr(e,i,t))}catch(e){return n(vr()),void n(xr("failed"))}const o=new lr(n,r,{jid:i.userId,password:i.credential,resource:i.id,wsURL:i.signalingUrl});n({payload:o,type:Jt}),o.connect()})}function mr(){return(e,t)=>{const n=kn(t());n&&n.disconnect(),e({type:Xt})}}function gr(e,t,n){return{payload:{config:t,configUrl:e,token:n},type:en}}function vr(e){return{type:tn}}function br(){return(e,t)=>{const n=t(),r=yn(n),i=r.telemetryUrl,o=Cn(n),a=Math.min(o.length,10);if(0===a)return;const s=o.slice(0,a);if(!i)return;const c={body:JSON.stringify({batch:s}),headers:{authorization:`Bearer ${r.credential}`},method:"POST"};fetch(i,c).then(()=>{e(yr(a))})}}function yr(e){return{payload:e,type:rn}}function wr(){clearInterval(dr)}function xr(e){return{payload:e,type:Zt}}const Sr=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_r=window.AudioContext||window.webkitAudioContext;const kr={threshold:-65};class Cr extends ke.EventEmitter{constructor(e,t={}){if(super(),this.running=!1,this.smoothing=.1,this.interval=50,this.history=10,this.speakingHistory=[],this.frequencyRange=[85,300],this.fftSize=512,this.speaking=!1,this.previousVolume=-1/0,this.stoppedReceivingVolume=Date.now(),_r){if(!Cr.audioContext){Cr.audioContext=new _r;const e=()=>{this.running&&Cr.audioContext&&"suspended"===Cr.audioContext.state&&(setTimeout(e,1e3),Cr.audioContext.resume())};setTimeout(e,1e3)}this.smoothing=t.smoothing||.1,this.interval=t.interval||50,this.threshold=t.threshold,this.history=t.history||10,this.frequencyRange=t.frequencyRange||[85,300],this.fftSize=t.fftSize||512,Sr&&(this.threshold=-20),this.analyser=Cr.audioContext.createAnalyser(),this.analyser.fftSize=this.fftSize,this.analyser.smoothingTimeConstant=this.smoothing,this.fftBins=new Float32Array(this.analyser.frequencyBinCount),this.frequencySpread=Cr.audioContext.sampleRate/this.analyser.fftSize,this.sourceNode=Cr.audioContext.createMediaStreamSource(e),this.sourceNode.connect(this.analyser),this.start()}}stop(){this.running=!1,this.emit("volume",-100,this.threshold||kr.threshold),this.speaking&&(this.speaking=!1,this.emit("stopped-speaking")),clearInterval(this.intervalTimer),this.analyser.disconnect(),this.sourceNode.disconnect()}start(){this.running=!0,this.speakingHistory=new Array(this.history).fill(0),this.intervalTimer=setInterval(()=>{if(!this.running)return;const e=this.threshold||kr.threshold,t=function(e,t,n,r){e.getFloatFrequencyData(r);const i=t[0],o=t[1],a=Math.round(i/n),s=Math.round(o/n),c=r.slice(a,s);return c.reduce((e,t)=>e+t,0)/c.length}(this.analyser,this.frequencyRange,this.frequencySpread,this.fftBins),n=t>e?1:0;let r;(!isFinite(t)||t<=-100)&&(r=isFinite(this.previousVolume)&&this.previousVolume>-100?Date.now():this.stoppedReceivingVolume),this.emit("volume",t,e),r!==this.stoppedReceivingVolume&&(r?this.emit("stopped-receiving-volume",r):this.emit("started-receiving-volume")),this.previousVolume=t,this.stoppedReceivingVolume=r;let i=0;for(const e of this.speakingHistory)i+=e;n&&!this.speaking?i>=5&&(this.speaking=!0,this.emit("speaking")):!n&&this.speaking&&0===i&&(this.speaking=!1,this.emit("stopped-speaking")),this.speakingHistory.shift(),this.speakingHistory.push(n)},this.interval)}}function Er(e,t,n=500){return"audio"===e.kind?function(e){return Pt(this,void 0,void 0,function*(){return new Promise(t=>{let n=document.createElement("audio");const r=()=>{n&&(n.pause(),n.removeEventListener("oncanplay",r),n.srcObject=null,n=void 0,t({loaded:!0}))};n.muted=!0,n.autoplay=!0,n.oncanplay=r,n.srcObject=e})})}(t):"video"===e.kind?function(e,t){return Pt(this,void 0,void 0,function*(){return new Promise(n=>{let r=document.createElement("video");const i=()=>{if(r){const e=r.videoHeight,t=r.videoWidth;r.pause(),r.removeEventListener("oncanplay",i),r.srcObject=null,r=void 0,n({height:e,loaded:!0,width:t})}};r.setAttribute("playsinline","playsinline"),r.muted=!0,r.autoplay=!0,r.oncanplay=i,r.srcObject=e,setTimeout(i,t)})})}(t,n):Promise.resolve({loaded:!1})}function Tr(e){return(t,n)=>{let r=e.replaces;if(e.replaces){const i=Un(n(),e.replaces);i&&(i.shared||(t(Or(i.id)),r=i.replaces))}e.track.onmute=(()=>{t(Ir(e.id,{externalDisabled:!0}))}),e.track.onunmute=(()=>{t(Ir(e.id,{externalDisabled:!1}))}),t({payload:Object.assign({},e,{replaces:r}),type:Qt})}}function Pr(e,t,n){if("audio"!==e.kind)throw new Error("Incorrect media type. Expected audio, got: "+e.kind);return(r,i)=>{let o,a;{const n=e.clone();(a=new MediaStream).addTrack(n),o=function(e,t,n){const r=new Cr(t);return r.on("stopped-receiving-volume",t=>{n(Ir(e,{inputLost:t}))}),r.on("started-receiving-volume",()=>{n(Ir(e,{inputDetected:!0,inputLost:void 0}))}),r.on("speaking",()=>{n(Ir(e,{speaking:!0}))}),r.on("stopped-speaking",()=>{n(Ir(e,{lastSpokeAt:new Date(Date.now()),speaking:!1}))}),r}(e.id,a,r),e.onended=(()=>{o&&(o.stop(),n.stop()),r(Lr(e.id)),r(Or(e.id))}),Er(e,t).then(t=>{r(Ir(e.id,t))})}r(Tr({createdAt:Date.now(),externalDisabled:e.muted,hark:o,id:e.id,inputDetected:!1,inputLost:Date.now(),kind:"audio",localDisabled:!e.enabled,remoteDisabled:!1,renderMirrored:!1,replaces:n,screenCapture:!1,shared:!1,source:"local",speaking:!1,stream:t,track:e,utilityStream:a,volume:-1/0}))}}function Rr(e,t,n=!0,r){if("video"!==e.kind)throw new Error("Incorrect media type. Expected video, got: "+e.kind);return(i,o)=>{e.onended=(()=>{i(Lr(e.id)),i(Or(e.id))}),Er(e,t).then(t=>{i(Ir(e.id,t))}),i(Tr({createdAt:Date.now(),externalDisabled:e.muted,id:e.id,kind:"video",localDisabled:!e.enabled,remoteDisabled:!1,renderMirrored:n,replaces:r,screenCapture:!1,shared:!1,source:"local",speaking:!1,stream:t,track:e,volume:-1/0}))}}function Ar(e,t,n){if("video"!==e.kind)throw new Error("Incorrect media type. Expected video, got: "+e.kind);return(r,i)=>{e.onended=(()=>{r(Lr(e.id)),r(Or(e.id))}),Er(e,t).then(t=>{r(Ir(e.id,t))}),"contentHint"in e&&(e.contentHint="detail"),r(Tr({createdAt:Date.now(),externalDisabled:e.muted,id:e.id,kind:"video",localDisabled:!e.enabled,remoteDisabled:!1,renderMirrored:!1,replaces:n,screenCapture:!0,shared:!1,source:"local",speaking:!1,stream:t,track:e,volume:-1/0}))}}function jr(e,t,n,r,i,o){return(a,s)=>{const c=An(s(),t);r.onended=(()=>{a(Or(n))}),Er(r,i,500).then(e=>{a(Ir(n,e))}),setTimeout(()=>{Er(r,i,500).then(e=>{a(Ir(n,e))})},500);const u={createdAt:Date.now(),externalDisabled:r.muted,id:n,kind:r.kind,localDisabled:!!c&&c.muted,owner:t,remoteDisabled:!1,renderMirrored:!1,roomAddress:e,screenCapture:"video"===r.kind&&o,source:"remote",speaking:!1,stream:i,track:r,volume:-1/0};a({payload:u,type:Qt})}}function Or(e,t=!0){return(n,r)=>{const i=Un(r(),e);if(!i)return;i.shared&&n(Lr(e)),n({payload:{id:e},type:Yt});const o=kn(r());if(o&&o.mesh.updateConnections(),t&&(i.track&&i.track.stop(),i.utilityStream))for(const e of i.utilityStream.getTracks())e.stop()}}function Ir(e,t){return(n,r)=>{const i=r(),o=kn(i),a=er(i);n({payload:{id:e,updated:t},type:Kt});const s=r(),c=er(s);o&&(a!==c&&o.sendAllCallsSpeakingUpdate(c),void 0!==t.shared&&o.mesh.updateConnections());const u=Un(i,e),l=Un(s,e);if(l&&(l.track.enabled=!l.localDisabled,u&&"local"===l.source&&l.localDisabled!==u.localDisabled&&o&&o.mesh.notifyPeers(l,!0===l.localDisabled?"mute":"unmute"),"remote"===l.source&&l.owner)){const e=An(s,l.owner);e&&e.muted&&!l.localDisabled&&n({payload:{peerAddress:l.owner,updated:{muted:!1}},type:Vt})}}}function Mr(e){return Ir(e,{localDisabled:!1})}function Dr(e){return Ir(e,{localDisabled:!0})}function Nr(e){return(t,n)=>{const r=Un(n(),e);r&&(r.replaces&&t(Or(r.replaces)),t(Ir(e,{replaces:void 0,shared:!0})))}}function Lr(e){return(t,n)=>{const r=Vn(n()).filter(t=>t.replaces===e);t(Ir(e,{shared:!1})),r.length&&t(Or(e))}}function Fr(e,t,n=30){return(r,i)=>{const o=Vn(i(),"video"),a=navigator.mediaDevices.getSupportedConstraints(),s={};let c=!1;if(a.frameRate&&(s.frameRate=n,c=!0),a.height&&(s.height={ideal:t},c=!0),a.width&&(s.width={ideal:e},c=!0),c)for(const e of o)e.screenCapture||e.track.applyConstraints(s).catch(e=>{console.error("Could not adjust video capture resolution:",e.message)})}}function Ur(e){return(t,n)=>{t({payload:{videoResolutionTiers:e},type:mn});const r=kn(n());r&&r.mesh.updateConnections()}}function Br(e){return(t,n)=>{const r=zn(n(),e,"audio");for(const e of r)t(Dr(e.id));t({payload:{peerAddress:e,updated:{muted:!0}},type:Vt})}}function qr(e){return(t,n)=>{const r=zn(n(),e,"audio");for(const e of r)t(Mr(e.id));t({payload:{peerAddress:e,updated:{muted:!1}},type:Vt})}}function zr(){return(e,t)=>{const n=Vn(t(),"audio");for(const t of n)e(Dr(t.id))}}function Vr(){return(e,t)=>{const n=Vn(t(),"audio");for(const t of n)e(Mr(t.id))}}function Wr(){return(e,t)=>{const n=Vn(t(),"video");for(const t of n)e(Dr(t.id))}}function Hr(){return(e,t)=>{const n=Vn(t(),"video");for(const t of n)e(Mr(t.id))}}function Gr(e){return(t,n)=>{const r=Vn(n(),e);for(const e of r)t(Or(e.id))}}function $r(e,t){return(n,r)=>{n({payload:{desiredMedia:t,roomAddress:e},type:on});const i=kn(r());i&&(i.sendRoomPresence(e),i.mesh.updateConnections())}}function Qr(e){return(t,n)=>{const r=n(),i=Qn(r);t({payload:{roomAddress:e},type:an});const o=Qn(n()),a=kn(r);if(a){a.sendRoomPresence(e),a.mesh.updateConnections(),er(r)&&a.sendAllCallsSpeakingUpdate(!0)}i.length>0&&0===o.length&&t(Gr())}}function Yr(e,t){return(n,r)=>{n({payload:{desiredMedia:t,roomAddress:e},type:sn});const i=kn(r());i&&(i.sendRoomPresence(e),i.mesh.updateConnections())}}function Kr(e,t){return(n,r)=>{const i=r(),o=kn(i),a=t.id||Object(Ce.v4)(),s=t.displayName||Tn(i);o.xmpp.sendMessage({body:t.body,chatState:"active",id:a,nick:s,replace:t.replace,to:e,type:"groupchat"}),n({payload:{acked:!1,body:t.body,direction:bn,displayName:s,id:a,replace:t.replace,roomAddress:e,time:new Date},type:Ht})}}function Jr(e,t){return(n,r)=>{kn(r()).xmpp.sendMessage({chatState:t,to:e,type:"groupchat"}),n({payload:{chatState:t,roomAddress:e},type:Gt})}}function Xr(e,t,n){return{payload:{acked:!0,body:n.body,direction:vn,displayName:n.displayName,id:n.id,replace:n.replace,roomAddress:e,senderAddress:t,time:n.time||new Date},type:Wt}}function Zr(e,t){return(n,r)=>{const i=kn(r());let o;"init"!==t.event&&"cancel"!==t.event&&(o="composing"),i.xmpp.sendMessage({chatState:o,rtt:t,to:e,type:"groupchat"}),n({payload:{roomAddress:e,rtt:t},type:$t})}}function ei(e,t){return{payload:{id:t,peerAddress:e,roomAddress:_e.b.parse(e).bare},type:un}}function ti(e,t){return{payload:{id:t,peerAddress:e},type:ln}}function ni(e,t,n){return{payload:{id:t,peerAddress:e,updated:n},type:cn}}let ri,ii;function oi(){return(e,t)=>{navigator.mediaDevices&&(ri||(ri=(()=>{e(ai())})),ri(),navigator.mediaDevices.addEventListener("devicechange",ri),window.safari&&(ii=setInterval(()=>{ri&&ri()},1e3)))}}function ai(){return e=>Pt(this,void 0,void 0,function*(){if(!navigator.mediaDevices)return;const t=yield navigator.mediaDevices.enumerateDevices();return e(si(t))})}function si(e){return{payload:e=e.filter(e=>"audioinput"!==e.kind||"MacBook Pro Speakers"!==e.label),type:dn}}function ci(e){return{payload:{error:e},type:pn}}function ui(e){return{payload:{error:e},type:fn}}function li(e,t){return{payload:{camera:e,microphone:t},type:hn}}function di(e,t,n,r=5,i=1e3){return Pt(this,void 0,void 0,function*(){let o,a=0;for(;a<=r;)try{const r=yield fetch(e,{body:JSON.stringify({name:t}),headers:{authorization:`Bearer ${n}`},method:"POST"});if(!r.ok)throw new Error("SimpleWebRTC room configuration request failed: "+r.status);return yield r.json()}catch(e){o=e,a+=1,yield pr(i)}throw console.error("ESWRTC_002. View more information at https://docs.simplewebrtc.com"),o||new Error("Could not fetch room config")})}function pi(e,t={}){return(n,r)=>Pt(this,void 0,void 0,function*(){const i=r(),o=kn(i),a=yn(i);try{const r=yield di(a.roomConfigUrl,e,a.credential),s=On(i,r.roomAddress);(!s||s&&!s.joined)&&(n({payload:{autoJoinCall:Zn()&&(void 0===t.autoJoinCall||t.autoJoinCall),providedPassword:t.password,providedRoomName:e,roomAddress:r.roomAddress},type:At}),o&&o.joinRoom(r.roomAddress,t.password,t.autoJoinCall))}catch(e){n(fi("",!1))}})}function fi(e,t){return{payload:{passwordRequired:t,roomAddress:e},type:Nt}}function hi(e,t,n,r,i){return(o,a)=>{o({payload:{affiliation:i,id:n,role:r,roomAddress:e,selfAddress:t},type:Lt});const s=kn(a());s&&s.mesh.updateConnections()}}function mi(e,t,n,r,i){return(o,a)=>{o({payload:{affiliation:i,id:n,role:r,roomAddress:e,selfAddress:t},type:Dt})}}function gi(e){return(t,n)=>{const r=kn(n());t(Qr(e)),r&&r.sendRoomPresence(e,{type:"unavailable"}),t({payload:{roomAddress:e},type:jt}),r&&r.mesh.updateConnections()}}function vi(e,t){return(n,r)=>{const i=kn(r());i&&i.lockRoom(e,t),n({payload:{password:t,roomAddress:e},type:Ot})}}function bi(e){return(t,n)=>{const r=kn(n());r&&r.unlockRoom(e),t({payload:{roomAddress:e},type:It})}}function yi(e){return(t,n)=>Pt(this,void 0,void 0,function*(){const r=kn(n());try{r&&(yield r.destroyRoom(e)),t({payload:{roomAddress:e},type:Mt})}catch(e){console.error(e)}})}function wi(e,t){return{payload:{password:t,roomAddress:e},type:Ft}}function xi(e){return{payload:{roomAddress:e},type:Ut}}function Si(e){return(t,n)=>{const r=kn(n());t({payload:{displayName:e},type:Rt}),r&&r.sendAllRoomsPresence()}}function _i(e){return(t,n)=>{const r=n(),i=kn(r);t({payload:{requestingMedia:e},type:Rt});const o=Qn(r);for(const n of o)t(Yr(n.roomAddress,e));i&&i.sendAllRoomsPresence()}}function ki(e=-65){return function(e){kr.threshold=e}(e),{payload:{voiceActivityThreshold:e},type:Rt}}function Ci(e){return{payload:{audioOutputDeviceId:e},type:Rt}}function Ei(e=1){return{payload:{globalVolumeLimit:e},type:Rt}}function Ti(e,t,n){return(r,i)=>{r({payload:{affiliation:n.affiliation,customerData:n.customerData,displayName:n.displayName,id:n.id,joinedCall:n.joinedCall||!1,peerAddress:t,requestingMedia:n.requestingMedia||"none",role:n.role,roomAddress:e},type:qt});const o=kn(i());o&&o.mesh.updateConnections()}}function Pi(e,t){return(n,r)=>{n({payload:{peerAddress:t,roomAddress:e},type:zt})}}function Ri(e,t){return(n,r)=>{n({payload:{peerAddress:e,updated:t},type:Vt});const i=kn(r());i&&i.mesh.updateConnections()}}function Ai(e,t){return{payload:{peerAddress:t,roomAddress:e},type:Bt}}function ji(e,t){return{payload:{peerAddress:e,updated:{volumeLimit:t}},type:Vt}}var Oi=Object.freeze({sleep:pr,fetchConfig:fr,connect:hr,disconnect:mr,receivedConfig:gr,receivedConfigError:vr,queueTelemetry:function(e,{roomId:t,peerId:n,data:r}){return{payload:{data:JSON.stringify(r),peerId:n,roomId:t},type:nn}},sendQueuedTelemetry:br,telemetrySucess:yr,enableTelemetry:function(e=5e3){return t=>{wr(),dr=setInterval(()=>{t(br())},e)}},disableTelemetry:wr,connectionStateChanged:xr,startCall:function(){},endCall:function(){},joinCall:$r,leaveCall:Qr,changeCallMode:function(){},pauseCall:function(){},resumeCall:function(){},startRecording:function(){},endRecording:function(){},pauseRecording:function(){},resumeRecording:function(){},setDesiredMediaForCall:Yr,updateCallState:function(){},sendChat:Kr,sendChatState:Jr,receiveChat:Xr,sendRTT:Zr,addConnection:ei,removeConnection:ti,updateConnection:ni,listenForDevices:oi,fetchDevices:ai,stopListeningForDevices:function(){ri&&(navigator.mediaDevices.removeEventListener("devicechange",ri),ri=void 0),ii&&(clearInterval(ii),ii=void 0)},deviceList:si,cameraPermissionDenied:ci,microphonePermissionDenied:ui,deviceCaptureRequest:li,fetchRoomConfig:di,joinRoom:pi,joinRoomFailed:fi,joinRoomSuccess:hi,selfUpdated:mi,leaveRoom:gi,lockRoom:vi,unlockRoom:bi,destroyRoom:yi,roomLocked:wi,roomUnlocked:xi,setDisplayName:Si,setDesiredMedia:_i,setVoiceActivityThreshold:ki,setPushToTalk:function(e){return{payload:{pushToTalk:e},type:Rt}},setAudioOutputDevice:Ci,setGlobalVolumeLimit:Ei,peerOnline:Ti,peerOffline:Pi,peerUpdated:Ri,kickPeer:Ai,limitPeerVolume:ji,addLocalMedia:Tr,addLocalAudio:Pr,addLocalVideo:Rr,addLocalScreen:Ar,addRemoteMedia:jr,removeMedia:Or,updateMedia:Ir,enableMedia:Mr,disableMedia:Dr,shareLocalMedia:Nr,stopSharingLocalMedia:Lr,adjustVideoCaptureResolution:Fr,setVideoResolutionTiers:Ur,mutePeer:Br,unmutePeer:qr,muteSelf:zr,unmuteSelf:Vr,pauseSelfVideo:Wr,resumeSelfVideo:Hr,removeAllMedia:Gr});const Ii="getScreenMediaJSExtensionId";function Mi(){return!!window.chrome||(!!window.InstallTrigger||"getDisplayMedia"in window.navigator.mediaDevices)}function Di(){return!!(window.chrome&&xe.browserDetails.version<72)}function Ni(e){const t=window.chrome.runtime;return new Promise((n,r)=>{t.sendMessage(e,{type:"isInstalled"},null,e=>{e&&e.installed&&e.extensionId?(sessionStorage.setItem(Ii,e.extensionId),n(!0)):n(!1)})})}function Li(e){return sessionStorage[Ii]===e}"chrome"===xe.browserDetails.browser?xe.browserShim.shimGetDisplayMedia(window,()=>new Promise((e,t)=>{window.chrome.runtime.sendMessage(sessionStorage[Ii],{type:"getScreen",id:1},null,n=>{if(n&&""!==n.sourceId)e(n.sourceId);else{const e=new Error("NavigatorUserMediaError");e.name="NotAllowedError",t(e)}})})):"firefox"===xe.browserDetails.browser&&xe.browserShim.shimGetDisplayMedia(window,"screen");const Fi={config:{apiVersion:"",credential:"",customerData:{},iceServers:[],id:"",orgId:"",roomConfigUrl:"",screensharingExtensions:{chrome:""},signalingUrl:"",telemetryUrl:"",userId:""},configUrl:"",connectionAttempts:0,connectionState:"disconnected",queuedTelemetry:[],signalingClient:void 0,token:"",videoResolutionTiers:[[0,{width:800,height:600,frameRate:30}],[1,{width:800,height:600,frameRate:30}],[2,{width:640,height:480,frameRate:30}],[3,{width:320,height:240,frameRate:15}],[5,{width:320,height:240,frameRate:10}]]};const Ui={};function Bi(e,t){return e[t.payload.roomAddress]||(e=function(e,t){return Object.assign({},e,{[t.payload.roomAddress]:{allowedAudioRoles:["moderator","participant"],allowedMedia:"video",allowedVideoRoles:["moderator","participant"],joined:!1,joinedAt:void 0,recordable:!1,recordingState:"offline",requestingMedia:void 0,roomAddress:t.payload.roomAddress,state:"active"}})}(e,t)),t.type===on?Object.assign({},e,{[t.payload.roomAddress]:Object.assign({},e[t.payload.roomAddress],{joined:!0,joinedAt:new Date(Date.now()),requestingMedia:t.payload.desiredMedia})}):t.type===an?Object.assign({},e,{[t.payload.roomAddress]:Object.assign({},e[t.payload.roomAddress],{joined:!1,joinedAt:void 0,requestingMedia:void 0})}):t.type===sn?Object.assign({},e,{[t.payload.roomAddress]:Object.assign({},e[t.payload.roomAddress],{requestingMedia:t.payload.desiredMedia})}):e}const qi={};function zi(e,t){if(t.type===Wt){const n=t.payload,r=e[n.id];if(n.replace){const t=e[n.replace];if(t&&t.direction===bn)return Object.assign({},e,{[n.id]:Object.assign({},r,{acked:!0,body:n.body})})}if(!r)return Object.assign({},e,{[n.id]:n});if(r.direction===bn)return Object.assign({},e,{[n.id]:Object.assign({},r,{acked:!0,body:n.body,time:n.time})})}if(t.type===Ht){const n=t.payload,r=e[n.id];return Object.assign({},e,{[n.id]:Vi(r,n)})}return e}function Vi(e,t){return e?Object.assign({},t,{editedTime:t.time,time:e.time}):t}const Wi={};const Hi={cameraPermissionDenied:!1,cameraPermissionGranted:!1,devices:[],hasAudioOutput:!1,hasCamera:!1,hasMicrophone:!1,microphonePermissionDenied:!1,microphonePermissionGranted:!1,requestingCameraCapture:!1,requestingCapture:!1,requestingMicrophoneCapture:!1};const Gi={};const $i={};function Qi(e,t){const n=e[t.payload.peerAddress];if(!n)return e;const r=new Date(Date.now());let i=n.lastSpokeAt;n.speaking&&!1===t.payload.updated.speaking&&(i=r);let o=!1;return n.joinedCall&&!1===t.payload.updated.joinedCall&&(o=!0),Object.assign({},e,{[t.payload.peerAddress]:Object.assign({},n,t.payload.updated,{joinedCallAt:o?void 0:n.joinedCallAt||r,lastSpokeAt:i})})}const Yi={};function Ki(e,t){const n=e[t.payload.roomAddress];return n?t.type===Nt?Object.assign({},e,{[t.payload.roomAddress]:Object.assign({},n,{joined:!1,joinedAt:void 0,password:"",passwordRequired:!!t.payload.passwordRequired,roomState:t.payload.passwordRequired?"password-required":"failed"})}):Object.assign({},e,{[t.payload.roomAddress]:Object.assign({},n,{id:t.payload.id,joined:!0,joinedAt:n.joinedAt||new Date(Date.now()),roomState:"joined",selfAddress:t.payload.selfAddress,selfAffiliation:t.payload.affiliation,selfRole:t.payload.role})}):e}const Ji={displayName:"",globalVolumeLimit:1,mediaEnabled:!0,pushToTalk:!1,requestingMedia:"video",voiceActivityThreshold:-65};function Xi(e,t){return Object.assign({},e,t.payload)}const Zi=h({api:function(e=Fi,t){switch(t.type){case Jt:return Object.assign({},e,{signalingClient:t.payload});case Xt:return Object.assign({},e,{connectionState:"disconnected",signalingClient:void 0});case Zt:return Object.assign({},e,{connectionState:t.payload});case en:{const n=t.payload.config,r=t.payload.configUrl,i=t.payload.token||"";return Object.assign({},e,{config:Object.assign({},e.config,n),configUrl:r,token:i})}case nn:return Object.assign({},e,{queuedTelemetry:[...e.queuedTelemetry,t.payload]});case rn:return Object.assign({},e,{queuedTelemetry:e.queuedTelemetry.slice(t.payload)});case mn:return Object.assign({},e,{videoResolutionTiers:t.payload.videoResolutionTiers})}return e},calls:function(e=Ui,t){switch(t.type){case on:case an:return Bi(e,t);case jt:return function(e,t){const n=Object.assign({},e);return delete n[t.payload.roomAddress],n}(e,t);case Lt:case sn:return Bi(e,t)}return e},chats:function(e=qi,t){switch(t.type){case Wt:case Ht:return zi(e,t)}return e},connections:function(e=Wi,t){switch(t.type){case un:return function(e,t){return Object.assign({},e,{[t.payload.id]:{connectionState:"",id:t.payload.id,peerAddress:t.payload.peerAddress,receivingAudioMediaId:"",receivingVideoMediaId:"",restarting:!1,roomAddress:t.payload.roomAddress,sendingAudioMediaId:"",sendingVideoMediaId:"",sessionState:""}})}(e,t);case cn:return function(e,t){return e[t.payload.id]?Object.assign({},e,{[t.payload.id]:Object.assign({},e[t.payload.id]||{},{peerAddress:t.payload.peerAddress},t.payload.updated)}):e}(e,t);case ln:return function(e,t){const n=Object.assign({},e);return delete n[t.payload.id],n}(e,t)}return e},devices:function(e=Hi,t){if(t.type===dn){const n=t.payload,r=n.filter(e=>"audioinput"===e.kind),i=n.filter(e=>"videoinput"===e.kind),o=n.filter(e=>"audiooutput"===e.kind);return Object.assign({},e,{cameraPermissionGranted:i.filter(e=>!!e.label).length>0,devices:n.filter(e=>!!e.label),hasAudioOutput:o.length>0,hasCamera:i.length>0,hasMicrophone:r.length>0,microphonePermissionGranted:r.filter(e=>!!e.label).length>0})}return t.type===pn?Object.assign({},e,{cameraPermissionDenied:!0}):t.type===fn?Object.assign({},e,{microphonePermissionDenied:!0}):t.type===hn?Object.assign({},e,{requestingCameraCapture:t.payload.camera,requestingCapture:t.payload.camera||t.payload.microphone,requestingMicrophoneCapture:t.payload.microphone}):e},media:function(e=Gi,t){switch(t.type){case Qt:return function(e,t){return Object.assign({},e,{[t.payload.id]:t.payload})}(e,t);case Yt:return function(e,t){const n=Object.assign({},e);return delete n[t.payload.id],n}(e,t);case Kt:return function(e,t){const n=e[t.payload.id];return n?Object.assign({},e,{[t.payload.id]:Object.assign({},n,t.payload.updated)}):e}(e,t);case an:return function(e,t){const n=Object.assign({},e);for(const r of Object.keys(e)){const i=e[r];"remote"===i.source&&i.roomAddress===t.payload.roomAddress&&delete n[r]}return n||{}}(e,t)}return e},peers:function(e=$i,t){switch(t.type){case qt:return function(e,t){if(e[t.payload.peerAddress])return Qi(e,{payload:{peerAddress:t.payload.peerAddress,updated:t.payload},type:Vt});const n=new Date(Date.now());return Object.assign({},e,{[t.payload.peerAddress]:{address:t.payload.peerAddress,affiliation:t.payload.affiliation,chatState:"active",customerData:t.payload.customerData||{},displayName:t.payload.displayName||"",id:t.payload.id,joinedCall:t.payload.joinedCall||!1,joinedCallAt:t.payload.joinedCall?n:void 0,joinedRoomAt:n,lastSpokeAt:void 0,muted:!1,requestingAttention:!1,requestingMedia:t.payload.requestingMedia||"none",role:t.payload.role,roomAddress:t.payload.roomAddress,rtt:"",speaking:!1,volume:-1/0,volumeLimit:.8}})}(e,t);case zt:return function(e,t){const n=Object.assign({},e);return delete n[t.payload.peerAddress],n}(e,t);case Vt:return Qi(e,t);case jt:return function(e,t){const n=Object.assign({},e);for(const r of Object.keys(e))e[r].roomAddress===t.payload.roomAddress&&delete n[r];return n}(e,t)}return e},rooms:function(e=Yi,t){switch(t.type){case Dt:return Ki(e,t);case At:return function(e,t){return Object.assign({},e,{[t.payload.roomAddress]:{address:t.payload.roomAddress,autoJoinCall:!!t.payload.autoJoinCall,id:"",joined:!1,joinedAt:void 0,password:t.payload.password||"",passwordRequired:!1,providedName:t.payload.providedRoomName,providedPassword:t.payload.providedPassword,roomState:"joining",selfAddress:"",selfAffiliation:"none",selfRole:"none",unreadCount:0}})}(e,t);case Nt:case Lt:return Ki(e,t);case jt:return function(e,t){const n=Object.assign({},e);return delete n[t.payload.roomAddress],n}(e,t);case Ot:case It:case Ft:case Ut:return function(e,t){const n=e[t.payload.roomAddress];if(!n)return e;switch(t.type){case Ot:return Object.assign({},e,{[t.payload.roomAddress]:Object.assign({},n,{providedPassword:t.payload.password||""})});case Ft:return Object.assign({},e,{[t.payload.roomAddress]:Object.assign({},n,{password:t.payload.password||"",passwordRequired:!0,providedPassword:void 0})});case Ut:return Object.assign({},e,{[t.payload.roomAddress]:Object.assign({},n,{password:"",passwordRequired:!1,providedPassword:void 0})})}return e}(e,t)}return e},user:function(e=Ji,t){switch(t.type){case Rt:return Xi(e,t);case en:return Xi(e,{payload:{displayName:t.payload.config.displayName||e.displayName||"Anonymous"},type:Rt});case dn:{const n=e.audioOutputDeviceId;if(n){for(const r of t.payload)if(r.id===n)return e;return Xi(e,{payload:{audioOutputDeviceId:""},type:Rt})}return e}}return e}});class eo extends Ee.Component{componentDidMount(){this.setup()}componentDidUpdate(e){this.setup()}setup(){this.audio.oncontextmenu=(e=>{e.preventDefault()}),this.audio.srcObject!==this.props.media.stream&&(this.audio.srcObject=this.props.media.stream),(this.props.volume||0===this.props.volume)&&(this.audio.volume=this.props.volume),this.props.media.localDisabled||this.props.media.remoteDisabled||0===this.props.volume?this.audio.muted=!0:this.audio.muted=!1,this.props.outputDevice&&this.audio.sinkId!==this.props.outputDevice&&this.audio.setSinkId?(this.audio.pause(),this.audio.setSinkId(this.props.outputDevice).then(()=>{this.audio.play()}).catch(e=>{this.audio.play(),console.error(e)})):this.audio.autoplay=!0}render(){return Object(Ee.createElement)("audio",Object.assign({ref:e=>{this.audio=e}},{playsInline:!0}))}}var to=kt(function(e,t){const n=["joinedCall","speaking","chatState","requestingAttention"],r=Mn(e,t.room).filter(e=>{for(const r of n)if(void 0!==t[r]&&e[r]!==t[r])return!1;return!0});return Object.assign({},t,{peers:r})})(class extends Ee.Component{render(){const e={chatState:this.props.chatState||void 0,joinedCall:this.props.joinedCall||!1,peers:this.props.peers||[],speaking:this.props.speaking||!1};let t=this.props.render;return t||"function"!=typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}});kt(function(e,t){return t},function(e,t){return{onChat:n=>e(Kr(t.room,n)),onChatState:n=>e(Jr(t.room,n)),onRtt:n=>e(Zr(t.room,n))}})(class extends Ee.Component{constructor(e){super(e),this.rttBuffer=new Se.InputBuffer,this.state={chatState:"active",message:""}}componentDidUpdate(e){!e.rtt&&this.props.rtt&&(this.props.onRtt(this.rttBuffer.start()),this.rttBuffer.update(this.state.message)),e.rtt&&!this.props.rtt&&(this.props.onRtt(this.rttBuffer.stop()),clearInterval(this.rttInterval),this.rttInterval=null)}startSendingRtt(){!this.rttInterval&&this.props.rtt&&(this.rttInterval=setInterval(this.rttSend.bind(this),700),setTimeout(this.rttSend.bind(this),100))}rttUpdate(e=""){this.rttBuffer.update(e),this.startSendingRtt()}rttSend(){if(!this.props.rtt)return;const e=this.rttBuffer.diff();e&&this.props.onRtt(e)}commitMessage(){if(this.props.disabled||0===this.state.message.length)return;clearTimeout(this.pausedTimeout),this.pausedTimeout=null,clearInterval(this.rttInterval),this.rttInterval=null;const{message:e}=this.state;this.setState({message:"",chatState:"active"}),this.rttBuffer.commit(),this.props.onChat&&this.props.onChat({body:e})}updateChatState(e){this.pausedTimeout&&clearTimeout(this.pausedTimeout),this.pausedTimeout="composing"===e?setTimeout(()=>{this.updateChatState("paused")},1e4):null,e!==this.state.chatState&&this.props.onChatState&&this.props.onChatState(e),this.setState({chatState:e})}render(){return Object(Ee.createElement)("textarea",{id:this.props.id,value:this.state.message,placeholder:this.props.placeholder,disabled:this.props.disabled,onInput:e=>{const t=e.target.value;this.rttUpdate(t),""!==t&&this.updateChatState("composing"),""!==this.state.message&&""===t&&this.updateChatState("active"),this.setState({message:t})},onChange:()=>null,onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),this.commitMessage())}})}});function no(e){e=e||{},this.target=e.target,this.interval=1e3|e.interval,this.max=e.max||0,this.callback=e.callback,this.userScroll=!0,this.spinner=e.spinner,this.spin_img=new Image,this.stickyHeight=e.stickyHeight||10,this.spinner&&(this.spin_img.src=this.spinner);var t=this;if(this.intend_down=!0,this.emit("lock"),document.onmousewheel,window.addEventListener("resize",function(e){t.emit("windowresize"),t.checkdown()}),this.target.addEventListener("scroll",function(e){t.userScroll&&(t.intend_down&&!t.isdown()?(t.intend_down=!1,t.emit("release")):!t.intend_down&&t.isdown()&&(t.intend_down=!0,t.emit("lock"))),t.userScroll=!0}),window.MutationObserver)this.mo=new MutationObserver(function(e){var n,r,i,o,a,s,c,u,l;for(t.userScroll=!1,t.checkdown(),r=0;r<e.length;r++)for(n=e[r],i=0;i<n.addedNodes.length;i++)if(n.addedNodes[i].getElementsByTagName)for(s=0,c=(o=n.addedNodes[i].getElementsByTagName("img")).length;s<c;s++)if(!(a=o[s]).complete){u=a.parentNode,t.spinner&&(l=t.spin_img.cloneNode(),u.replaceChild(l,a));var d=function(e){l&&u.replaceChild(a,l),t.emit("imageload"),t.checkdown(),e.target.removeEventListener("load",d)};a.addEventListener("load",d)}}),this.mo.observe(this.target,{attributes:!0,childList:!0,characterData:!0,subtree:!0});else{var n=function(){t.checkdown(),window.setTimeout(n,t.interval)};n()}}(function(){this.isdown=function(){return this.target.scrollHeight-this.target.scrollTop-this.target.clientHeight<this.stickyHeight},this.append=function(e){for(this.emit("append"),this.target.appendChild(e),this.intend_down&&(this.target.scrollTop=this.target.scrollHeight,this.emit("scrolldown"));0!==this.max&&this.target.children.length>this.max;)this.target.removeChild(this.target.children[0]),this.emit("removechild")},this.emit=function(e,t){"function"==typeof this.callback&&this.callback(e,t)},this.checkdown=function(){var e=this.target.scrollHeight-this.target.scrollTop-this.target.clientHeight;(this.intend_down||e<this.stickyHeight)&&(this.target.scrollTop=this.target.scrollHeight,this.userScroll=!1,this.emit("scrolldown"))}}).call(no.prototype);class ro extends Ee.Component{render(){return Object(Ee.createElement)("div",Object.assign({},this.props,{ref:e=>{if(!e)return;const t=new no({target:e,stickyHeight:30});this.staydown&&(t.intend_down=this.staydown.intend_down,t.userScroll=this.staydown.userScroll),this.staydown=t,this.staydown.checkdown()}}))}}class io extends Ee.Component{render(){let e=this.props.render;return e||"function"!=typeof this.props.children||(e=this.props.children),e?e(this.props):this.props.children?this.props.children:Object(Ee.createElement)("div",null,Object(Ee.createElement)("span",null,this.props.displayName),this.props.chats.map(e=>Object(Ee.createElement)("div",null,e.body)))}}var oo=kt(function(e,t){return t.room?Object.assign({},t,{groups:Nn(e,t.room,t.maxGroupDuration)||[]}):Object.assign({},t,{groups:[]})})(class extends Ee.Component{render(){const e=this.props.groups||[];let t=this.props.render;return t||"function"!=typeof this.props.children||(t=this.props.children),t?t({groups:e}):this.props.children?this.props.children:Object(Ee.createElement)(ro,{id:this.props.id,className:this.props.className},e.map(e=>this.props.renderGroup?this.props.renderGroup(e):Object(Ee.createElement)(io,Object.assign({},e))))}});var ao=kt(function(e,t){const n=Bn(e).filter(e=>!t.audioInput&&!t.videoInput&&!t.audioOutput||"audioinput"===e.kind&&t.audioInput||"videoinput"===e.kind&&t.videoInput||"audiooutput"===e.kind&&t.audioOutput),r=qn(e);return Object.assign({},t,{devices:n},r)},function(e){return{fetchDevices:()=>e(ai()),listenForDevices:()=>e(oi())}})(class extends Ee.Component{componentDidMount(){this.props.listenForDevices(),this.props.fetchDevices()}render(){const e={audioInput:this.props.audioInput,audioOutput:this.props.audioOutput,cameraPermissionDenied:this.props.cameraPermissionDenied,cameraPermissionGranted:this.props.cameraPermissionGranted,devices:this.props.devices,hasAudioOutput:this.props.hasAudioOutput,hasCamera:this.props.hasCamera,hasMicrophone:this.props.hasMicrophone,microphonePermissionDenied:this.props.microphonePermissionDenied,microphonePermissionGranted:this.props.microphonePermissionGranted,requestingCameraCapture:this.props.requestingCameraCapture,requestingCapture:this.props.requestingCapture,requestingMicrophoneCapture:this.props.requestingMicrophoneCapture,videoInput:this.props.videoInput};let t=this.props.render;return t||"function"!=typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}});const so="abcdefghijklmnopqrstuvwxyz";function co(e){if(1===e)return'"a"';if(2===e)return'"a b"';if(3===e)return'"a b" "a c"';const t=Math.ceil(Math.pow(e,.5)),n=Math.ceil(e/t),r=[];for(let e=0;e<n;e++){let n="";for(let r=0;r<t;r++)n+=so.charAt(e*t+r);r.push(`"${n.split("").join(" ")}"`)}return r.join(" ")}function uo(e){return Math.ceil(e/Math.ceil(Math.pow(e,.5)))}function lo(e){return Object(Ee.createElement)("div",{style:{display:"flex",gridArea:(t=e.index,so.charAt(t)),overflow:"hidden"}},e.content);var t}function po(e){return Object(Ee.createElement)("div",{id:e.id,className:e.className,style:{display:"grid",gridTemplateAreas:co(e.itemCount),gridTemplateColumns:`repeat(${t=e.itemCount,Math.ceil(Math.pow(t,.5))}, 1fr)`,gridTemplateRows:`repeat(${uo(e.itemCount)}, 1fr)`}},e.content);var t}var fo=kt(function(e,t){let n;t.audio&&!t.video&&(n="audio"),!t.audio&&t.video&&(n="video");let r=[];return r=(r=t.shared?Hn(e,n):Vn(e,n)).filter(e=>"video"===e.kind&&void 0!==t.screen?e.screenCapture===t.screen:!e.shared||!1!==t.shared),Object.assign({},t,{media:r})},function(e){return{removeMedia:t=>e(Or(t)),shareLocalMedia:t=>e(Nr(t)),stopSharingLocalMedia:t=>e(Lr(t))}})(class extends Ee.Component{render(){const e={audio:this.props.audio,media:this.props.media||[],removeMedia:this.props.removeMedia,screen:this.props.screen,shareLocalMedia:this.props.shareLocalMedia,shared:this.props.shared,stopSharingLocalMedia:this.props.stopSharingLocalMedia,video:this.props.video};let t=this.props.render;return t||"function"!=typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}});kt(function(e){return{}},function(e,t){return{disableMedia:()=>e(Dr(t.media.id)),enableMedia:()=>e(Mr(t.media.id)),removeLocalMedia:()=>e(Or(t.media.id)),shareLocalMedia:()=>e(Nr(t.media.id)),stopSharingLocalMedia:()=>e(Lr(t.media.id))}})(class extends Ee.Component{render(){const e={disable:this.props.disableMedia,enable:this.props.enableMedia,isEnabled:!this.props.media.localDisabled&&!this.props.media.remoteDisabled,isShared:"local"===this.props.media.source&&!!this.props.media.shared,media:this.props.media,remove:this.props.removeLocalMedia,share:this.props.shareLocalMedia,stopSharing:()=>{this.props.stopSharingLocalMedia(),this.props.autoRemove&&(this.props.removeLocalMedia(),this.props.media.track.stop())}};let t=this.props.render;return t||"function"!=typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}});var ho=kt(function(e,t){const n=An(e,t.peer.address);return{hasActiveMicrophone:zn(e,t.peer.address,"audio").filter(e=>!e.remoteDisabled).length>0,isMuted:n.muted||!1,isSpeaking:n.speaking||!1}},function(e,t){return{kick:()=>e(Ai(t.peer.roomAddress,t.peer.address)),mute:()=>e(Br(t.peer.address)),setVolumeLimit:n=>e(ji(t.peer.address,n)),unmute:()=>e(qr(t.peer.address))}})(class extends Ee.Component{render(){const e={hasActiveMicrophone:this.props.hasActiveMicrophone,isMuted:this.props.isMuted,isSpeaking:this.props.isSpeaking,kick:this.props.kick,mute:this.props.mute,peer:this.props.peer,setVolumeLimit:this.props.setVolumeLimit,unmute:this.props.unmute};let t=this.props.render;return t||"function"!=typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}});function mo(e){return{connectionState:En(e),isSupportedBrowser:Zn(),localMedia:Vn(e)}}function go(e,t){return{connect:()=>e(hr(t.configUrl,t.userData)),disconnect:()=>e(mr()),removeAllMedia:()=>e(Gr()),setDefaultValues:()=>{t.desiredMedia&&e(_i(t.desiredMedia)),t.displayName&&e(Si(t.displayName)),t.videoResolutionTiers&&e(Ur(t.videoResolutionTiers))}}}function vo(e){return kt(mo)(class extends Ee.Component{render(){const t={connectionState:this.props.connectionState};let n=this.props.render;return n||"function"!=typeof this.props.children||(n=this.props.children),this.props.connectionState===e?n?n(t):this.props.children:null}})}kt(mo,go)(class extends Ee.Component{render(){return this.props.isSupportedBrowser?null:this.props.children}}),kt(mo,go)(class extends Ee.Component{render(){const e={connectionState:this.props.connectionState};let t=this.props.render;return t||"function"!=typeof this.props.children||(t=this.props.children),"connected"!==this.props.connectionState?t?t(e):this.props.children:null}});const bo=vo("connecting"),yo=vo("connected"),wo=vo("disconnected");vo("failed");var xo=kt(mo,go)(class extends Ee.Component{componentDidMount(){this.props.setDefaultValues(),this.props.connect(),window.addEventListener("online",()=>{setTimeout(()=>{"connected"!==this.props.connectionState&&"connecting"!==this.props.connectionState&&(this.props.disconnect(),this.props.connect())},5e3*Math.random())}),window.addEventListener("offline",()=>{setTimeout(()=>{navigator.onLine||this.props.disconnect()},5e3)})}componentWillUnmount(){this.props.removeAllMedia(),this.props.disconnect()}render(){const e={connectionState:this.props.connectionState};let t=this.props.render;return t||"function"!=typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}});var So=kt(function(e,t){const n=Wn(e,"audio"),r=[];for(const t of n){const n=An(e,t.owner);r.push({media:t,volumeLimit:(n?n.volumeLimit:1)||1})}return{audioSources:r,globalVolumeLimit:$n(e),outputDevice:Gn(e)}})(class extends Ee.Component{render(){const e=this.props.audioSources||[],t=this.props.globalVolumeLimit;return Object(Ee.createElement)(Ee.Fragment,null,e.map(e=>Object(Ee.createElement)(eo,{key:e.media.id,media:e.media,volume:t*e.volumeLimit,outputDevice:this.props.outputDevice})))}});var _o=kt(function(e,t){let n;t.audio&&!t.video?n="audio":!t.audio&&t.video&&(n="video");let r=[];return r=t.peer?zn(e,t.peer,n):Wn(e,n),Object.assign({},t,{media:r})})(class extends Ee.Component{render(){const e={audio:this.props.audio,media:this.props.media||[],peer:this.props.peer,video:this.props.video};let t=this.props.render;return t||"function"!=typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}});kt(function(e,t){const n=yn(e);return{extensionId:t.extensionId||n.screensharingExtensions.chrome}},function(e){return{addLocalScreen:(t,n)=>e(Ar(t,n)),shareLocalScreen:t=>e(Nr(t))}})(class extends Ee.Component{constructor(e){super(e),this.installCheckInterval=void 0,this.state={extensionInstalled:!!this.props.extensionId&&Li(this.props.extensionId),extensionInstalling:!1,extensionRequired:Di()}}componentDidMount(){Di()&&this.props.extensionId&&Ni(this.props.extensionId).then(e=>{this.setState({extensionInstalled:e})})}getDisplayMedia(){return Pt(this,void 0,void 0,function*(){try{if(!navigator.mediaDevices.getDisplayMedia)throw new Error("getDisplayMedia not supported");const e=yield navigator.mediaDevices.getDisplayMedia({video:!0}),t=e.getVideoTracks()[0];this.props.addLocalScreen(t,e),!1!==this.props.share&&this.props.shareLocalScreen(t.id)}catch(e){console.log(e,e.message,e.name)}})}listenForInstallation(e=2e3){return Pt(this,void 0,void 0,function*(){this.installCheckInterval&&(clearInterval(this.installCheckInterval),this.installCheckInterval=void 0),this.setState({extensionInstalling:!0}),this.installCheckInterval=setInterval(()=>{if(!this.props.extensionId||this.state.extensionInstalled)return clearInterval(this.installCheckInterval),void(this.installCheckInterval=void 0);Ni(this.props.extensionId).then(e=>{this.setState({extensionInstalled:e,extensionInstalling:!e})})},e)})}render(){if(this.props.render){const e=Mi(),t=e&&(!this.state.extensionRequired||this.state.extensionRequired&&this.state.extensionInstalled);return this.props.render(this.getDisplayMedia.bind(this),{available:e,extensionId:this.props.extensionId,extensionInstalled:this.state.extensionInstalled,extensionInstalling:this.state.extensionInstalling,extensionRequired:this.state.extensionRequired,listenForInstallation:this.listenForInstallation.bind(this),ready:t})}return Object(Ee.createElement)("button",{onClick:()=>this.getDisplayMedia()},"Start Screenshare")}});function ko(e,t,n){return!(!1===n||!n&&!t)&&(t=!0===t?{}:t,n=!0===n?{}:n,Object.assign({},e,t,n))}var Co=kt(function(e,t){const n=qn(e);return Object.assign({},t,{requestingCameraCapture:n.requestingCameraCapture,requestingCapture:n.requestingCapture,requestingMicrophoneCapture:n.requestingMicrophoneCapture})},function(e){return{addLocalAudio:(t,n,r)=>e(Pr(t,n,r)),addLocalScreen:(t,n,r)=>e(Ar(t,n,r)),addLocalVideo:(t,n,r,i)=>e(Rr(t,n,r,i)),cameraPermissionDenied:t=>e(ci(t)),deviceCaptureRequest:(t,n)=>e(li(t,n)),fetchDevices:()=>e(ai()),microphonePermissionDenied:t=>e(ui(t)),removeAllMedia:t=>e(Gr(t)),shareLocalMedia:t=>e(Nr(t))}})(class extends Ee.Component{constructor(e){super(e),this.errorCount=0}getMedia(e={}){return Pt(this,void 0,void 0,function*(){let t;const n={};{const e=navigator.mediaDevices.getSupportedConstraints();for(const t of["autoGainControl","echoCancellation","noiseSuppression"])e[t]&&(n[t]=!0)}const r=ko(n,this.props.audio,e.audio),i=ko({},this.props.video,e.video);try{if(!navigator.mediaDevices)throw new Error("getUserMedia not supported");this.props.deviceCaptureRequest(!!i,!!r),r&&(yield this.props.removeAllMedia("audio")),t=yield navigator.mediaDevices.getUserMedia({audio:r,video:i})}catch(t){return this.errorCount+=1,"AbortError"===t.name&&this.errorCount<12?(setTimeout(()=>this.getMedia(e),100+Math.pow(2,this.errorCount)),{}):("NotAllowedError"!==t.name&&"SecurityError"!==t.name||(r&&this.props.microphonePermissionDenied(),i&&this.props.cameraPermissionDenied()),this.props.deviceCaptureRequest(!1,!1),this.props.onError&&this.props.onError(t),{})}this.errorCount=0;const o=t.getAudioTracks()[0],a=t.getVideoTracks()[0];o?(this.props.addLocalAudio(o,t,this.props.replaceAudio),!1!==this.props.share&&this.props.shareLocalMedia(o.id)):r&&this.props.microphonePermissionDenied(),a?(this.props.screenCapture?this.props.addLocalScreen(a,t,this.props.replaceVideo):this.props.addLocalVideo(a,t,this.props.mirrored,this.props.replaceVideo),!1!==this.props.share&&this.props.shareLocalMedia(a.id)):i&&this.props.cameraPermissionDenied(),yield this.props.fetchDevices(),yield this.props.deviceCaptureRequest(!1,!1);const s={audio:o?o.id:void 0,video:a?a.id:void 0};return this.props.onSuccess&&this.props.onSuccess(s),s})}componentDidMount(){this.props.auto&&this.getMedia()}componentDidUpdate(e){this.props.auto&&this.props.auto!==e.auto&&this.getMedia()}render(){const e=this.getMedia.bind(this);let t=this.props.render;return t||"function"!=typeof this.props.children||(t=this.props.children),t?t(e):this.props.children?this.props.children:this.props.auto?null:Object(Ee.createElement)("button",{onClick:e},"Request Media")}});var Eo=kt(function(e,t){let n;return t.roomAddress?n=On(e,t.roomAddress):t.name&&(n=In(e,t.name)),{call:n?Ln(e,n.address):void 0,connectionState:En(e),localMedia:Vn(e),peers:n?Mn(e,n.address):[],remoteMedia:Wn(e),room:n,roomAddress:n?n.address:void 0,roomState:n?n.roomState:"joining"}},function(e,t){return{destroy:t=>e(yi(t)),join:()=>e(pi(t.name,{password:t.password||void 0})),leave:t=>e(gi(t)),lock:(t,n)=>e(vi(t,n)),unlock:t=>e(bi(t))}})(class extends Ee.Component{componentDidMount(){"connected"===this.props.connectionState&&this.props.join()}componentWillUnmount(){this.props.leave(this.props.roomAddress)}componentDidUpdate(e){"connected"===this.props.connectionState&&(this.props.connectionState===e.connectionState?this.props.room&&this.props.password!==e.password&&("joined"===this.props.room.roomState?this.props.password?this.props.lock(this.props.roomAddress,this.props.password):this.props.unlock(this.props.roomAddress):this.props.join()):this.props.join())}render(){const e={call:this.props.call||{},joined:!!this.props.room&&this.props.room.joined,localMedia:this.props.localMedia||[],peers:this.props.peers||[],remoteMedia:this.props.remoteMedia||[],room:this.props.room||{}};let t=this.props.render;return t||"function"!=typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}});kt(function(e,t){const n=Vn(e,"audio").filter(e=>!e.localDisabled),r=Vn(e,"video").filter(e=>!e.localDisabled),i=Sn(e),o=xn(e),a=$n(e),s=er(e,!1),c=tr(e,!1);return{customerData:i,isDeafened:0===a,isMuted:!n.length,isPaused:!r.length,isSpeaking:s,isSpeakingWhileMuted:c,user:o}},function(e,t){return{deafen:()=>e(Ei(0)),mute:()=>e(zr()),pauseVideo:()=>e(Wr()),resumeVideo:()=>e(Hr()),setAudioOutputDevice:t=>e(Ci(t)),setDisplayName:t=>e(Si(t)),setGlobalVolumeLimit:t=>e(Ei(t)),setVoiceActivityThreshold:t=>e(ki(t)),undeafen:()=>e(Ei(1)),unmute:()=>e(Vr())}})(class extends Ee.Component{render(){const e={customerData:this.props.customerData||{},deafen:this.props.deafen,isDeafened:this.props.isDeafened||!1,isMuted:this.props.isMuted||!1,isPaused:this.props.isPaused||!1,isSpeaking:this.props.isSpeaking||!1,isSpeakingWhileMuted:this.props.isSpeakingWhileMuted||!1,mute:this.props.mute,pauseVideo:this.props.pauseVideo,resumeVideo:this.props.resumeVideo,setAudioOutputDevice:this.props.setAudioOutputDevice,setDisplayName:this.props.setDisplayName,setGlobalVolumeLimit:this.props.setGlobalVolumeLimit,setVoiceActivityThreshold:this.props.setVoiceActivityThreshold,undeafen:this.props.undeafen,unmute:this.props.unmute,user:this.props.user};let t=this.props.render;return t||"function"!=typeof this.props.children||(t=this.props.children),t?t(e):this.props.children}});class To extends Ee.Component{componentDidMount(){this.setup()}componentDidUpdate(e){this.setup()}setup(){this.props.media&&this.video&&(this.video.oncontextmenu=(e=>{e.preventDefault()}),this.video.muted=!0,this.video.autoplay=!0,this.video.srcObject!==this.props.media.stream&&(this.video.srcObject=this.props.media.stream))}render(){return this.props.media&&this.props.media.loaded?Object(Ee.createElement)("video",{ref:e=>{this.video=e},style:this.props.media&&this.props.media.renderMirrored?{transform:"scaleX(-1)"}:{},playsInline:!0}):null}}class Po extends Ee.Component{constructor(e){super(e),this.state={volume:-1/0},this.onVolume=(e=>{this.setState({volume:e})})}componentDidMount(){this.props.media&&this.props.media.hark&&this.attachHark()}componentWillUnmount(){this.detachHark()}componentDidUpdate(e){e.media!==this.props.media&&(this.detachHark(),this.attachHark())}attachHark(){this.setState({volume:-1/0}),this.props.media&&(this.hark=this.props.media.hark),this.hark&&this.hark.on("volume",this.onVolume)}detachHark(){this.hark&&(this.hark.removeListener("volume",this.onVolume),this.hark=void 0),this.setState({volume:-1/0})}render(){const e=this.props.media,t=this.props.noInputTimeout||7e3,n=e&&(e.externalDisabled||!!e.inputLost&&Date.now()-e.inputLost>t),r={loaded:e&&!!e.loaded&&!!e.inputDetected,media:e,muted:e&&e.localDisabled,noInput:n,speaking:e&&e.speaking,speakingWhileMuted:e&&e.localDisabled&&e.speaking,volume:e.externalDisabled?-1/0:this.state.volume};let i=this.props.render;return i||"function"!=typeof this.props.children||(i=this.props.children),i?i(r):this.props.children}}Zn();var Ro=n(1);function Ao(e,t,n){return Math.min(Math.max(t,e),n)}function jo(e,t,n){return function(e,t,n,r){return void 0===r&&(r=1),{h:e/360,s:t,l:n,a:r}}(e,t,n)}function Oo(e,t,n,r){void 0===r&&(r=1),e/=255,t/=255,n/=255;var i=Math.max(e,t,n),o=Math.min(e,t,n),a=0,s=0,c=(i+o)/2;if(i===o)a=s=0;else{var u=i-o;switch(s=c>.5?u/(2-i-o):u/(i+o),i){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4}a/=6}return{h:a,s:s,l:c,a:r}}function Io(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return"#"+t+t+n+n+r+r}).substring(1).match(/.{2}/g).map(function(e){return parseInt(e,16)}),n=t[0],r=t[1],i=t[2],o=t[3];return o?Oo(n,r,i,o):function(e,t,n){return Oo(e,t,n)}(n,r,i)}function Mo(e){return"hsla("+e.h+"turn, "+100*e.s/1+"%, "+100*e.l/1+"%, "+e.a+")"}function Do(e,t){var n=e.h,r=e.s,i=e.l,o=e.a;return{h:n,s:r,l:Ao(i+t,0,1),a:o}}function No(e,t){var n=e.h,r=e.s,i=e.l,o=e.a;return{h:n,s:r,l:Ao(i-t,0,1),a:o}}var Lo={blueSaturatedDarker:jo(195,1,.05),blueSaturatedDark:jo(195,1,.1),blueSaturated:jo(195,1,.14),blueSaturatedLight:jo(195,.46,.22),blueSaturatedLighter:jo(195,.46,.42),blue:jo(195,1,.46),blueLight:jo(195,1,.7),blueLighter:jo(195,1,.95),grayDarker:jo(194,.07,.16),grayDark:jo(194,.05,.33),gray:jo(194,.05,.54),grayLight:jo(194,.09,.82),grayLighter:jo(194,.09,.92),pink:jo(326,.94,.48),pinkLight:jo(344,.97,.88),pinkLighter:jo(326,.94,.96),green:jo(142,.47,.5),greenLight:jo(142,.48,.85),greenLighter:jo(142,.48,.94),red:jo(342,1,.45),redLight:jo(342,1,.89),redLighter:jo(342,1,.95),orange:jo(34,.98,.48),orangeLight:jo(34,.98,.74),orangeLighter:jo(34,.98,.92)},Fo=function(){return(Fo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Uo={background:Io("#fff"),foreground:Io("#444"),border:Do(Io("#444"),.5),primaryBackground:Lo.blue,primaryForeground:Io("#fff"),secondaryBackground:Lo.grayLighter,secondaryForeground:Lo.grayDark,attentionBackground:Lo.pink,attentionForeground:Io("#fff"),actionBackground:Lo.green,actionForeground:Io("#fff")},Bo=Fo({},Uo,{background:Io("#121212"),foreground:Io("#fff"),border:Do(Io("#121212"),.25),secondaryBackground:Io("#2a2a2a"),secondaryForeground:Io("#fff")});function qo(e){var t=Fo({},e),n=Array.from(document.head.querySelectorAll("meta[name*=simplewebrtc-theme]")).reduce(function(e,t){var n,r=t.getAttribute("name"),i=t.getAttribute("content");return null!==r&&null!==i&&(e[(n=r.replace("simplewebrtc-theme-",""),n.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}))]=i),e},{});return Object.keys(n).forEach(function(e){t.hasOwnProperty(e)&&(t[e]=Io(n[e]))}),t}function zo(e){return Fo({},e,{buttonPrimaryBackground:e.primaryBackground,buttonPrimaryBackgroundHover:Do(e.primaryBackground,.05),buttonPrimaryBackgroundActive:No(e.primaryBackground,.05),buttonPrimaryText:e.primaryForeground,buttonSecondaryBackground:e.secondaryBackground,buttonSecondaryBackgroundHover:Do(e.secondaryBackground,.05),buttonSecondaryBackgroundActive:No(e.secondaryBackground,.05),buttonSecondaryText:e.secondaryForeground,buttonAttentionBackground:e.attentionBackground,buttonAttentionBackgroundHover:Do(e.attentionBackground,.05),buttonAttentionBackgroundActive:No(e.attentionBackground,.05),buttonAttentionText:e.attentionForeground,buttonActionBackground:e.actionBackground,buttonActionBackgroundHover:Do(e.actionBackground,.05),buttonActionBackgroundActive:No(e.actionBackground,.05),buttonActionText:e.actionForeground,alertInfoBackground:Do(e.primaryBackground,.5),alertInfoForeground:e.primaryBackground,alertErrorBackground:Do(e.attentionBackground,.5),alertErrorForeground:e.attentionBackground})}var Vo,Wo,Ho,Go,$o,Qo,Yo,Ko,Jo,Xo,Zo,ea,ta,na,ra={light:zo(qo(Uo)),dark:zo(qo(Bo))},ia=function(e){var t=e.children;return Te.a.createElement(Ro.a,{theme:ra.light},t)},oa=Te.a.createContext({gridPlaceholder:null,haircheckHeaderPlaceholder:null,emptyRosterPlaceholder:null,homepagePlaceholder:null}),aa=n(15),sa=n.n(aa),ca=n(22),ua=n.n(ca),la=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},da=Ro.d.button(Vo||(Vo=la(["\n  border-radius: 5px;\n  transition: background 200ms linear;\n  font-size: 14px;\n  min-height: 30px;\n  min-width: 30px;\n  border: none;\n  color: ",";\n  background-color: ",";\n  :hover {\n    background-color: ",";\n  }\n  :active {\n    background-color: ",";\n  }\n  :focus {\n    outline: 0;\n  }\n  svg {\n    fill: ",";\n    vertical-align: middle;\n    font-size: 20px;\n    :not(:only-child) {\n      margin-left: 7px;\n    }\n  }\n  & a {\n    color: ",";\n  }\n  & span {\n    padding-left: 3px;\n    padding-right: 3px;\n    margin-right: 5px;\n  }\n"],["\n  border-radius: 5px;\n  transition: background 200ms linear;\n  font-size: 14px;\n  min-height: 30px;\n  min-width: 30px;\n  border: none;\n  color: ",";\n  background-color: ",";\n  :hover {\n    background-color: ",";\n  }\n  :active {\n    background-color: ",";\n  }\n  :focus {\n    outline: 0;\n  }\n  svg {\n    fill: ",";\n    vertical-align: middle;\n    font-size: 20px;\n    :not(:only-child) {\n      margin-left: 7px;\n    }\n  }\n  & a {\n    color: ",";\n  }\n  & span {\n    padding-left: 3px;\n    padding-right: 3px;\n    margin-right: 5px;\n  }\n"])),function(e){return Mo(e.theme.buttonSecondaryText)},function(e){return Mo(e.theme.buttonSecondaryBackground)},function(e){return Mo(e.theme.buttonSecondaryBackgroundHover)},function(e){return Mo(e.theme.buttonSecondaryBackgroundActive)},function(e){return Mo(e.theme.buttonSecondaryText)},function(e){return Mo(e.theme.buttonSecondaryText)}),pa="@media (min-width: 750px)",fa=n(45),ha=n.n(fa),ma=n(46),ga=n.n(ma),va=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ba=Ro.d.div(Ho||(Ho=va(["\n  border: ",";\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  margin-bottom: 5px;\n  padding: 2px;\n  svg {\n    margin-right: 5px;\n    fill: ",";\n  }\n"],["\n  border: ",";\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  margin-bottom: 5px;\n  padding: 2px;\n  svg {\n    margin-right: 5px;\n    fill: ",";\n  }\n"])),function(e){var t=e.theme;return Object(Ro.c)(Wo||(Wo=va(["1px solid ",""],["1px solid ",""])),Mo(t.border))},function(e){return Mo(e.theme.foreground)}),ya=Object(Ro.d)(ba)(Go||(Go=va(["\n  background-color: ",";\n  border-color: ",";\n  color: ",";\n  svg {\n    fill: ",";\n  }\n"],["\n  background-color: ",";\n  border-color: ",";\n  color: ",";\n  svg {\n    fill: ",";\n  }\n"])),function(e){return Mo(e.theme.alertErrorBackground)},function(e){return Mo(e.theme.alertErrorForeground)},function(e){return Mo(e.theme.alertErrorForeground)},function(e){return Mo(e.theme.alertErrorForeground)}),wa=Object(Ro.d)(ba)($o||($o=va(["\n  background-color: ",";\n  border-color: ",";\n  color: ",";\n  svg {\n    fill: ",";\n  }\n"],["\n  background-color: ",";\n  border-color: ",";\n  color: ",";\n  svg {\n    fill: ",";\n  }\n"])),function(e){return Mo(e.theme.alertInfoBackground)},function(e){return Mo(e.theme.alertInfoForeground)},function(e){return Mo(e.theme.alertInfoForeground)},function(e){return Mo(e.theme.alertInfoForeground)}),xa=function(e){return Te.a.createElement(ya,null,Te.a.createElement(ha.a,null),e.children)},Sa=function(e){return Te.a.createElement(wa,null,Te.a.createElement(ga.a,null),e.children)},_a=function(e){var t=e.currentMedia,n=e.devices,r=e.selectMedia;return Te.a.createElement("select",{defaultValue:"",onChange:function(e){e.target.value&&("disable"===e.target.value&&r(),r(e.target.value))}},t&&Te.a.createElement("option",null,t.track.label||"Unknown Device"),t&&Te.a.createElement("option",null,"---"),n.map(function(e){return Te.a.createElement("option",{key:e.deviceId,value:e.deviceId},e.label)}),t&&Te.a.createElement("option",null,"---"),t&&Te.a.createElement("option",{value:"disable"},"Disable"))},ka=(Qo=function(e,t){return(Qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Qo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ca=function(e){function t(t){var n=e.call(this,t)||this;return n.state={mediaTypeDisabled:!1},n}return ka(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.kind,r=t.render;return Te.a.createElement(ao,{videoInput:"video"===n,audioInput:"audio"===n,render:function(t){var i=t.devices,o=t.hasCamera,a=t.cameraPermissionDenied,s=t.hasMicrophone,c=t.microphonePermissionDenied,u=t.requestingCameraCapture,l=t.requestingMicrophoneCapture;t.requestingCapture;return"video"===n&&!o&&!a||"audio"===n&&!s&&!c?r({hasDevice:!1}):"video"===n&&a||"audio"===n&&c?r({permissionDenied:!0}):"video"===n&&u||"audio"===n&&l?r({requestingCapture:!0}):Te.a.createElement(fo,{screen:!1,render:function(t){var o=t.media,a=t.removeMedia,s=o.filter(function(e){return"video"===e.kind}),c=o.filter(function(e){return"audio"===e.kind}),l="video"===n?s:c,d="video"===n?c:s;if(!i.length||e.state.mediaTypeDisabled)return Te.a.createElement(Co,{video:"video"===n,audio:"audio"===n,share:!1,render:function(t){return r({requestPermissions:function(){return e.setState({mediaTypeDisabled:!1}),t({audio:"audio"===n,video:"video"===n})}})}});if(!l.length)return Te.a.createElement(Co,{replaceVideo:s.length>0?s[s.length-1].id:void 0,replaceAudio:c.length>0?c[c.length-1].id:void 0,share:!1,audio:"audio"===n||"video"===n&&d.length>0,video:"video"===n||"audio"===n&&d.length>0,auto:!u,render:function(e){return null}});var p=l[l.length-1],f=d[d.length-1];return Te.a.createElement(Co,{replaceVideo:"video"===n&&p?p.id:f?f.id:void 0,replaceAudio:"audio"===n&&p?p.id:f?f.id:void 0,share:!1,render:function(t){return r({currentMedia:p,devices:i,hasDevice:!0,selectMedia:function(r){var i;if(r){e.state.mediaTypeDisabled&&e.setState({mediaTypeDisabled:!1});var s=((i={})["video"===n?"video":"audio"]={deviceId:{exact:r}},i);d.length>0&&(s[d[0].kind]={deviceId:{exact:d[0].track.getSettings().deviceId}}),t(s)}else e.setState({mediaTypeDisabled:!0},function(){for(var e=0,t=o;e<t.length;e++){var n=t[e];a(n.id)}})}})}})}})}})},t}(Ee.Component),Ea=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ta=function(e){function t(t){var n=e.call(this,t)||this;return n.state={currentTime:0,mountTime:Date.now()},n.interval=null,n}return Ea(t,e),t.prototype.componentDidMount=function(){var e=this;this.interval=window.setInterval(function(){return e.setState({currentTime:Date.now()})},1e3)},t.prototype.componentWillUnmount=function(){window.clearInterval(this.interval)},t.prototype.render=function(){var e=this.props.media;return e.inputDetected?e.inputLost&&(new Date).getTime()-e.inputLost>this.props.threshold?this.props.render({detected:!0,lost:!0}):this.props.render({detected:!0,lost:!1}):(new Date).getTime()-this.state.mountTime>this.props.threshold?this.props.render({detected:!1}):null},t}(Ee.Component),Pa=Ro.d.div(function(e){return{width:"25px",display:"grid",gridTemplateRows:"repeat("+e.buckets+", 1fr)",gridRowGap:"2px"}}),Ra=Ro.d.div(function(e){var t=e.filled,n=e.speaking;return{border:"1px solid white",borderRadius:"4px",backgroundColor:t?n?"green":"white":""}}),Aa=function(e){var t=e.buckets,n=e.volume,r=e.speaking,i=100/t;return Te.a.createElement(Pa,{buckets:t},Array.from(Array(t)).map(function(e,o){return Te.a.createElement(Ra,{key:o,filled:n>=(t-o)*i,speaking:r})}))},ja=Ro.d.div(((Yo={height:"300px",position:"relative",width:"100%",padding:"0 10px"})[pa]={padding:"0",width:"400px"},Yo["& video"]={width:"100%",height:"100%",objectFit:"contain",backgroundColor:"#262a2c"},Yo)),Oa=Ro.d.div({width:"100%",height:"100%",backgroundColor:"#262a2c",color:"#e9ecec",display:"flex",alignItems:"center",justifyContent:"center","& p":{margin:0}}),Ia=Ro.d.div({position:"absolute",top:0,bottom:0,left:0,zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",padding:"8px",backgroundColor:"rgba(0, 0, 0, 0.5)","& svg":{fontSize:"24px",fill:"white",marginTop:"8px"},"& div":{flex:1}}),Ma=function(){return Te.a.createElement(Oa,null,Te.a.createElement("p",null,"No video selected"))},Da=function(e){var t=e.audio,n=e.video;return Te.a.createElement(ja,null,n&&n.loaded?Te.a.createElement(To,{media:n}):Te.a.createElement(Ma,null),t?Te.a.createElement(Po,{media:t,render:function(e){var t=e.volume,n=e.speaking;return Te.a.createElement(Ia,null,Te.a.createElement(Aa,{buckets:20,volume:t+100,speaking:n}),Te.a.createElement(sa.a,null))}}):null)},Na=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},La=Ro.d.div({textAlign:"center"}),Fa=Object(Ro.d)(da)(Ko||(Ko=Na(["\n  background-color: ",";\n  font-size: 22px;\n  color: ",";\n  padding: 10px;\n  :hover {\n    background-color: ",";\n    color: ",";\n  }\n  :active {\n    background-color: ",";\n    color: ",";\n  }\n"],["\n  background-color: ",";\n  font-size: 22px;\n  color: ",";\n  padding: 10px;\n  :hover {\n    background-color: ",";\n    color: ",";\n  }\n  :active {\n    background-color: ",";\n    color: ",";\n  }\n"])),function(e){return Mo(e.theme.buttonPrimaryBackground)},function(e){return Mo(e.theme.buttonPrimaryText)},function(e){return Mo(e.theme.buttonPrimaryBackgroundHover)},function(e){return Mo(e.theme.buttonPrimaryText)},function(e){return Mo(e.theme.buttonPrimaryBackgroundActive)},function(e){return Mo(e.theme.buttonPrimaryText)}),Ua=function(){return Te.a.createElement(fo,{shared:!1,render:function(e){var t=e.media,n=e.shareLocalMedia;return e.removeMedia,0===t.length?null:Te.a.createElement(La,null,Te.a.createElement(Fa,{onClick:function(){for(var e=0,r=t;e<r.length;e++){var i=r[e];n(i.id)}}},"Join call"))}})},Ba=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},qa=Ro.d.div(((Jo={display:"grid",gridTemplateAreas:"\n    'header'\n    'preview'\n    'controls'\n  ",gridRowGap:"10px",gridColumnGap:"10px"})[pa]={gridTemplateColumns:"repeat(2, 1fr)",gridTemplateAreas:"\n      'header header'\n      'preview controls'\n    "},Jo)),za=Ro.d.div({gridArea:"header"}),Va=Ro.d.div(Zo||(Zo=Ba(["\n  grid-area: controls;\n  padding: 0 10px;\n  "," {\n    padding: 0;\n    width: 300px;\n  }\n  select {\n    border: ",";\n    color: ",";\n    height: 40px;\n    padding: 10px;\n    margin-top: 5px;\n    background-color: ",";\n    font-size: 12px;\n    font-weight: bold;\n    width: 100%;\n  }\n  label {\n    display: block;\n    font-weight: bold;\n    font-size: 12px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n\n    svg {\n      font-size: 20px;\n      vertical-align: middle;\n      margin-right: 5px;\n      fill: ",";\n    }\n  }\n"],["\n  grid-area: controls;\n  padding: 0 10px;\n  "," {\n    padding: 0;\n    width: 300px;\n  }\n  select {\n    border: ",";\n    color: ",";\n    height: 40px;\n    padding: 10px;\n    margin-top: 5px;\n    background-color: ",";\n    font-size: 12px;\n    font-weight: bold;\n    width: 100%;\n  }\n  label {\n    display: block;\n    font-weight: bold;\n    font-size: 12px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n\n    svg {\n      font-size: 20px;\n      vertical-align: middle;\n      margin-right: 5px;\n      fill: ",";\n    }\n  }\n"])),pa,function(e){var t=e.theme;return Object(Ro.c)(Xo||(Xo=Ba(["1px solid ",""],["1px solid ",""])),Mo(t.border))},function(e){return Mo(e.theme.foreground)},function(e){return Mo(e.theme.background)},function(e){return Mo(e.theme.foreground)}),Wa=Ro.d.div({gridArea:"preview",display:"flex",alignItems:"flex-end",flexDirection:"column"}),Ha=Object(Ro.d)(da)({marginBottom:"5px",width:"100%"}),Ga=function(){return Te.a.createElement(qa,null,Te.a.createElement(oa.Consumer,null,function(e){var t=e.haircheckHeaderPlaceholder;return Te.a.createElement(za,{ref:function(e){if(e&&t&&0===e.childElementCount){var n=t();n&&e.appendChild(n)}}})}),Te.a.createElement(za,null),Te.a.createElement(Wa,null,Te.a.createElement(fo,{screen:!1,render:function(e){var t=e.media,n=t.filter(function(e){return"audio"===e.kind}),r=t.filter(function(e){return"video"===e.kind}),i=n[n.length-1],o=r[r.length-1];return Te.a.createElement(Da,{video:o,audio:i})}})),Te.a.createElement(Va,null,Te.a.createElement("div",null,Te.a.createElement(Ca,{kind:"video",render:function(e){var t=e.hasDevice,n=e.permissionDenied,r=e.requestingCapture,i=e.requestPermissions,o=e.devices,a=e.currentMedia,s=e.selectMedia;return!1===t?Te.a.createElement(xa,null,"No cameras detected."):!0===n?Te.a.createElement(xa,null,"Camera permissions denied."):!0===r?Te.a.createElement(Sa,null,"Requesting cameras..."):i?Te.a.createElement(Ha,{onClick:i},Te.a.createElement(ua.a,null),Te.a.createElement("span",null,"Allow camera access")):Te.a.createElement("label",null,Te.a.createElement(ua.a,null),Te.a.createElement("span",null,"Camera:"),Te.a.createElement(_a,{currentMedia:a,devices:o,selectMedia:s}))}})),Te.a.createElement("div",null,Te.a.createElement(Ca,{kind:"audio",render:function(e){var t=e.hasDevice,n=e.permissionDenied,r=e.requestingCapture,i=e.requestPermissions,o=e.devices,a=e.currentMedia,s=e.selectMedia;return!1===t?Te.a.createElement(xa,null,"No microphones detected."):!0===n?Te.a.createElement(xa,null,"Microphone permissions denied."):!0===r?Te.a.createElement(Sa,null,"Requesting microphones..."):i?Te.a.createElement(Ha,{onClick:i},Te.a.createElement(sa.a,null),Te.a.createElement("span",null,"Allow microphone access")):Te.a.createElement(Te.a.Fragment,null,Te.a.createElement("label",null,Te.a.createElement(sa.a,null),Te.a.createElement("span",null,"Microphone:"),Te.a.createElement(_a,{currentMedia:a,devices:o,selectMedia:s})),Te.a.createElement(Ta,{media:a,threshold:7e3,render:function(e){var t=e.detected,n=e.lost;return t&&n?Te.a.createElement(xa,null,"Media lost."):t?null:Te.a.createElement(Sa,null,"No input detected from your microphone.")}}))}})),Te.a.createElement(Ua,null)))},$a=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Qa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ya=Ro.d.div(ta||(ta=$a(["\n  text-align: center;\n  h2 {\n    font-size: 36px;\n    font-weight: 300;\n    color: ",";\n  }\n  input {\n    display: block;\n    padding: 7px;\n    width: 100%;\n    max-width: 450px;\n    margin: 0 auto;\n    border-radius: 3px;\n    border: ",";\n    margin-bottom: 10px;\n  }\n  button {\n    padding-left: 8px;\n    padding-right: 8px;\n  }\n"],["\n  text-align: center;\n  h2 {\n    font-size: 36px;\n    font-weight: 300;\n    color: ",";\n  }\n  input {\n    display: block;\n    padding: 7px;\n    width: 100%;\n    max-width: 450px;\n    margin: 0 auto;\n    border-radius: 3px;\n    border: ",";\n    margin-bottom: 10px;\n  }\n  button {\n    padding-left: 8px;\n    padding-right: 8px;\n  }\n"])),function(e){return Mo(e.theme.foreground)},function(e){var t=e.theme;return Object(Ro.c)(ea||(ea=$a(["1px solid ",""],["1px solid ",""])),Mo(t.border))}),Ka=Object(Ro.d)(da)(na||(na=$a(["\n  color: ",";\n  background-color: ",";\n  :hover {\n    background-color: ",";\n  }\n  :active {\n    background-color: ",";\n  }\n"],["\n  color: ",";\n  background-color: ",";\n  :hover {\n    background-color: ",";\n  }\n  :active {\n    background-color: ",";\n  }\n"])),function(e){return Mo(e.theme.buttonActionText)},function(e){return Mo(e.theme.buttonActionBackground)},function(e){return Mo(e.theme.buttonActionBackgroundHover)},function(e){return Mo(e.theme.buttonActionBackgroundActive)}),Ja=Object(Ro.d)(da)({marginRight:"10px"}),Xa=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e){n.setState({password:e.target.value})},n.onClick=function(){n.props.setPassword(n.state.password),n.props.onSubmit&&n.props.onSubmit()},n.state={password:""},n}return Qa(t,e),t.prototype.render=function(){return Te.a.createElement(Ya,null,Te.a.createElement("h2",null,this.props.setting?"Set a key for this room":"A password is required to enter this room"),this.props.passwordIsIncorrect&&Te.a.createElement("p",null,"The password you entered is incorrect. Please try again."),Te.a.createElement("input",{type:"password",placeholder:"Your shared key",value:this.state.password,onChange:this.onChange}),Te.a.createElement(Ja,{onClick:this.props.onSubmit},"Cancel"),Te.a.createElement(Ka,{onClick:this.onClick},this.props.setting?"Lock":"Join"))},t}(Ee.Component),Za=Te.a.createContext({hiddenPeers:[],togglePeer:function(){return null}}),es=n(27),ts=n.n(es),ns=n(50),rs=n.n(ns),is=n(51),os=n.n(is),as=Object(Ro.d)("div")({flex:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",backgroundColor:"#E9ECEC"}),ss=Object(Ro.d)("div")({position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:10,display:"flex",justifyContent:"center",alignItems:"center",fontSize:"80px","& svg":{fill:"rgba(255, 255, 255, 0.5)"}}),cs=function(){return Te.a.createElement(as,null,Te.a.createElement(ss,null,Te.a.createElement(os.a,null)))},us=Object(Ro.d)(da)({display:"inline-block",justifySelf:"flex-end",opacity:.3,backgroundColor:"black",color:"white",transition:"opacity 200ms linear",marginBottom:"16px",marginLeft:"16px",":hover":{backgroundColor:"black",opacity:.7}}),ls=(Ro.d.span({display:"inline-block",backgroundColor:"black",opacity:.3,color:"white",marginTop:"16px",marginLeft:"16px",fontSize:"16px",padding:"2px 7px 2px 9px",borderRadius:"5px",transition:"opacity 200ms linear","&:hover":{cursor:"pointer",opacity:.7}}),Ro.d.div({position:"relative",display:"flex",justifyContent:"center",alignItems:"center","& video:first-of-type":{},"& video:last-of-type":{position:"absolute",top:"16px",right:"16px",width:"100px"}})),ds=function(e){var t=e.media,n=t.filter(function(e){return"video"===e.kind&&!e.remoteDisabled}),r=t.filter(function(e){return"audio"===e.kind});if(n.length>0){var i=n.filter(function(e){return!e.screenCapture}),o=n.filter(function(e){return e.screenCapture});return 1===n.length?Te.a.createElement(To,{media:n[0]}):0===o.length?Te.a.createElement(To,{media:i[0]}):Te.a.createElement(ls,null,Te.a.createElement(To,{media:o[0]}),Te.a.createElement(To,{media:i[0]}))}return r.length>0?Te.a.createElement(cs,null):Te.a.createElement("div",null,"No media")},ps=Ro.d.div({position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:100,display:"flex",flexDirection:"column"}),fs=Ro.d.div({flex:1,display:"flex",justifyContent:"center",alignItems:"flex-end","& span":{backgroundColor:"rgba(0, 0, 0, 0.3)",color:"white",padding:"8px 16px",borderRadius:"4px",fontSize:"18px"}}),hs=Ro.d.span({textAlign:"center",fontSize:"48px",opacity:.8});function ms(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("audio"===r.kind&&r.remoteDisabled)return!1}return!0}var gs=function(e){var t=e.peer,n=e.audioIsMuted;Object(Ee.useContext)(Za).togglePeer;return Te.a.createElement(ps,null,Te.a.createElement(fs,null,t.rtt&&Te.a.createElement("span",null,t.rtt)),Te.a.createElement(hs,null,t.muted||n?Te.a.createElement(ts.a,{fill:t.speaking?"red":"white"}):null),Te.a.createElement(ho,{peer:t,render:function(e){var t=e.isMuted,n=e.mute,r=e.unmute;return Te.a.createElement("div",null,Te.a.createElement(us,{onClick:function(){return t?r():n()}},t?Te.a.createElement(Te.a.Fragment,null,Te.a.createElement(ts.a,{fill:"white"}),Te.a.createElement("span",null,"Unmute")):Te.a.createElement(Te.a.Fragment,null,Te.a.createElement(rs.a,{fill:"white"}),Te.a.createElement("span",null,"Mute"))))}}))},vs=function(e){var t=e.peer,n=e.media;return Te.a.createElement(Te.a.Fragment,null,Te.a.createElement(gs,{peer:t,audioIsMuted:!ms(n)}),Te.a.createElement(ds,{media:n}))},bs=Object(Ro.d)(class extends Ee.Component{render(){const e=this.props.items,t=[];let n=0;for(const r of e){const e=this.props.renderCell(r);e&&(t.push(Object(Ee.createElement)(lo,{index:n,key:n,content:e})),n+=1)}return Object(Ee.createElement)(po,{id:this.props.id,className:this.props.className,itemCount:t.length,content:t})}})({flex:1,backgroundColor:"#eaecec",maxHeight:"100vh","& video":{width:"100%"},"& > div":{position:"relative"}}),ys=function(e){var t=e.roomAddress,n=e.activeSpeakerView,r=Object(Ee.useContext)(Za).hiddenPeers;return Te.a.createElement(to,{speaking:n||void 0,room:t,render:function(e){var t=e.peers.filter(function(e){return!r.includes(e.id)});return t.length>0||n?Te.a.createElement(bs,{items:t,renderCell:function(e){return Te.a.createElement(_o,{peer:e.address,render:function(t){var n=t.media;return Te.a.createElement(vs,{media:n,peer:e})}})}}):Te.a.createElement(oa.Consumer,null,function(e){var t=e.gridPlaceholder;return Te.a.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},ref:function(e){if(e&&t&&0===e.childElementCount){var n=t();n&&e.appendChild(n)}}})})}})},ws=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xs=Ro.d.div({padding:"15px",position:"relative",backgroundColor:"#e3f8ff",color:"#00b0e9",textAlign:"center","& a":{fontWeight:"bold",color:"#00b0e9",":visited":{color:"#00b0e9"},":hover":{color:"#008dba"}},"& p:last-of-type":{margin:0},":after":{border:"solid transparent",content:"''",height:0,width:0,position:"absolute",pointerEvents:"none",borderColor:"rgba(255, 255, 255, 0)",borderWidth:"5px"},"& svg":{position:"absolute",right:"15px",top:"calc(50% - (6px))",marginLeft:"10px",cursor:"pointer"}}),Ss="@andyet/talky-core-settings.hideBannerUntil",_s=function(e){function t(t){var n=e.call(this,t)||this;n.hideBanner=function(){n.setState({hidden:!0},function(){localStorage.setItem(Ss,(Date.now()+6048e5).toString())})};var r=localStorage.getItem(Ss);return null===r||null!==r&&Date.now()>parseInt(r,10)?n.state={hidden:!1}:n.state={hidden:!0},n}return ws(t,e),t.prototype.render=function(){var e="talky.io"===window.location.host;return!this.state.hidden&&e?Te.a.createElement(xs,null,"Build your app on Talky in no time with"," ",Te.a.createElement("a",{href:"https://blog.simplewebrtc.com/2019/04/08/talky-is-now-the-simplewebrtc-sample-app",target:"_blank",rel:"noopener noreferrer"},"SimpleWebRTC »"),Te.a.createElement("svg",{onClick:this.hideBanner,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"12",height:"12",fill:"none",stroke:"currentcolor",strokeWidth:"3",style:{display:"inline-block",overflow:"visible",verticalAlign:"middle"}},Te.a.createElement("path",{d:"M1.0606601717798212 1.0606601717798212 L14.939339828220179 14.939339828220179"}),Te.a.createElement("path",{d:"M14.939339828220179 1.0606601717798212 L1.0606601717798212 14.939339828220179"}))):null},t}(Ee.Component);var ks=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Cs=n(52),Es="object"==typeof self&&self&&self.Object===Object&&self,Ts=Cs.a||Es||Function("return this")(),Ps=function(){return Ts.Date.now()},Rs=Ts.Symbol,As=Object.prototype,js=As.hasOwnProperty,Os=As.toString,Is=Rs?Rs.toStringTag:void 0;var Ms=function(e){var t=js.call(e,Is),n=e[Is];try{e[Is]=void 0;var r=!0}catch(e){}var i=Os.call(e);return r&&(t?e[Is]=n:delete e[Is]),i},Ds=Object.prototype.toString;var Ns=function(e){return Ds.call(e)},Ls="[object Null]",Fs="[object Undefined]",Us=Rs?Rs.toStringTag:void 0;var Bs=function(e){return null==e?void 0===e?Fs:Ls:Us&&Us in Object(e)?Ms(e):Ns(e)};var qs=function(e){return null!=e&&"object"==typeof e},zs="[object Symbol]";var Vs=function(e){return"symbol"==typeof e||qs(e)&&Bs(e)==zs},Ws=NaN,Hs=/^\s+|\s+$/g,Gs=/^[-+]0x[0-9a-f]+$/i,$s=/^0b[01]+$/i,Qs=/^0o[0-7]+$/i,Ys=parseInt;var Ks=function(e){if("number"==typeof e)return e;if(Vs(e))return Ws;if(ks(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ks(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Hs,"");var n=$s.test(e);return n||Qs.test(e)?Ys(e.slice(2),n?2:8):Gs.test(e)?Ws:+e},Js="Expected a function",Xs=Math.max,Zs=Math.min;var ec=function(e,t,n){var r,i,o,a,s,c,u=0,l=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(Js);function f(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function h(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=o}function m(){var e=Ps();if(h(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-c);return d?Zs(n,o-(e-u)):n}(e))}function g(e){return s=void 0,p&&r?f(e):(r=i=void 0,a)}function v(){var e=Ps(),n=h(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(m,t),l?f(e):a}(c);if(d)return s=setTimeout(m,t),f(c)}return void 0===s&&(s=setTimeout(m,t)),a}return t=Ks(t)||0,ks(n)&&(l=!!n.leading,o=(d="maxWait"in n)?Xs(Ks(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),v.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=i=s=void 0},v.flush=function(){return void 0===s?a:g(Ps())},v},tc="Expected a function";var nc=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(tc);return ks(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ec(e,t,{leading:r,maxWait:t,trailing:i})};var rc=function(e){var t=document.head.querySelector("meta[name=simplewebrtc-"+e+"]");if(t){var n=t.getAttribute("content");if(null!==n)return n}return null},ic=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function oc(e,t){return e.filter(function(e){return e.direction===t}).reduce(function(e,t){return e+t.chats.length},0)}var ac=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ic(t,e),t.prototype.componentDidUpdate=function(e){var t=oc(e.groups,"incoming"),n=oc(this.props.groups,"incoming"),r=oc(e.groups,"outgoing"),i=oc(this.props.groups,"outgoing");t<n&&this.props.onReceive(),r<i&&this.props.onSend()},t.prototype.render=function(){return null},t}(Ee.Component),sc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sc(t,e),t.prototype.componentDidUpdate=function(e){this.props.peers.length>e.peers.length?this.props.onPeerEnter():this.props.peers.length<e.peers.length&&this.props.onPeerExit()},t.prototype.render=function(){return null},t}(Ee.Component),uc=rc("sound-peer-enter"),lc=uc?new Audio(uc):null;var dc=nc(function(){null!==lc&&lc.play()},1e3,{trailing:!1}),pc=rc("sound-peer-exit"),fc=pc?new Audio(pc):null;var hc=nc(function(){null!==fc&&fc.play()},1e3,{trailing:!1}),mc=rc("sound-message-send"),gc=mc?new Audio(mc):null;var vc=nc(function(){null!==gc&&gc.play()},1e3,{trailing:!1}),bc=rc("sound-message-receive"),yc=bc?new Audio(bc):null;var wc,xc,Sc,_c,kc,Cc=nc(function(){null!==yc&&yc.play()},1e3,{trailing:!1}),Ec=function(e){var t=e.roomAddress;return Te.a.createElement(Te.a.Fragment,null,Te.a.createElement(to,{room:t,render:function(e){var t=e.peers;return Te.a.createElement(cc,{peers:t,onPeerEnter:dc,onPeerExit:hc})}}),Te.a.createElement(oo,{room:t,render:function(e){var t=e.groups;return Te.a.createElement(ac,{groups:t,onSend:vc,onReceive:Cc})}}))},Tc=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Pc=Ro.d.span(wc||(wc=Tc(["\n  margin-left: auto !important;\n  display: inline-block;\n  width: 100%;\n  line-height: 0px;\n  font-size: 16px;\n  padding: 20px;\n  position: relative;\n  svg {\n    fill: ",";\n    :hover {\n      fill: ",";\n    }\n  }\n"],["\n  margin-left: auto !important;\n  display: inline-block;\n  width: 100%;\n  line-height: 0px;\n  font-size: 16px;\n  padding: 20px;\n  position: relative;\n  svg {\n    fill: ",";\n    :hover {\n      fill: ",";\n    }\n  }\n"])),function(e){return Mo(e.theme.foreground)},function(e){return Mo(e.theme.primaryBackground)}),Rc=(Ro.d.span(xc||(xc=Tc(["\n  margin-left: auto !important;\n  background: green;\n  height: 150px;\n  width: 100%;\n"],["\n  margin-left: auto !important;\n  background: green;\n  height: 150px;\n  width: 100%;\n"]))),Ro.d.table(Sc||(Sc=Tc(["\n  border: 2px solid black;\n  height: 200px;\n  width: 100%;\n"],["\n  border: 2px solid black;\n  height: 200px;\n  width: 100%;\n"])))),Ac=Ro.d.tr(_c||(_c=Tc(["\n  border-bottom: 1px solid black;\n"],["\n  border-bottom: 1px solid black;\n"]))),jc=Ro.d.td(kc||(kc=Tc(["\n  border-right: 1px solid black;\n  border-bottom: 1px solid black;\n  width: 45px;\n  text-align: center;\n  font-weight: bold;\n  font-size: 18pt;\n  min-width: 30px;\n"],["\n  border-right: 1px solid black;\n  border-bottom: 1px solid black;\n  width: 45px;\n  text-align: center;\n  font-weight: bold;\n  font-size: 18pt;\n  min-width: 30px;\n"]))),Oc=(Ro.d.span({position:"absolute",top:"23px",left:"-1px",width:0,height:0,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderBottom:"10px solid black",zIndex:1}),Ro.d.span({visibility:"visible",fontSize:"11px",backgroundColor:"#000",color:"#fff",textAlign:"center",padding:"5px 0",borderRadius:"3px",whiteSpace:"normal",position:"absolute",width:"140px",top:"30px",left:"-23px",lineHeight:"normal",zIndex:1}),function(e){e.text;for(var t=e.ticketNumbers,n=e.updateNumbers,r=e.myMap,i=Object(Ee.useState)(!1),o=i[0],a=i[1],s=function(){return a(!o)},c=[],u=function(e){for(var i=[],o=function(o){var a=10*e+(o+1);console.log(a);for(var s="cell"+a,c=void 0,u=0;u<t.length;u++)+t[u].split(":")[0]===a&&(c=t[u].split(":")[1]);var l="white";r.has(10*e+(o+1))&&(l="#98d898");var d={backgroundColor:l};i.push(Te.a.createElement(jc,{id:s,style:d,onClick:function(t){return n(e,o)}},c))},a=0;a<9;a++)o(a);c.push(Te.a.createElement(Ac,null,i))},l=0;l<3;l++)u(l);return Te.a.createElement(Pc,{onMouseEnter:s,onMouseLeave:s},Te.a.createElement(Rc,{id:"table1",className:"innerTable"},Te.a.createElement("tbody",{id:"tbodyid"},c)))}),Ic=0,Mc=new Array(0,9,19,29,39,49,59,69,79,90),Dc=new Array(0,1,10,20,30,40,50,60,70,80),Nc=0,Lc=0,Fc=0,Uc=[],Bc=[];function qc(){return zc()}function zc(){Bc=[],[],Bc=[],Uc=[],[],Ic=0,0,Nc=0,0,Lc=0,Fc=0,0,(Uc=function(){for(;Uc.length<15;){var e=Math.ceil(9*Math.random()),t=!1;Ic>=5&&Ic<10?e+=10:Ic>=10&&(e+=20);for(var n=0;n<Uc.length;n++)if(Uc[n]==e){t=!0;break}t||(Uc[Uc.length]=e,Ic++)}return Uc}()).sort(function(e,t){return e-t});for(var e=0;e<Uc.length;e++){if(0==Wc(t=Vc(Uc[e]),Bc))for(;0==Wc(t,Bc);)var t=Vc(Uc[e]);Gc(Uc[e],t),Hc(Bc,Uc[e],t)}return Bc}function Vc(e){var t;if(e>10){var n=String(e).charAt(1);Fc=Number(n),Lc=Fc}else Lc=e;return Nc=Mc[Lc],t=Dc[Lc],Math.floor(Math.random()*(Nc-t+1))+t}function Wc(e,t){for(var n=!1,r=0;r<t.length;r++)if(t[r].split(":")[1]==e)return n=!0,!1;if(!n)return!0}function Hc(e,t,n){var r=0,i=[],o=[],a=!1;o[o.length]=n;for(var s=0;s<e.length;s++)t+10!=(i=(r=e[s].split(":"))[0])&&t+20!=i&&t-10!=i&&t-20!=i||(o[o.length]=r[1],a=!0);a&&(o.sort(function(e,t){return e-t}),function(e,t,n){for(var r,i=0,o=[],a=0,s=0;s<e.length;s++)i=e[s].split(":"),o=i[0],t+10!=o&&t+20!=o&&t!=o&&t-10!=o&&t-20!=o||(r=o+":"+n[a],e[s]=r,a++)}(e,i,o))}function Gc(e,t){return Bc.push(e+":"+t),Bc}var $c,Qc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yc=function(){return(Yc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Kc=Ro.d.div({display:"flex",alignItems:"center",justifyContent:"center",width:"100vw",height:"100vh"}),Jc=Ro.d.div({display:"flex",flexDirection:"column",minHeight:"100vh"}),Xc=Ro.d.div((($c={flex:1,display:"flex",position:"relative",flexDirection:"column"})[pa]={flexDirection:"column"},$c)),Zc=Ro.d.div({width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}),eu=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleActiveSpeakerView=function(){n.setState({activeSpeakerView:!n.state.activeSpeakerView})},n.toggleRtt=function(){n.setState({sendRtt:!n.state.sendRtt})},n.togglePttMode=function(e){n.setState({pttMode:!n.state.pttMode},function(){n.state.pttMode?(document.addEventListener("keydown",n.unmute),document.addEventListener("keyup",n.mute),window.addEventListener("blur",n.props.mute),n.props.mute()):(document.removeEventListener("keydown",n.unmute),document.removeEventListener("keyup",n.mute),window.removeEventListener("blur",n.props.mute),n.props.unmute())}),e.target&&e.target.blur()},n.mute=function(e){" "===e.key&&n.props.mute()},n.unmute=function(e){" "===e.key&&n.props.unmute()},n.updateNumbers=function(e,t){var r=10*e+(t+1),i=n.state.myMap;i.has(r)?i.delete(r):i.set(r,!0),n.setState({myMap:i})},n.setPassword=function(e){n.setState({password:e})},n.toggleChat=function(){n.setState({chatOpen:!n.state.chatOpen})},n.togglePeer=function(e){if(n.state.hiddenPeers.includes(e)){var t=n.state.hiddenPeers.slice(),r=t.indexOf(e);t.splice(r),n.setState({hiddenPeers:t})}else n.setState({hiddenPeers:n.state.hiddenPeers.concat([e])})},n.state={activeSpeakerView:!1,password:void 0,pttMode:!1,sendRtt:!1,chatOpen:!1,hiddenPeers:[],ticketNumbers:qc(),myMap:new Map},n}return Qc(t,e),t.prototype.render=function(){var e=this;return Te.a.createElement(xo,{configUrl:this.props.configUrl,userData:this.props.userData},Te.a.createElement(fo,{render:function(t){var n=t.media;return Te.a.createElement(Te.a.Fragment,null,0===n.filter(function(e){return e.shared}).length?Te.a.createElement(Ga,null):Te.a.createElement(Te.a.Fragment,null,Te.a.createElement(So,null),Te.a.createElement(bo,{configUrl:""},Te.a.createElement(Zc,null,Te.a.createElement("h1",null,"Connecting..."))),Te.a.createElement(wo,{configUrl:""},Te.a.createElement(Zc,null,Te.a.createElement("h1",null,"Lost connection. Reattmpting to join..."))),Te.a.createElement(yo,{configUrl:""},Te.a.createElement(Eo,{password:e.state.password,name:e.props.name},function(t){var n=t.room;return n.joined?Te.a.createElement(Za.Provider,{value:{hiddenPeers:e.state.hiddenPeers,togglePeer:e.togglePeer}},Te.a.createElement(Jc,null,Te.a.createElement(_s,null),Te.a.createElement(Xc,null,Te.a.createElement(Ec,{roomAddress:n.address}),Te.a.createElement(ys,{roomAddress:n.address,activeSpeakerView:e.state.activeSpeakerView}),Te.a.createElement(Oc,{text:"ticket",ticketNumbers:e.state.ticketNumbers,myMap:e.state.myMap,updateNumbers:e.updateNumbers.bind(e)})))):n.passwordRequired?Te.a.createElement(Kc,null,Te.a.createElement(Xa,{setting:!1,passwordIsIncorrect:!!e.state.password,setPassword:e.setPassword})):Te.a.createElement(Zc,null,Te.a.createElement("h1",null,"Joining room..."))}))))}}))},t}(Ee.Component);var tu,nu,ru=kt(null,function(e,t){return Yc({},t,{mute:function(){return e(Oi.muteSelf())},unmute:function(){return e(Oi.unmuteSelf())}})})(eu),iu=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ou=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),au=Ro.d.div(tu||(tu=iu(["\n  height: 100vh;\n  width: 100vw;\n  background-color: ",";\n  color: ",";\n  a {\n    color: ",";\n    :hover {\n      color: ",";\n    }\n  }\n"],["\n  height: 100vh;\n  width: 100vw;\n  background-color: ",";\n  color: ",";\n  a {\n    color: ",";\n    :hover {\n      color: ",";\n    }\n  }\n"])),function(e){return Mo(e.theme.background)},function(e){return Mo(e.theme.foreground)},function(e){return Mo(e.theme.primaryBackground)},function(e){return Mo(No(e.theme.primaryBackground,.1))}),su=Object(Ro.b)(nu||(nu=iu(["\n  html {\n    box-sizing: border-box;\n  }\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  * {\n    margin: 0;\n    padding: 0;\n  }\n\n  body, html {\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n    font-size: 16px;\n    line-height: 1.5;\n    color: #4d5659;\n  }\n\n  a {\n    background-color: transparent;\n    text-decoration: none;\n  }\n\n  button:hover {\n    cursor: pointer;\n  }\n"],["\n  html {\n    box-sizing: border-box;\n  }\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  * {\n    margin: 0;\n    padding: 0;\n  }\n\n  body, html {\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n    font-size: 16px;\n    line-height: 1.5;\n    color: #4d5659;\n  }\n\n  a {\n    background-color: transparent;\n    text-decoration: none;\n  }\n\n  button:hover {\n    cursor: pointer;\n  }\n"]))),cu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ou(t,e),t.prototype.render=function(){var e=this.props,t=e.roomName,n=e.configUrl,r=e.userData,i=e.gridPlaceholder,o=e.haircheckHeaderPlaceholder,a=e.emptyRosterPlaceholder,s=e.homepagePlaceholder;return Te.a.createElement(ia,null,Te.a.createElement(oa.Provider,{value:{gridPlaceholder:i,haircheckHeaderPlaceholder:o,emptyRosterPlaceholder:a,homepagePlaceholder:s}},Te.a.createElement("div",null,Te.a.createElement(su,null),Te.a.createElement(au,null,t?Te.a.createElement(ru,{name:t,configUrl:n,userData:r}):Te.a.createElement("div",{ref:function(e){if(e&&s&&0===e.childElementCount){var t=s();t&&e.appendChild(t)}}})))))},t}(Ee.Component),uu=["on","beside","in","beneath","above","under","by","over","against","near"],lu=["autumn","hidden","bitter","misty","silent","empty","dry","dark","summer","icy","delicate","quiet","white","cool","spring","winter","patient","twilight","dawn","crimson","wispy","weathered","blue","billowing","broken","cold","falling","frosty","green","long","late","lingering","bold","little","morning","muddy","old","red","rough","still","small","sparkling","shy","wandering","withered","wild","black","young","holy","solitary","fragrant","aged","snowy","proud","floral","restless","divine","polished","ancient","purple","lively","nameless"],du=["waterfall","river","breeze","moon","rain","wind","sea","morning","snow","lake","sunset","pine","shadow","leaf","dawn","glitter","forest","hill","cloud","meadow","sun","glade","bird","brook","butterfly","bush","dew","dust","field","fire","flower","firefly","feather","grass","haze","mountain","night","pond","darkness","snowflake","silence","sound","sky","shape","surf","thunder","violet","water","wildflower","wave","water","resonance","sun","wood","dream","cherry","tree","fog","frost","voice","paper","frog","smoke","star"],pu=[["toast","pieces of toast"],["muffin","muffins"],["teacake","teacakes"],["bun","buns"],["bap","baps"],["baguette","baguettes"],["bagel","bagels"],["croissant","croissants"],["crumpet","crumpets"],["pancake","pancakes"],["potato cake","potato cakes"],["hot cross bun","hot cross buns"],["flapjack","flapjacks"],["waffle","waffles"],["cheese and ham breville","cheese and ham brevilles"],["toasted teacake","toasted teacakes"],["brioche","brioches"],["cornbread","pieces of cornbread"],["yeast bread","yeast breads"],["flat bread","flat breads"],["sweet bread","sweet breads"],["fruit bread","fruit breads"],["rye","ryes"],["soda bread","soda breads"],["breadstick","breadsticks"],["burger bun","burger buns"],["chapati","chapatis"],["ciabatta","ciabattas"],["cracker","crackers"],["crepe","crepes"],["donut","donuts"],["pan au chocolate","pans au chocolate"]],fu=["a couple","a few","two","three","four","five","six","half a dozen","seven","eight","nine","ten","eleven","a dozen","twelve"];function hu(e){return e[Math.floor(Math.random()*e.length)]}var mu=function(){return Math.floor(5*Math.random())>1?[hu(uu),"a",hu(lu),hu(du)].join("-").replace(/\s/g,"-").replace(/-a-(a|e|i|o|u)/,"-an-$1"):[hu(fu),hu(pu)[1],"and",hu(["a","one"]),hu(pu)[0]].join("-").replace(/\s/g,"-")},gu=rc("config-url"),vu=gu||"",bu=rc("user-data"),yu=bu||"",wu=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||v,xu=p(h({simplewebrtc:Zi}),{simplewebrtc:{}},wu(b(x)));window.store=xu,window.actions=Oi,window.selectors=rr,setTimeout(function(){window.location.reload(!0)},432e5);t.default={run:function(e){var t=e.roomName,n=e.root,r=e.gridPlaceholder,i=e.haircheckHeaderPlaceholder,o=e.emptyRosterPlaceholder,a=e.homepagePlaceholder;vu.endsWith("YOUR_API_KEY")?Tt.a.render(Te.a.createElement("div",{className:"container",style:{textAlign:"left"}},Te.a.createElement("h1",null,"Configuration Setup Needed:"),Te.a.createElement("p",null,"Edit ",Te.a.createElement("code",null,"public/index.html")," to add your API key to the configuration URL."),Te.a.createElement("p",null,"Visit ",Te.a.createElement("a",{href:"https://simplewebrtc.com"},"simplewebrtc.com")," to sign up and get an API key."),Te.a.createElement("h2",null,"How to set your API key:"),Te.a.createElement("p",null,"See the meta tag section marked ",Te.a.createElement("code",null,"IMPORTANT SETUP")," in ",Te.a.createElement("code",null,"public/index.html"),":"),Te.a.createElement("pre",{style:{textAlign:"left"}},"\x3c!-- IMPORTANT SETUP --\x3e",Te.a.createElement("br",null),"\x3c!-- Change the YOUR_API_KEY section of the config URL to match your API key --\x3e",Te.a.createElement("br",null),'<meta\n  name="simplewebrtc-config-url"\n  content="https://api.simplewebrtc.com/config/guest/YOUR_API_KEY"\n/>')),n):Tt.a.render(Te.a.createElement(Le,{store:xu},Te.a.createElement(cu,{roomName:t,configUrl:vu,userData:yu,gridPlaceholder:r||null,haircheckHeaderPlaceholder:i||null,emptyRosterPlaceholder:o||null,homepagePlaceholder:a||null})),n)},loadTemplate:function(e){var t=document.getElementById(e);return null!==t&&"TEMPLATE"===t.nodeName?document.importNode(t.content,!0):null},randomRoomName:mu}}]).default;